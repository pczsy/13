<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修C# 中的栈和堆' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>C# 中的栈和堆</center></div><div class='banquan'>原文出处:本文由博客园博主Vin&#176;提供。<br/>
原文连接:https://www.cnblogs.com/vin-c/p/12043984.html</div><br>
    <p>程序运行时，它的数据必须存储在内存中。一个数据项需要多大的内存、存储在内存中的什么位置、以及如何存储都依赖于该数据项的类型。</p>
<p>运行中的程序使用两个内存区域来存储数据：栈和堆。</p>
<h2 id="栈">栈</h2>
<p>栈是一个内存数组，是一个 LIFO （Last-In First-Out，后进先出）的数据结构。栈存储几种类型的数据：</p>
<ul>
<li>某些类型变量的值</li>
<li>程序当前的执行环境</li>
<li>传递给方法的参数</li>
</ul>
<p>系统管理所有的栈操作。作为程序员，你不需要显式地对它做任何事情。但了解栈的基本功能可以更好地了解程序在运行时正在做什么。</p>
<p><strong>提示：</strong> 栈也经常被称为堆栈，而堆依然称为堆，所以堆栈这个概念并不包含堆，大家要注意区分。</p>
<h3 id="栈的特征">栈的特征</h3>
<p>栈有如下几个普遍特征：</p>
<ul>
<li>数据只能从栈的顶端插人和删除</li>
<li>把数据放到栈顶称为入栈（push）</li>
<li>从栈顶删除数据称为出栈（pop）</li>
</ul>
<figure>
  <a href="./images/C# 中的栈和堆0.png" target="_blank"><img src="./images/C# 中的栈和堆0.png"></a>
  <figcaption>入栈和出栈</figcaption>
</figure>
<h2 id="堆">堆</h2>
<p>堆是一块内存区域，在堆里可以分配大块的内存用于存储某类型的数据对象。与栈不同，堆里的内存能够以任意顺序存人和移除。下图展示了一个在堆里放了 4 项数据的程序。</p>
<figure>
  <a href="./images/C# 中的栈和堆1.png" target="_blank"><img src="./images/C# 中的栈和堆1.png"></a>
  <figcaption>内存堆</figcaption>
</figure>
<p>虽然程序可以在堆里保存数据，但并不能显式地删除它们。CLR 的自动 GC（Garbage Collector，垃圾收集器）在判断出程序的代码将不会再访问某数据项时，自动清除无主的堆对象。我们因此可以不再操心这项使用 C 编程语言时非常容易出错的工作了。下图阐明了垃圾收集过程。</p>
<figure>
  <a href="./images/C# 中的栈和堆2.png" target="_blank"><img src="./images/C# 中的栈和堆2.png"></a>
  <figcaption>堆中的自动垃圾收集器</figcaption>
</figure>
<h2 id="总结">总结</h2>
<p>本篇介绍了栈和堆最最最基本的概念，主要是为下一篇（地址：<a href="https://www.vinanysoft.com/c-sharp-basics/data-types/categories-of-types/" class="uri">https://www.vinanysoft.com/c-sharp-basics/data-types/categories-of-types/</a>）介绍值类型和引用类型打基础。</p>

</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>