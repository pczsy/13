<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修C# 中的 bool、char 和 string 类型' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>C# 中的 bool、char 和 string 类型</center></div><div class='banquan'>原文出处:本文由博客园博主Vin&#176;提供。<br/>
原文连接:https://www.cnblogs.com/vin-c/p/12043969.html</div><br>
    <p>上一篇（地址：<a href="https://www.vinanysoft.com/c-sharp-basics/data-types/fundamental-numeric-types/" class="uri">https://www.vinanysoft.com/c-sharp-basics/data-types/fundamental-numeric-types/</a>）只介绍了基本数值类型，本篇将介绍其他的一些类型： <code>bool</code>、<code>char</code> 和 <code>string</code>。</p>
<h2 id="布尔类型bool">布尔类型（<code>bool</code>）</h2>
<p><code>bool</code> 关键字是 <code>System.Boolean</code> 的别名。 它用于声明变量来存储布尔值：<code>true</code> 和 <code>false</code>。</p>
<p>可将布尔值赋给 <code>bool</code> 变量。 也可以将计算结果为 <code>bool</code> 类型的表达式赋给 <code>bool</code> 变量。</p>
<pre><code><code>public class BoolTest
{
    static void Main()
    {
        bool b = true;

        // WriteLine automatically converts the value of b to text.
        Console.WriteLine(b);

        int days = DateTime.Now.DayOfYear;


        // Assign the result of a boolean expression to b.
        b = (days % 2 == 0);

        // Branch depending on whether b is true or false.
        if (b)
        {
            Console.WriteLine(&quot;days is an even number&quot;);
        }
        else
        {
            Console.WriteLine(&quot;days is an odd number&quot;);
        }   
    }
}
/* Output:
  True
  days is an &lt;even/odd&gt; number
*/</code></pre>
<p>虽然理论上一个二进制位足以容纳一个布尔类型的值，但 <code>bool</code> 实际大小是一个字节。</p>
<h2 id="字符类型char">字符类型（<code>char</code>）</h2>
<p><code>char</code> 类型关键字是 <code>System.Char</code> 结构类型的别名，它表示 <code>Unicode UTF-16</code> 字符：</p>
<table>
<thead>
<tr class="header">
<th>类型</th>
<th>范围</th>
<th>大小</th>
<th>.NET 类型</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>char</td>
<td>U+0000 到 U+FFFF</td>
<td>16 位</td>
<td>System.Char</td>
</tr>
</tbody>
</table>
<p>输入 <code>char</code> 字面量需要将字符放到一对单引号中，比如 <code>'A'</code>。所有键盘字符都可这样输入，包括字母、数字以及特殊符号。</p>
<p>有的字符不能直接插入源代码，需进行特殊处理。首先输入反斜杠（<code>\</code>）前缀，再跟随一个特殊字符代码。反斜杠和特殊字符代码统称为转义序列（escape sequence）。</p>
<p>例如，<code>\n</code> 代表换行符，而 <code>\t</code> 代表制表符。由于反斜杠标志转义序列开始，所以要用 <code>\\</code> 表示反斜杠字符。</p>
<pre><code><code>Console.Write(&quot;\&#39;&quot;);    //输出单引号（&#39;）
Console.Write(&quot;\\&quot;);    //输出反斜杠（\）</code></pre>
<p><code>char</code> 类型字面量可以输入字符、十六进制转义序列或 Unicode 表示形式。 也可以将整型字面量强制转换为相应的 <code>char</code> 值。 在下面的示例中，使用相同的字符 <code>X</code> 对 <code>char</code> 数组的四个元素进行初始化：</p>
<pre><code><code>var chars = new char[4];

chars[0] = &#39;X&#39;;        // Character literal
chars[1] = &#39;\x0058&#39;;   // Hexadecimal
chars[2] = (char)88;   // Cast from integral type
chars[3] = &#39;\u0058&#39;;   // Unicode

Console.Write(string.Join(&quot; &quot;, chars));
// Output: X X X X</code></pre>
<p>下表列出了字符串转义序列：</p>
<table>
<thead>
<tr class="header">
<th>转义序列</th>
<th>字符名称</th>
<th>Unicode 编码</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>\'</code></td>
<td>单引号</td>
<td>0x0027</td>
</tr>
<tr class="even">
<td><code>\&quot;</code></td>
<td>双引号</td>
<td>0x0022</td>
</tr>
<tr class="odd">
<td><code>\\</code></td>
<td>反斜杠</td>
<td>0x005C</td>
</tr>
<tr class="even">
<td><code>\0</code></td>
<td>null</td>
<td>0x0000</td>
</tr>
<tr class="odd">
<td><code>\a</code></td>
<td>警报</td>
<td>0x0007</td>
</tr>
<tr class="even">
<td><code>\b</code></td>
<td>退格</td>
<td>0x0008</td>
</tr>
<tr class="odd">
<td><code>\f</code></td>
<td>换页</td>
<td>0x000C</td>
</tr>
<tr class="even">
<td><code>\n</code></td>
<td>换行</td>
<td>0x000A</td>
</tr>
<tr class="odd">
<td><code>\r</code></td>
<td>回车</td>
<td>0x000D</td>
</tr>
<tr class="even">
<td><code>\t</code></td>
<td>水平制表符</td>
<td>0x0009</td>
</tr>
<tr class="odd">
<td><code>\v</code></td>
<td>垂直制表符</td>
<td>0x000B</td>
</tr>
<tr class="even">
<td><code>\u</code></td>
<td>Unicode 转义序列 (UTF-16)</td>
<td>\uHHHH（范围：0000 - FFFF；示例：\u00E7 =“ç”）</td>
</tr>
<tr class="odd">
<td><code>\U</code></td>
<td>Unicode 转义序列 (UTF-32)</td>
<td>\U00HHHHHH（范围：000000 - 10FFFF；示例：\U0001F47D =“👽”)</td>
</tr>
<tr class="even">
<td><code>\x</code></td>
<td>除长度可变外，Unicode 转义序列与“\u”类似</td>
<td>\xH[H][H][H]（范围：0 - FFFF；示例：\x00E7、\x0E7 或 \xE7 =“ç”）</td>
</tr>
</tbody>
</table>
<h2 id="字符串">字符串</h2>
<p>零个或多个 <code>Unicode</code> 字符的序列称为字符串，C# 的基本字符串类型是 <code>string</code>，<code>string</code> 是 <code>System.String</code> 在 .NET 中的别名。</p>
<h3 id="字面量">字面量</h3>
<p>为了将字面量字符串输入代码中，要将文本放入双引号（<code>&quot;</code>）内。字符串由字符构成，所以转义序列可嵌入字符串内。</p>
<pre><code><code>using System;

namespace ConsoleApp
{
    class Program
    {
        static void Main(string[] args)
        {
            Console.WriteLine(&quot;这是一个字符串&quot;);
            Console.WriteLine(&quot;这里使用\\n来换行\n这是第二行&quot;);
        }
    }
}</code></pre>
<p>输出</p>
<pre><code><code>这是一个字符串
这里使用\n来换行
这是第二行</code></pre>
<p>C# 允许在字符串前使用 <code>@</code> 符号，指明转义序列不被处理。结果是一个逐字字符串字面量（verbatim string literal），它不仅将反斜杠当作普通字符，还会逐字解释所有空白字符。</p>
<pre><code><code>using System;

namespace ConsoleApp
{
    class Program
    {
        static void Main(string[] args)
        {
            Console.WriteLine(@&quot;开始
                                /\
                               /  \
                              /    \
                             /      \
                             --------
结束&quot;);
        }
    }
}</code></pre>
<p>输出</p>
<pre><code><code>开始
                                /\
                               /  \
                              /    \
                             /      \
                             --------
结束</code></pre>
<h3 id="字符串插值">字符串插值</h3>
<p>从 C# 6 开始，可以使用 <code>$</code> 特殊字符将字符串文本标识为内插字符串。内插字符串是可能包含内插表达式的字符串文本。将内插字符串解析为结果字符串时，带有内插表达式的项会替换为表达式结果的字符串表示形式。</p>
<pre><code><code>using System;

namespace ConsoleApp
{
    class Program
    {
        static void Main(string[] args)
        {
            string name = &quot;Mark&quot;;
            var date = DateTime.Now;
            
            Console.WriteLine($&quot;Hello, {name}! Today is {date.DayOfWeek}, it&#39;s {date:HH:mm} now.&quot;);
        }
    }
}</code></pre>
<p>输出</p>
<pre><code><code>Hello, Mark! Today is Monday, it&#39;s 10:33 now.</code></pre>
<h4 id="字符串插值内部工作原理">字符串插值内部工作原理</h4>
<p>字符串插值是调用 <code>string.Format()</code> 方法的语法糖。例如以下语句：</p>
<pre><code><code>Console.WriteLine($&quot;Hello, {name}! Today is {date.DayOfWeek}, it&#39;s {date:HH:mm} now.&quot;);</code></pre>
<p>会被转换成以下形式的 C# 代码：</p>
<pre><code><code>object[] args = { name, date, time };
Console.WriteLine(string.Format(&quot;Hello, {0}! Today is {1}, it&#39;s {2} now.&quot;, args));</code></pre>
<h3 id="字符串格式化">字符串格式化</h3>
<p>无论使用 <code>string.Format()</code> 还是 C# 6.0 字符串插值来构造复杂格式的字符串，都可通过一组覆盖面广和复杂的格式化模式来显示数字、日期、时间、时间段等。例如，给定 <code>decimal</code> 类型的 <code>price</code> 变量，则 <code>string.Format(&quot;{ 0,20:C2}&quot;,price)</code> 或等价的插值字符串 <code>$&quot;{ price,20:C2}&quot;</code> 都使用默认的货币格式化规则将 <code>decimal</code> 值转换成字符串。</p>
<p>即添加本地货币符号，小数点后四舍五入保留两位，整个字符串在 <code>20</code> 个字符的宽度内右对齐（要左对齐就为 <code>20</code> 添加负号。另外，宽度不够只好超出）。</p>
<p>因篇幅有限，无法详细讨论所有可能的格式字符串，请在 MSDN 文档中查阅 <code>string.Format()</code> 获取格式字符串的完整列表。</p>
<p><code>string.Format()</code> 的链接地址：<a href="https://docs.microsoft.com/zh-cn/dotnet/api/system.string.format?view=netcore-3.0" target="_blank" title="string.Format()"><code>https://docs.microsoft.com/zh-cn/dotnet/api/system.string.format?view=netcore-3.0</code></a></p>
<h3 id="换行符">换行符</h3>
<p>输出换行所需的字符由操作系统决定。Microsoft Windows 的换行符是 <code>\r</code> 和 <code>\n</code> 这两个字符的组合，UNIX 则是单个 <code>\n</code>。 为消除平台之间的不一致，一个办法是使用 <code>System.Console.WriteLine()</code> 自动输出空行。</p>
<p>为确保跨平台兼容性，可用 <code>System.Environment.NewLine</code> 代表换行符。换言之，<code>System.Console.WriteLine(&quot;Hello World&quot;)</code> 和 <code>System.Console.Write(&quot;Hello World&quot;+ System.Environment.NewLine)</code> 等价。</p>
<p>注意在 Windows 上，<code>System.WriteLine()</code> 和 <code>System.Console.Write(System.Environment.NewLine)</code> 等价于 <code>System.Console.Write(&quot;\r\n&quot;)</code> 而非 <code>System.Console.Write(&quot;\n&quot;)</code>。</p>
<p>总之，要依赖 <code>System.WriteLine()</code> 和 <code>System.Environment.NewLine</code> 而不是 <code>\n</code> 来确保跨平台兼容。</p>
<h3 id="字符串不可变">字符串不可变</h3>
<p><code>string</code> 类型的一个关键特征是它不可变（immutable）。可为 <code>string</code> 变量赋一个全新的值，但出于性能考虑，没有提供修改现有字符串内容的机制。</p>
<p>所以，不可能在同一个内存位置将字符串中的字母全部转换为大写。只能在其他内存位置新建字符串，让它成为旧字符串大写字母版本，旧字符串在这个过程中不会被修改，如果没人引用它，会被垃圾回收。</p>
<pre><code><code>public static void Main()
{
    string text=&quot;abcdefg&quot;;

    //UNEXPECTED: Does not convert text to uppercase
    text.ToUpper();

    System.Console.WriteLine(text);
}</code></pre>
<p>输出</p>
<pre><code><code>abcdefg</code></pre>
<p>从表面上看，<code>text.ToUpper()</code> 似乎应该将 <code>text</code> 中的字符转换成大写。但由于 <code>string</code> 类型不可变，所以 <code>text.ToUpper()</code> 不会进行这样的修改。</p>
<p>相反，<code>text.ToUpper()</code> 会返回新字符串，它需要保存到变量中，或直接传给 <code>System.Console.WriteLine()</code>。</p>
<p>正确的字符串处理：</p>
<pre><code><code>public static void Main()
{
    string text=&quot;abcdefg&quot;;

    // Return a new string in uppercase
    string uppercase = text.ToUpper();

    System.Console.WriteLine(uppercase);
}</code></pre>
<p>输出</p>
<pre><code><code>ABCDEFG</code></pre>
<h3 id="system.text.stringbuilder"><code>System.Text.StringBuilder</code></h3>
<p>如有大量字符串需要修改，比如要经历多个步骤来构造一个长字符串，可考虑使用 <code>System.Text.StringBuilder</code> 类型而不是 <code>string</code>。</p>
<p><code>StringBuilder</code> 包含 <code>Append()</code>、<code>AppendFormat()</code>、<code>Insert()</code>、<code>Remove()</code> 和 <code>Replace()</code> 等方法。虽然 <code>string</code> 也提供了其中一些方法，但两者关键的区别在于，在 <code>StringBuilder</code> 上，这些方法会修改 StringBuilder 本身中的数据，而不是返回新字符串。</p>
<h2 id="总结">总结</h2>
<p><code>bool</code> 类型在条件语句和表达式中表示<strong>真</strong>或<strong>假</strong>。允许的值是 <code>true</code> 和 <code>false</code>。</p>
<p><code>char</code> 类型表示值介于 0 到 65535 之间的 16 位无符号整数。<code>char</code> 类型的值对应于 Unicode 字符集。</p>
<p>零个或多个字符的有限序列称为字符串。允许使用逐字前缀 <code>@</code> 指明转义序列不被处理，允许用 <code>$</code> 前缀进行字符串插值。 最后， <code>string</code> 是一种“不可变” 类型。</p>

</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>