<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修两数相加（C#数据结构和算法练习）' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>两数相加（C#数据结构和算法练习）</center></div><div class='banquan'>原文出处:本文由博客园博主AsahiLock提供。<br/>
原文连接:https://www.cnblogs.com/asahiLikka/p/11668159.html</div><br>
    <h1>两数相加</h1>
<p>给出两个&nbsp;非空 的链表用来表示两个非负的整数。其中，它们各自的位数是按照&nbsp;逆序&nbsp;的方式存储的，并且它们的每个节点只能存储&nbsp;一位&nbsp;数字。</p>
<p>如果，我们将这两个数相加起来，则会返回一个新的链表来表示它们的和。</p>
<p>您可以假设除了数字 0 之外，这两个数都不会以 0&nbsp;开头。</p>
<p>示例：</p>
<p>输入：(2 -&gt; 4 -&gt; 3) + (5 -&gt; 6 -&gt; 4)<br />
输出：7 -&gt; 0 -&gt; 8<br />
原因：342 + 465 = 807</p>
<p>来源：力扣（LeetCode）<br />
链接：<a href="https://leetcode-cn.com/problems/add-two-numbers" target="_blank">https://leetcode-cn.com/problems/add-two-numbers</a><br />
著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。</p>
<p><em>算法思路和官方相同，但就语句而言或许可以进一步优化</em><br />
关键代码：</p>
<div class="cnblogs_code">
<pre><code>            ListNode result= <span style="color: #0000ff;">new</span> ListNode(<span style="color: #800080;">0</span>);      <span style="color: #008000;">//</span><span style="color: #008000;">当前节点，进行迭代</span>
            ListNode head = result;                <span style="color: #008000;">//</span><span style="color: #008000;">头节点</span>
            <span style="color: #0000ff;">int</span> next = <span style="color: #800080;">0</span>;                          <span style="color: #008000;">//</span><span style="color: #008000;">若相加大于10进位则next==1</span>
            <span style="color: #0000ff;">while</span> (l1 != <span style="color: #0000ff;">null</span> || l2 != <span style="color: #0000ff;">null</span><span style="color: #000000;">)
            {
                </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> value1, value2;
                </span><span style="color: #0000ff;">if</span> (l1 == <span style="color: #0000ff;">null</span>)                   <span style="color: #008000;">//</span><span style="color: #008000;">当l1或l2为空时，假设值为0</span>
                    value1 = <span style="color: #800080;">0</span><span style="color: #000000;">;
                </span><span style="color: #0000ff;">else</span><span style="color: #000000;">
                    value1 </span>=<span style="color: #000000;"> l1.val;
                </span><span style="color: #0000ff;">if</span> (l2 == <span style="color: #0000ff;">null</span><span style="color: #000000;">)
                    value2 </span>= <span style="color: #800080;">0</span><span style="color: #000000;">;
                </span><span style="color: #0000ff;">else</span><span style="color: #000000;">
                    value2 </span>=<span style="color: #000000;"> l2.val;
                </span><span style="color: #0000ff;">int</span> temp = value1 +<span style="color: #000000;"> value2;
                result.val </span>= temp +<span style="color: #000000;"> next;
                </span><span style="color: #0000ff;">if</span> (result.val &lt; <span style="color: #800080;">10</span>)             <span style="color: #008000;">//</span><span style="color: #008000;">判断是否进位</span>
<span style="color: #000000;">                {
                    next </span>= <span style="color: #800080;">0</span><span style="color: #000000;">;
                }
                </span><span style="color: #0000ff;">else</span><span style="color: #000000;">
                {
                    result.val </span>= result.val - <span style="color: #800080;">10</span><span style="color: #000000;">;
                    next </span>= <span style="color: #800080;">1</span><span style="color: #000000;">;
                }
                </span><span style="color: #0000ff;">if</span> (l1 != <span style="color: #0000ff;">null</span>)                   <span style="color: #008000;">//</span><span style="color: #008000;">l1和l2不为空时迭代</span>
                    l1 =<span style="color: #000000;"> l1.next;
                </span><span style="color: #0000ff;">if</span> (l2 != <span style="color: #0000ff;">null</span><span style="color: #000000;">)
                    l2 </span>=<span style="color: #000000;"> l2.next;
                </span><span style="color: #0000ff;">if</span> (l1 == <span style="color: #0000ff;">null</span> &amp;&amp; l2 == <span style="color: #0000ff;">null</span>)     <span style="color: #008000;">//</span><span style="color: #008000;">同时为空时结束，避免下方语句进行使得结果错误</span>
                    <span style="color: #0000ff;">break</span><span style="color: #000000;">;
                result.next </span>= <span style="color: #0000ff;">new</span> ListNode(<span style="color: #800080;">0</span><span style="color: #000000;">);
                result </span>=<span style="color: #000000;"> result.next;
            }
            </span><span style="color: #0000ff;">if</span> (next == <span style="color: #800080;">1</span>)                        <span style="color: #008000;">//</span><span style="color: #008000;">出现进位但l1和l2下一数字都为0时上述循环无法进行，做特殊处理</span>
<span style="color: #000000;">            {
                result.next </span>= <span style="color: #0000ff;">new</span> ListNode(<span style="color: #800080;">1</span><span style="color: #000000;">);
            }
            </span><span style="color: #0000ff;">return</span> head;</pre>
</div>
<p>&nbsp;</p>
<p>完整代码：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">using</span><span style="color: #000000;"> System;
</span><span style="color: #0000ff;">namespace</span><span style="color: #000000;"> numAdd
{
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> ListNode
    {
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">int</span><span style="color: #000000;"> val;
    </span><span style="color: #0000ff;">public</span><span style="color: #000000;"> ListNode next;
    </span><span style="color: #0000ff;">public</span> ListNode(<span style="color: #0000ff;">int</span> x) { val =<span style="color: #000000;"> x; }
    }
    </span><span style="color: #0000ff;">class</span><span style="color: #000000;"> Program
    {
        </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span><span style="color: #000000;"> ListNode AddTwonumbers(ListNode l1, ListNode l2)
        {
            ListNode result</span>= <span style="color: #0000ff;">new</span> ListNode(<span style="color: #800080;">0</span>);      <span style="color: #008000;">//</span><span style="color: #008000;">当前节点，进行迭代</span>
            ListNode head = result;                <span style="color: #008000;">//</span><span style="color: #008000;">头节点</span>
            <span style="color: #0000ff;">int</span> next = <span style="color: #800080;">0</span>;                          <span style="color: #008000;">//</span><span style="color: #008000;">若相加大于10进位则next==1</span>
            <span style="color: #0000ff;">while</span> (l1 != <span style="color: #0000ff;">null</span> || l2 != <span style="color: #0000ff;">null</span><span style="color: #000000;">)
            {
                </span><span style="color: #0000ff;">int</span><span style="color: #000000;"> value1, value2;
                </span><span style="color: #0000ff;">if</span> (l1 == <span style="color: #0000ff;">null</span>)                   <span style="color: #008000;">//</span><span style="color: #008000;">当l1或l2为空时，假设值为0</span>
                    value1 = <span style="color: #800080;">0</span><span style="color: #000000;">;
                </span><span style="color: #0000ff;">else</span><span style="color: #000000;">
                    value1 </span>=<span style="color: #000000;"> l1.val;
                </span><span style="color: #0000ff;">if</span> (l2 == <span style="color: #0000ff;">null</span><span style="color: #000000;">)
                    value2 </span>= <span style="color: #800080;">0</span><span style="color: #000000;">;
                </span><span style="color: #0000ff;">else</span><span style="color: #000000;">
                    value2 </span>=<span style="color: #000000;"> l2.val;
                </span><span style="color: #0000ff;">int</span> temp = value1 +<span style="color: #000000;"> value2;
                result.val </span>= temp +<span style="color: #000000;"> next;
                </span><span style="color: #0000ff;">if</span> (result.val &lt; <span style="color: #800080;">10</span>)             <span style="color: #008000;">//</span><span style="color: #008000;">判断是否进位</span>
<span style="color: #000000;">                {
                    next </span>= <span style="color: #800080;">0</span><span style="color: #000000;">;
                }
                </span><span style="color: #0000ff;">else</span><span style="color: #000000;">
                {
                    result.val </span>= result.val - <span style="color: #800080;">10</span><span style="color: #000000;">;
                    next </span>= <span style="color: #800080;">1</span><span style="color: #000000;">;
                }
                </span><span style="color: #0000ff;">if</span> (l1 != <span style="color: #0000ff;">null</span>)                   <span style="color: #008000;">//</span><span style="color: #008000;">l1和l2不为空时迭代</span>
                    l1 =<span style="color: #000000;"> l1.next;
                </span><span style="color: #0000ff;">if</span> (l2 != <span style="color: #0000ff;">null</span><span style="color: #000000;">)
                    l2 </span>=<span style="color: #000000;"> l2.next;
                </span><span style="color: #0000ff;">if</span> (l1 == <span style="color: #0000ff;">null</span> &amp;&amp; l2 == <span style="color: #0000ff;">null</span>)     <span style="color: #008000;">//</span><span style="color: #008000;">同时为空时结束，避免下方语句进行使得结果错误</span>
                    <span style="color: #0000ff;">break</span><span style="color: #000000;">;
                result.next </span>= <span style="color: #0000ff;">new</span> ListNode(<span style="color: #800080;">0</span><span style="color: #000000;">);
                result </span>=<span style="color: #000000;"> result.next;
            }
            </span><span style="color: #0000ff;">if</span> (next == <span style="color: #800080;">1</span>)                        <span style="color: #008000;">//</span><span style="color: #008000;">出现进位但l1和l2下一数字都为0时上述循环无法进行，做特殊处理</span>
<span style="color: #000000;">            {
                result.next </span>= <span style="color: #0000ff;">new</span> ListNode(<span style="color: #800080;">1</span><span style="color: #000000;">);
            }
            </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> head;
        }
        </span><span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span> Main(<span style="color: #0000ff;">string</span>[] args)          <span style="color: #008000;">//</span><span style="color: #008000;">简单测试</span>
<span style="color: #000000;">        {
            ListNode l1 </span>= <span style="color: #0000ff;">new</span> ListNode(<span style="color: #800080;">9</span><span style="color: #000000;">);
            l1.next </span>= <span style="color: #0000ff;">new</span> ListNode(<span style="color: #800080;">9</span><span style="color: #000000;">);
            </span><span style="color: #008000;">//</span><span style="color: #008000;">l1.next.next = new ListNode(3);</span>
<span style="color: #000000;">
            ListNode l2 </span>= <span style="color: #0000ff;">new</span> ListNode(<span style="color: #800080;">1</span><span style="color: #000000;">);
            </span><span style="color: #008000;">//</span><span style="color: #008000;">l1.next = new ListNode(6);
            </span><span style="color: #008000;">//</span><span style="color: #008000;">l1.next.next = new ListNode(4);</span>
<span style="color: #000000;">
            ListNode l3 </span>=<span style="color: #000000;"> AddTwonumbers(l1, l2);
            </span><span style="color: #0000ff;">while</span> (l3 != <span style="color: #0000ff;">null</span><span style="color: #000000;">)
            {
                Console.WriteLine(l3.val);
                l3 </span>=<span style="color: #000000;"> l3.next;
            }
        }
    }
}</span></pre>
</div>
<div>
<p>算法</p>
<p>从最低一位开始相加，大于9则进位处理，直至到最后处理完成</p>
<p><strong>以下特别情况要特别注意：</strong></p>
<table>
<thead>
<tr><th>测试用例</th><th>说明</th></tr>
</thead>
<tbody>
<tr>
<td>l1=[0,1]，l2=[0,1,2]l2=[0,1,2]</td>
<td>当一个列表比另一个列表长时</td>
</tr>
<tr>
<td>l1=[]，l2=[0,1]l2=[0,1]</td>
<td>当一个列表为空时，即出现空列表</td>
</tr>
<tr>
<td>l1=[9,9]，l2=[1]l2=[1]</td>
<td>求和运算最后可能出现额外的进位，这一点很容易被遗忘</td>
</tr>
</tbody>
</table>
</div>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>