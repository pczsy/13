<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修Winform中DevExpress的TreeList的入门使用教程（附源码下载）' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>Winform中DevExpress的TreeList的入门使用教程（附源码下载）</center></div><div class='banquan'>原文出处:本文由博客园博主霸道流氓提供。<br/>
原文连接:https://www.cnblogs.com/badaoliumangqizhi/p/11412053.html</div><br>
    <h1>场景</h1>
<p>Winform控件-DevExpress18下载安装注册以及在VS中使用：</p>
<p><a href="https://blog.csdn.net/BADAO_LIUMANG_QIZHI/article/details/100061243">https://blog.csdn.net/BADAO_LIUMANG_QIZHI/article/details/100061243</a></p>
<p>在上面安装完DevExpress的基础上使用其Treelist控件。</p>
<p>然后就可以新建数据源的List，并赋值给TreeList。</p>
<h2>效果</h2>
<p><img src="./images/Winform中DevExpress的TreeList的入门使用教程（附源码下载）0.png" alt="" /></p>
<p>&nbsp;</p>
<p><img alt="" /></p>
<h1>实现</h1>
<p>新建Winform程序，然后拖拽一个TreeList</p>
<p><img src="./images/Winform中DevExpress的TreeList的入门使用教程（附源码下载）2.png" alt="" width="760" height="314" /></p>
<p>&nbsp;</p>
<p>新建数据源类TreeNode</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">using</span><span style="color: #000000;"> System;
</span><span style="color: #0000ff;">using</span><span style="color: #000000;"> System.Collections.Generic;
</span><span style="color: #0000ff;">using</span><span style="color: #000000;"> System.Linq;
</span><span style="color: #0000ff;">using</span><span style="color: #000000;"> System.Text;
</span><span style="color: #0000ff;">using</span><span style="color: #000000;"> System.Threading.Tasks;

</span><span style="color: #0000ff;">namespace</span><span style="color: #000000;"> DevExpressSimple
{
    </span><span style="color: #0000ff;">class</span><span style="color: #000000;"> TreeNode
    {
        </span><span style="color: #008000;">//</span><span style="color: #008000;">标识Id</span>
        <span style="color: #0000ff;">private</span> <span style="color: #0000ff;">string</span><span style="color: #000000;"> id;
        </span><span style="color: #008000;">//</span><span style="color: #008000;">父级节点ID</span>
        <span style="color: #0000ff;">private</span> <span style="color: #0000ff;">string</span><span style="color: #000000;"> parentId;
        </span><span style="color: #008000;">//</span><span style="color: #008000;">节点显示文本</span>
        <span style="color: #0000ff;">private</span> <span style="color: #0000ff;">string</span><span style="color: #000000;"> nodeText;

        </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">string</span><span style="color: #000000;"> NodeText
        {
            </span><span style="color: #0000ff;">get</span> { <span style="color: #0000ff;">return</span><span style="color: #000000;"> nodeText; }
            </span><span style="color: #0000ff;">set</span> { nodeText =<span style="color: #000000;"> value; }
        }
        </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">string</span><span style="color: #000000;"> ParentId
        {
            </span><span style="color: #0000ff;">get</span> { <span style="color: #0000ff;">return</span><span style="color: #000000;"> parentId; }
            </span><span style="color: #0000ff;">set</span> { parentId =<span style="color: #000000;"> value; }
        }
       
        </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">string</span><span style="color: #000000;"> Id
        {
            </span><span style="color: #0000ff;">get</span> { <span style="color: #0000ff;">return</span><span style="color: #000000;"> id; }
            </span><span style="color: #0000ff;">set</span> { id =<span style="color: #000000;"> value; }
        }
    }
}</span></pre>
</div>
<p>&nbsp;</p>
<p>双击窗体进入窗体的加载事件中。</p>
<p>&nbsp;</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">private</span> <span style="color: #0000ff;">void</span> Form1_Load(<span style="color: #0000ff;">object</span><span style="color: #000000;"> sender, EventArgs e)
        {
          
        
            </span><span style="color: #0000ff;">string</span> keyFieldName = <span style="color: #800000;">"</span><span style="color: #800000;">Id</span><span style="color: #800000;">"</span><span style="color: #000000;">;
            </span><span style="color: #0000ff;">string</span> parentFieldName = <span style="color: #800000;">"</span><span style="color: #800000;">ParentId</span><span style="color: #800000;">"</span><span style="color: #000000;">;
            </span><span style="color: #008000;">//</span><span style="color: #008000;">新建list数据源</span>
            List&lt;TreeNode&gt; data = <span style="color: #0000ff;">new</span> List&lt;TreeNode&gt;<span style="color: #000000;">();
            data.Add(</span><span style="color: #0000ff;">new</span> TreeNode() { Id = <span style="color: #800000;">"</span><span style="color: #800000;">root</span><span style="color: #800000;">"</span>, ParentId = String.Empty, NodeText = <span style="color: #800000;">"</span><span style="color: #800000;">测试1</span><span style="color: #800000;">"</span><span style="color: #000000;"> });
            data.Add(</span><span style="color: #0000ff;">new</span> TreeNode() { Id = <span style="color: #800000;">"</span><span style="color: #800000;">first</span><span style="color: #800000;">"</span>, ParentId = <span style="color: #800000;">"</span><span style="color: #800000;">root</span><span style="color: #800000;">"</span>, NodeText = <span style="color: #800000;">"</span><span style="color: #800000;">测试2</span><span style="color: #800000;">"</span><span style="color: #000000;"> });
            </span><span style="color: #008000;">//</span><span style="color: #008000;">列</span>
            DevExpress.XtraTreeList.Columns.TreeListColumn colNode = <span style="color: #0000ff;">new</span><span style="color: #000000;"> DevExpress.XtraTreeList.Columns.TreeListColumn();
            </span><span style="color: #008000;">//</span><span style="color: #008000;">设置名字</span>
            colNode.Name = <span style="color: #800000;">"</span><span style="color: #800000;">名字</span><span style="color: #800000;">"</span><span style="color: #000000;">;
            </span><span style="color: #008000;">//</span><span style="color: #008000;">设置标题</span>
            colNode.Caption = <span style="color: #800000;">"</span><span style="color: #800000;">标题</span><span style="color: #800000;">"</span><span style="color: #000000;">;
            </span><span style="color: #008000;">//</span><span style="color: #008000;">设置从数据源分配给当前列的字段名。</span>
            colNode.FieldName = <span style="color: #800000;">"</span><span style="color: #800000;">NodeText</span><span style="color: #800000;">"</span><span style="color: #000000;">;
            </span><span style="color: #008000;">//</span><span style="color: #008000;">设置树列表中显示当前列的位置。</span>
            colNode.VisibleIndex = <span style="color: #800080;">0</span><span style="color: #000000;">;
            </span><span style="color: #008000;">//</span><span style="color: #008000;">是否可见</span>
            colNode.Visible = <span style="color: #0000ff;">true</span><span style="color: #000000;">;
            </span><span style="color: #008000;">//</span><span style="color: #008000;">是否允许编辑</span>
            colNode.OptionsColumn.AllowEdit = <span style="color: #0000ff;">false</span><span style="color: #000000;">;
            </span><span style="color: #008000;">//</span><span style="color: #008000;">是否允许移动    </span>
            colNode.OptionsColumn.AllowMove = <span style="color: #0000ff;">false</span><span style="color: #000000;">;
            </span><span style="color: #008000;">//</span><span style="color: #008000;">是否允许移动至自定义窗体     </span>
            colNode.OptionsColumn.AllowMoveToCustomizationForm = <span style="color: #0000ff;">false</span><span style="color: #000000;">;
            </span><span style="color: #008000;">//</span><span style="color: #008000;">是否允许排序</span>
            colNode.OptionsColumn.AllowSort = <span style="color: #0000ff;">false</span><span style="color: #000000;">;
            </span><span style="color: #008000;">//</span><span style="color: #008000;">是否固定列宽         </span>
            colNode.OptionsColumn.FixedWidth = <span style="color: #0000ff;">false</span><span style="color: #000000;">;
            </span><span style="color: #008000;">//</span><span style="color: #008000;">是否只读         </span>
            colNode.OptionsColumn.ReadOnly = <span style="color: #0000ff;">true</span><span style="color: #000000;">;
            </span><span style="color: #008000;">//</span><span style="color: #008000;">移除列后是否允许在自定义窗体中显示</span>
            colNode.OptionsColumn.ShowInCustomizationForm = <span style="color: #0000ff;">true</span><span style="color: #000000;">;           
            </span><span style="color: #008000;">//</span><span style="color: #008000;">先清除列</span>
            <span style="color: #0000ff;">this</span><span style="color: #000000;">.treeList1.Columns.Clear();
            </span><span style="color: #008000;">//</span><span style="color: #008000;">将列数组添加到集合的结尾。</span>
            <span style="color: #0000ff;">this</span>.treeList1.Columns.AddRange(<span style="color: #0000ff;">new</span><span style="color: #000000;"> DevExpress.XtraTreeList.Columns.TreeListColumn[] { colNode });

            </span><span style="color: #0000ff;">#region</span> 绑定数据源
            <span style="color: #008000;">//</span><span style="color: #008000;">设置属性KeyFieldName  ParentFieldName
            </span><span style="color: #008000;">//</span><span style="color: #008000;">设置一个值，该值指定绑定到XtratreeList控件的数据源的键字段</span>
            <span style="color: #0000ff;">this</span>.treeList1.KeyFieldName =<span style="color: #000000;"> keyFieldName;
            </span><span style="color: #008000;">//</span><span style="color: #008000;">设置一个值，该值表示标识此数据源中父记录的数据源字段。</span>
            <span style="color: #0000ff;">this</span>.treeList1.ParentFieldName =<span style="color: #000000;"> parentFieldName;
            </span><span style="color: #0000ff;">this</span>.treeList1.DataSource =<span style="color: #000000;"> data;
            </span><span style="color: #008000;">//</span><span style="color: #008000;">刷新数据</span>
            <span style="color: #0000ff;">this</span><span style="color: #000000;">.treeList1.RefreshDataSource();

            </span><span style="color: #0000ff;">#endregion</span><span style="color: #000000;">
          
        }</span></pre>
</div>
<p>&nbsp;</p>
<p>注：</p>
<p>1.list就是要显示的数据源，其中Id属性就是别的节点指定父节点的标志。</p>
<p>2.ParentId就是指定父节点，对应节点的Id属性，如果是根节点，则父节点为空。</p>
<p>3.NodeText就是节点要显示的文本。</p>
<p>4.给list赋值之后，还要告诉TreeList对应的关系，所以需要设置treelist的两个属性</p>
<p>KeyFiledName和ParentFiledName。其中KeyFiledName是指定绑定到控件的数据源的键字段，就是指定上面的Id，即作为节点标志的字段。</p>
<p>ParentFiledName是标志此数据 源中父记录的数据源字段。</p>
<p>5.然后还要使用TreeListColumn新建列对象，设置列相关的一些属性，还要通过FieldName指定从数据源中取哪个字段分配给这列。</p>
<p>6.更多的属性直接通过源码中查看源码属性获取。</p>
<p><img src="./images/Winform中DevExpress的TreeList的入门使用教程（附源码下载）3.png" alt="" width="604" height="307" /></p>
<p>&nbsp;</p>
<h2>源码下载</h2>
<p><a href="https://download.csdn.net/download/badao_liumang_qizhi/11614224">https://download.csdn.net/download/badao_liumang_qizhi/11614224</a></p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>