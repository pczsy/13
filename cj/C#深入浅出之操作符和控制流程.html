<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修C#深入浅出之操作符和控制流程' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>C#深入浅出之操作符和控制流程</center></div><div class='banquan'>原文出处:本文由博客园博主Lehanbal提供。<br/>
原文连接:https://www.cnblogs.com/lehanbal/p/11976900.html</div><br>
    <h2 id="操作符">操作符</h2>
<p>操作符简单举例就是生活中的+-*/等等运算符号，下面会详细讨论运算符内容。</p>
<h3 id="一元正负操作符">一元正负操作符</h3>
<p>有时候需要改变数值的正负号。一元操作符（-）可以使得数字的正负号改变。</p>
<p>例如：<code>int a = -114514</code></p>
<p>一元操作符等价于从零减去操作数。对应的也有一元操作符（+），不过这个操作符可以说是多余的。</p>
<h3 id="二元算术操作符">二元算术操作符</h3>
<p>二元操作符有： +、-、*、/、%。</p>
<p>在C#当中，只有赋值、调用、递增、递减、await和对象创建表达式才能作为独立语句使用。</p>
<p>下面分别介绍各项的作用：</p>
<ul>
<li>+：加法运算</li>
<li>-：减法运算</li>
<li>*：乘法运算</li>
<li>/：除法运算</li>
<li>%：求余运算（取模）</li>
</ul>
<p>操作符的执行顺序取决于它们的优先级和结合性。</p>
<ol>
<li>*、/、%拥有最高优先级。</li>
<li>+和-具有降低优先级。</li>
<li>=在6个操作符中优先级最低。</li>
<li>添加括号可以改变运算顺序，与数学运算一致。</li>
<li>操作数总是从左到右求值。</li>
</ol>
<h3 id="复合赋值操作符">复合赋值操作符</h3>
<p>符合赋值操作符表是将常见的二元操作符与赋值操作符结合起来。</p>
<p><code>int x =123;</code></p>
<p><code>x += 114514;</code></p>
<p>上述为复合赋值操作符用法，其他同理。</p>
<h3 id="递增和递减操作符">递增和递减操作符</h3>
<p>C#提供一种特殊的一元操作符来实现及数据的递增和递减。</p>
<p>++：为操作数加一。</p>
<p>--：为操作数减一。</p>
<p>其中需要注意的是。递增和递减操作符的前缀使用和后缀使用。</p>
<pre><code><code>int x = 114514;
System.Console.WriteLine($&quot;{x++},{++x},{x}&quot;);
//Console: 114514,114516,114516</code></pre>
<p>前缀递增显示的是递增结束后的值，而后缀递增则是显示递增开始之前的值。但是二者的<strong>最终结果都是操作数加一</strong>。</p>
<h3 id="常量表达式和常量符号">常量表达式和常量符号</h3>
<p>可用操作符将多个字面值合并到常量表达式中。</p>
<p>const关键字的作用就是声明产量符号。因为常量不可变，在后续的代码中尝试对其进行修改都会报错。</p>
<pre><code><code>const int ye = 114 * 514;
//常量表达式
const int er = ye * 2;
//常量</code></pre>
<h2 id="控制流程概述">控制流程概述</h2>
<h3 id="if语句">if语句</h3>
<p>if语句是C#最常见的语句之一。它对称为条件的布尔表达式进行求值，条件为true将执行后续语句。if语句可以有else子句，其中包含在条件为false时执行的代替语句。</p>
<pre><code><code>if(flag)
    consequence-statement
else
    alternative-statement</code></pre>
<h3 id="嵌套if">嵌套if</h3>
<p>代码有时候需要多个if语句。为了面对这个情况，if之内是可以再次声明if，进行多重嵌套。</p>
<pre><code><code>if(flag):
    codeBlock;
    if(flag1):
        codeBlock1;
            ....</code></pre>
<p>为了分清嵌套结构，代码进行缩进，空白并不影响执行路径，但是我们需要要考虑代码的可读性。</p>
<p>if/else连贯格式如下：</p>
<pre><code><code>if(input == 1)
    System.Console.WriteLine(1);
else if(input == 2)
    System.Console.WriteLine(2);
else if (input == 3)
    System.Console.WriteLine(3);
else
    System.Console.WriteLine(4);</code></pre>
<p>无论哪一种情况，都应该选择代码最易读的格式。</p>
<h2 id="代码块">代码块</h2>
<p>在前面的if语句当中，if和else之后直接跟随了一个语句。这种情况只有在执行语句只有一行的时候可以使用。</p>
<p>可用大括号将多个语句合并成代码块，以实现在符合条件时执行多个语句。如：</p>
<pre><code><code>if(input &gt;9){
    int a = 100;
    Console.WriteLine(a);
}</code></pre>
<p>建议在任何情况下，都采用后者大括号将多个语句合并成代码块的语法方式来进行代码的书写。避免不必要的语法错误，也可增加自己的代码的可读性。</p>
<h2 id="代码块作用域和声明空间">代码块、作用域和声明空间</h2>
<p><strong>代码块</strong>经常被称为作用域。但是两个术语并不完全相等。具名事物的作用域是源代码的一个区域。可在该区域使用非限定名称引用该事物。局部变量的作用域就是封闭它的代码块。所以代码块经常会被称为“作用域”。</p>
<p><strong>声明空间</strong>是具名事物的<strong>逻辑容器</strong>。该容器中不能存在同名的两个事物。代码块不仅定义了作用域，还定义了局部变量声明空间。在同一个声明空间中，不允许声明两个同名的局部变量。在声明局部变量的代码块外部，没有办法用局部变量的名称引用它，这时候会提示“超出作用域”。</p>
<p>声明空间覆盖所有子代码块。C#禁止编译一个代码块中声明的局部变量在其子代码块中重复声明。</p>
<h2 id="布尔表达式">布尔表达式</h2>
<p>条件，也就是布尔表达式。如 <code>if( input &gt; 1 )</code> 括号内的内容即布尔表达式。求值永远是true或false，在C#当中，<strong>布尔表达式必须返回bool值</strong>。</p>
<h3 id="关系操作符和相等性操作符">关系操作符和相等性操作符</h3>
<p>用于判断一个值是否大于、小于或者等于另外一个值。它们都是二元操作符。</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">运算符</th>
<th style="text-align: center;">说明</th>
<th style="text-align: center;">示例</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">&lt;</td>
<td style="text-align: center;">小于</td>
<td style="text-align: center;">input &lt; 1</td>
</tr>
<tr class="even">
<td style="text-align: center;">&gt;</td>
<td style="text-align: center;">大于</td>
<td style="text-align: center;">input &gt; 1</td>
</tr>
<tr class="odd">
<td style="text-align: center;">&lt;=</td>
<td style="text-align: center;">小于或等于</td>
<td style="text-align: center;">input &lt;= 1</td>
</tr>
<tr class="even">
<td style="text-align: center;">&gt;=</td>
<td style="text-align: center;">大于或等于</td>
<td style="text-align: center;">input &gt;= 1</td>
</tr>
<tr class="odd">
<td style="text-align: center;">==</td>
<td style="text-align: center;">等于</td>
<td style="text-align: center;">input == 1</td>
</tr>
<tr class="even">
<td style="text-align: center;">!=</td>
<td style="text-align: center;">不等于</td>
<td style="text-align: center;">input != 1</td>
</tr>
</tbody>
</table>
<h3 id="逻辑操作符">逻辑操作符</h3>
<ol>
<li>OR操作符（||）：</li>
</ol>
<p>||操作符对两个表达式求值，任何一个为true就返回true。</p>
<pre><code><code>if(x &gt; 1 || y &lt;6){
    codeBlock;
}</code></pre>
<ol>
<li>AND操作符（&amp;&amp;）：</li>
</ol>
<p>&amp;&amp;操作符在两个操作数都为true的情况下才返回true。任何操作数为false都会返回false。</p>
<pre><code><code>if(x &gt; 1 &amp;&amp; y &lt;6){
    codeBlock;
}</code></pre>
<ol>
<li>XOR操作符（^）：</li>
</ol>
<p>运用于两个布尔操作数的情况下，只有在两个操作数仅有一个为true的前提下，XOR操作符才会返回true。</p>
<h3 id="逻辑求反操作符">逻辑求反操作符</h3>
<p>逻辑求反操作符（!）有时也称为NOT操作符，作用是反转一个bool操作类型的值。</p>
<pre><code><code>bool valid = true;
bool result = !valid;
//Console:result = false
</code></pre>
<h3 id="条件操作符">条件操作符</h3>
<p>条件操作符（?:）为三元操作符，需要三个操作数，常规格式如下：</p>
<p><code>codition ? consequence : alternative</code></p>
<p>所表达的意思为：若codition求值为true，则操作符只求值consequence；否则只求值alternative。并且支持短路求值，顺序从左到右。</p>
<p>consequence与alternative的<strong>类型必须一致</strong>。</p>
<h3 id="空合并操作符">空合并操作符</h3>
<p>空合并操作符??能简单表示“如果这个值为空，就是用另一个值”：</p>
<p><code>expression1??expression2</code></p>
<p>支持短路求值。如expression1不为null，就返回expression1的值，另一个表达式不求值。如果expression1求值为null，就返回expression2的值。空合并操作符属于二元操作符。</p>
<h3 id="空条件操作符">空条件操作符</h3>
<p>对空值进行方法调用，都会抛出一个空值异常，说明程序逻辑肯定出错了。为此C#6.0引入了 ?. 操作符，称为<strong>空条件操作符</strong>或<strong>空传播操作符</strong>。</p>
<p><code>args?.Length == 0</code></p>
<p>等价于以下代码：</p>
<p><code>(args != null) ? (int?)args.Length : null</code></p>
<p>空条件操作符最方便之处在于可“链接”，以下举例：</p>
<p><code>args[0]?.ToLower().StartsWith(...)</code></p>
<p>上述例子如果在第一个操作数为空，整个表达式会被短路，调用链中不再发生其他调用。</p>
<p><strong>注意不要遗漏额外的空条件操作符！！！！</strong></p>
<p>另一个<strong>重点</strong>：用于返回值类型的成员时，总是返回该类型的可空版本。（如：返回 int? 而不是 int ）</p>
<p>此外，空条件操作符也可与索引操作符连用，例如：</p>
<p><code>string first = args?[0];</code></p>
<p>意思是只有args非空，才会对变量赋值，否则赋值null。</p>
<p>但是上述例子需要注意！他表示的意思是只要args非空就一定存在元素，但是会存在特殊清空，数组非空的情况下也不一定会存在元素。为此我们应该<strong>避免和索引操作符组合使用空条件操作符</strong>。</p>
<h2 id="按位操作符">按位操作符</h2>
<p>该操作符用于处理二进制形式的值。</p>
<h3 id="位移操作符">位移操作符</h3>
<p>位移操作符（&lt;&lt;、&gt;&gt;、&lt;&lt;=、&gt;&gt;=），有时候需要将一个数的二进制值向左或者向右移。左移时，所有位都向左移动由操作符右侧的操作数指定的位数。移位后在右。边留下的空位由零填充。右移同理。但如果移动的是复苏，左侧填充1而不是0。两个唯一操作符是&gt;&gt;和&lt;&lt;，分别是右移操作符和左移操作符。</p>
<pre><code><code>int x = -7;
x = (-7 &gt;&gt; 2); // 1111 1111 1111 1001
               // 1111 1111 1111 1110
//x = -2
</code></pre>
<h3 id="按位操作符-1">按位操作符</h3>
<p>按位操作符（&amp;、|、^）,分别对应AND,OR,XOR。</p>
<pre><code><code>byte and,or,xor;
and = 12 &amp; 7; //and = 4
or = 12 | 7; //or = 15
xor = 12 ^ 7; //xor = 11
</code></pre>
<p>按位操作数不支持短路求值，即使左边的操作数为false，两边都会进行求值。</p>
<h3 id="按位复合操作符">按位复合操作符</h3>
<p>按位操作符也可以与赋值操作合并，即&amp;=、|=和^=。</p>
<pre><code><code>and &amp;= 1;//and = and &amp; 1
or |= 1;// or = or | 1
xor ^= 1;// xor = xor ^ 1
</code></pre>
<h3 id="按位取反操作符">按位取反操作符</h3>
<p>按位取反操作数反转操作数的每一位，操作数可以是int、uint、long和ulong类型。如~1返回1111 1111 1111 1111 1111 1111 1111 1110。</p>
<h2 id="控制流程语句">控制流程语句</h2>
<h3 id="while和dowhile循环">while和do/while循环</h3>
<p>它是最简单的条件循环。</p>
<pre><code><code>while(condition):
    statement
</code></pre>
<p>condition必须是布尔表达式，只要它求值为true，作为循环主体的语句（statement）就会反复执行下去。条件求值为false，就跳过循环主体，从它之后的语句开始执行。</p>
<p>do/while循环与while循环非常相似，区别在于循环主体至少执行一次。do/while的常规结构如下：</p>
<pre><code><code>do{
    statement
}while(condition)
</code></pre>
<h3 id="for循环">for循环</h3>
<p>for循环反复执行代码块直至满足指定条件。for循环有一套内建的语法规定了如何初始化，递增以及测试一个计数器的值。该计数器称为循环变量。由于循环语法中专门有一个位置是为递增/递减操作保留的，所以递增/递减操作符经常为for循环的一部分使用。</p>
<p>举例：</p>
<pre><code><code>/*
for(int i = 0; i &lt; 10; i++){
    statement
}
*/

for(initial; condition; loop){
    statement
}
</code></pre>
<p>initial（初始化）执行首次迭代前的初始化操作。</p>
<p>condition（条件）指定循环结束条件。</p>
<p>loop（循环）表达式在每次迭代后求值。</p>
<p>statement是在条件表达式为true时执行的循环主体。</p>
<p><code>for(;;){ ... }</code>完全有效，只要想办法从循环中跳出即可，缺失的条件默认为产量true。</p>
<p>for循环也可使用多个表达式，这里不详细说明。</p>
<h3 id="foreach循环">foreach循环</h3>
<p>C#最后一个循环语句是foreach，它遍历数据项集合，设置循环变量来依次表示其中每一项。循环主体对数据项执行指定操作。foreach循环的特点是每一项只遍历一次：不会出现越界报错。</p>
<pre><code><code>foreach(type variable in collection){
    statement
}
</code></pre>
<p>type为代表collection中每一项的variable声明数据类型。</p>
<p>variable是只读变量，foreach循环自动将collection中的下一项赋值给它。</p>
<p>collection是代表多个数据项的表达式，比如数组。</p>
<p><strong>foreach循环期间禁止修改循环变量，因为循环变量是只读内容</strong>。</p>
<h3 id="基本switch语句">基本switch语句</h3>
<p>一个值和多个常量值比较，switch比if语句更容易理解。</p>
<pre><code><code>switch(expression){
    case constant:
        statement;
        break;
    default:
        statement;
}
</code></pre>
<p>expression是要和不同常量比较的值。</p>
<p>constant是和主导类型兼容的任何产量表达式。</p>
<p>一个或者多个case标签（或者default标签），后跟一个或多个语句。</p>
<p>每一个statement语句的结束点都必须接上跳转语句，如：break、return。</p>
<h2 id="跳转语句">跳转语句</h2>
<p>循环的执行路径可改变，事实上，可用跳转语句退出循环。</p>
<h3 id="break语句">break语句</h3>
<p><strong>任何时候</strong>遇到break语句，控制都会立即离开循环或switch。</p>
<h3 id="continue语句">continue语句</h3>
<p>contiue语句跳转到当前迭代的末尾，并开始下一次迭代。C#的contiue语句允许退出当前迭代并跳到循环条件。如果循环条件为true，循环继续。</p>
<h2 id="小结">小结</h2>
<p>本节介绍了C#赋值和算数运算符。如何使用操作符和const关键字声明变量。</p>

</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>