<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修C# 方法的out、ref、params参数' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>C# 方法的out、ref、params参数</center></div><div class='banquan'>原文出处:本文由博客园博主笑笑未来提供。<br/>
原文连接:https://www.cnblogs.com/qy1234/p/11826649.html</div><br>
    <p><span style="font-family: 'Microsoft YaHei'; font-size: 16px;">&nbsp;&nbsp;</span><strong><span style="font-family: 'Microsoft YaHei'; font-size: 16px;">一、out参数实例</span></strong></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">【实例】求一个数组中的最大值、最小值、总和、平均值</span></p>
<div class="cnblogs_Highlighter">
<pre><code>  class Program
    {
        static void Main(string[] args)
        {
            //写一个方法 求一个数组中的最大值、最小值、总和、平均值
            int[] nums = { 1, 2, 3, 4, 5, 6 ,7};
            int max;
            int sum;
            int min;
            int avg;
            bool b;
            string s;
            double d;
            GetValue(nums, out max, out min, out sum, out avg,out b,out s,out d);
            Console.WriteLine("数组中的最大值：{0}，最小值：{1}，总和：{2},平均值:{3}",max ,min,sum,avg);
            Console.WriteLine("输出out参数的方法不同类型的值：{0},{1},{2}",b,s,d);
            Console.ReadKey();
        }
        /// &lt;summary&gt;
        /// 求一个整数的数组的最大值，最小值，总和，平均值
        /// &lt;/summary&gt;
        /// &lt;param name="nums"&gt;要求值的数组&lt;/param&gt;
        /// &lt;param name="max"&gt;返回的最大值&lt;/param&gt;
        /// &lt;param name="min"&gt;返回的最小值&lt;/param&gt;
        /// &lt;param name="sum"&gt;返回的总和&lt;/param&gt;
        /// &lt;param name="avg"&gt;返回的平均值&lt;/param&gt;
        public static void GetValue(int[] nums, out int max, out int min, out int sum, out int avg, out bool b,out string s,out double d)
        {
           //out参数要求在方法的内部必须为其赋值
            max = nums[0];
            min = nums[0];
            sum = 0;
            for (int i = 0; i &lt; nums.Length; i++)
            {
                if (nums[i]&gt;max)
                {
                    max = nums[i];
                }
                if (nums[i]&lt;min)
                {
                    min = nums[i];
                }
                sum += nums[i];
            } 
            avg = sum / nums.Length;

            b = true;
            s = "123";
            d = 3.13;
        }
    }</pre>
</div>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">执行代码输出结果，如图所示：</span></p>
<p><img src="./images/C# 方法的out、ref、params参数0.png" alt="" width="982" height="464" /></p>
<p><strong><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">总结：</span></strong></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">如果一个方法中，返回多个相同类型的值时候，我们可以考虑返回一个数组。但是返回多个不同类型的值时候，返回数组就不行，那么这个时候，我们可以考虑用out参数。</span></p>
<p><strong><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">out参数就侧重于一个方法可以返回多个不同类型的值。</span></strong></p>
<p>&nbsp;</p>
<p><strong><span style="font-family: 'Microsoft YaHei'; font-size: 16px;">二、ref参数的实例</span></strong></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">【实例】使用方法来交换两个int类型的变量</span></p>
<div class="cnblogs_Highlighter">
<pre><code> class Program
    {
        static void Main(string[] args)
        {
            //使用方法来交换两个int类型的变量
            int n1 = 10;
            int n2 = 20;
            Test(ref n1, ref n2);
            Console.WriteLine("两个值互相交换后n1为{0}，n2为：{1}",n1,n2);
            Console.ReadKey();
        }
        public static void  Test(ref int n1,ref int n2)
        {
            int temp = n1;
            n1 = n2;
            n2 = temp;
        }
    }</pre>
</div>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">执行代码输出结果，如图所示：</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;"><img src="./images/C# 方法的out、ref、params参数1.png" alt="" width="695" height="374" /></span></p>
<p><strong><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">总结：</span></strong></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;"><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">ref参数能够将一个变量带入一个方法中进行改变，改变完成后，再将改变后的值带出方法。</span></span></p>
<p><strong>&nbsp;ref参数要求在方法外必须要赋值，而方法内可以不赋值。</strong></p>
<p>&nbsp;</p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 16px;"><strong>三、params可变参数</strong></span></p>
<p><span style="font-size: 15px;"><span style="font-family: 'Microsoft YaHei';">【实例】</span>求任意长度数组的和 整数类型的</span></p>
<div class="cnblogs_Highlighter">
<pre><code> class Program
    {
        static void Main(string[] args)
        {
            //求任意长度数组的和 整数类型的
            int[] nums = { 1, 2, 3, 4, 5, 6 };
            int sum = GetSum(8,9);
            Console.WriteLine(sum);
            Console.ReadKey();
        }
        public static int GetSum(params int[] nums)
        {
            int sum = 0;
            for (int i = 0; i &lt; nums.Length; i++)
            {
                sum += nums[i];
            }
            return sum;
        }
    }　</pre>
</div>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 16px;">执行代码输出结果，如图所示：</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 16px;"><strong><img src="./images/C# 方法的out、ref、params参数2.png" alt="" width="820" height="467" /></strong></span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">如图所示：</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 16px;"><strong><img src="./images/C# 方法的out、ref、params参数3.png" alt="" width="744" height="174" /></strong></span></p>
<p><strong>&nbsp;<span style="font-family: 'Microsoft YaHei'; font-size: 15px;">总结：</span></strong></p>
<p>将实参数列表中跟可变参数数组类型一致的元素都当做数组的元素去处理</p>
<p><strong>params可变参数必须是形参列表中的最后一个元素，并且在方法声明中只允许一个params关键字。</strong></p>
<p>&nbsp;</p>
<p><strong><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">四、out 与ref的区别</span></strong></p>
<p><strong><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">区别：</span></strong></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">1.使用ref参数时，传入的参数必须被初始化，对out而言，必须在方法中对其完成初始化。</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">2.使用ref参数和out参数时，在方法的参数和执行方法时，都要加ref或者out关键字。</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">3.out参数适合用在需要return多个返回值的地方，而ref参数则用在需要被调用的方法修改调用者的引用的时候。</span></p>
<p>如图所示：</p>
<p><strong>out参数</strong></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;"><img src="./images/C# 方法的out、ref、params参数4.png" alt="" width="624" height="318" /></span></p>
<p><strong>ref参数</strong></p>
<p><img src="./images/C# 方法的out、ref、params参数5.png" alt="" width="668" height="454" /></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">ref关键字是需要先初始化传入的参数，才能够使用。</span></p>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>