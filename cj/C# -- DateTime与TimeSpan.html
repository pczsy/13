<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修C# -- DateTime与TimeSpan' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>C# -- DateTime与TimeSpan</center></div><div class='banquan'>原文出处:本文由博客园博主在代码的世界里游走提供。<br/>
原文连接:https://www.cnblogs.com/ChengWenHao/p/CSharpDateTimeAndTimeSpan.html</div><br>
    <p>1. DateTime的使用</p>
<div class="cnblogs_code">
<pre><code>    DateTime dt =<span style="color: #000000;"> DateTime.Now;

    StringBuilder sb </span>= <span style="color: #0000ff;">new</span><span style="color: #000000;"> StringBuilder();
    sb.AppendLine(</span><span style="color: #0000ff;">string</span>.Format(<span style="color: #800000;">"</span><span style="color: #800000;">DataTime字符串表示: {0}</span><span style="color: #800000;">"</span><span style="color: #000000;">, dt.ToString()));

    sb.AppendLine(</span><span style="color: #0000ff;">string</span>.Format(<span style="color: #800000;">"</span><span style="color: #800000;">DataTime的年份部分: {0}</span><span style="color: #800000;">"</span><span style="color: #000000;">, dt.Year));
    sb.AppendLine(</span><span style="color: #0000ff;">string</span>.Format(<span style="color: #800000;">"</span><span style="color: #800000;">DataTime的月份部分: {0}</span><span style="color: #800000;">"</span><span style="color: #000000;">, dt.Month));
    sb.AppendLine(</span><span style="color: #0000ff;">string</span>.Format(<span style="color: #800000;">"</span><span style="color: #800000;">DataTime的日期部分: {0}</span><span style="color: #800000;">"</span><span style="color: #000000;">, dt.Date));
    sb.AppendLine(</span><span style="color: #0000ff;">string</span>.Format(<span style="color: #800000;">"</span><span style="color: #800000;">DataTime的小时部分: {0}</span><span style="color: #800000;">"</span><span style="color: #000000;">, dt.Hour));
    sb.AppendLine(</span><span style="color: #0000ff;">string</span>.Format(<span style="color: #800000;">"</span><span style="color: #800000;">DataTime的分钟部分: {0}</span><span style="color: #800000;">"</span><span style="color: #000000;">, dt.Minute));
    sb.AppendLine(</span><span style="color: #0000ff;">string</span>.Format(<span style="color: #800000;">"</span><span style="color: #800000;">DataTime的秒部分: {0}</span><span style="color: #800000;">"</span><span style="color: #000000;">, dt.Second));
    sb.AppendLine(</span><span style="color: #0000ff;">string</span>.Format(<span style="color: #800000;">"</span><span style="color: #800000;">DataTime的毫秒部分: {0}</span><span style="color: #800000;">"</span><span style="color: #000000;">, dt.Millisecond));

    sb.AppendLine(</span><span style="color: #0000ff;">string</span>.Format(<span style="color: #800000;">"</span><span style="color: #800000;">DataTime是当月第几天: {0}</span><span style="color: #800000;">"</span><span style="color: #000000;">, dt.Day));
    sb.AppendLine(</span><span style="color: #0000ff;">string</span>.Format(<span style="color: #800000;">"</span><span style="color: #800000;">DataTime是这周的第几天: {0}</span><span style="color: #800000;">"</span><span style="color: #000000;">, dt.DayOfWeek));
    sb.AppendLine(</span><span style="color: #0000ff;">string</span>.Format(<span style="color: #800000;">"</span><span style="color: #800000;">DataTime是这年的第几天: {0}</span><span style="color: #800000;">"</span><span style="color: #000000;">, dt.DayOfYear));
    sb.AppendLine(</span><span style="color: #0000ff;">string</span>.Format(<span style="color: #800000;">"</span><span style="color: #800000;">DataTime取得当天的时间部分(TimeSpan格式): {0}</span><span style="color: #800000;">"</span><span style="color: #000000;">, dt.TimeOfDay));

    sb.AppendLine(</span><span style="color: #0000ff;">string</span>.Format(<span style="color: #800000;">"</span><span style="color: #800000;">DateTime转换为64位二进制数: {0}</span><span style="color: #800000;">"</span><span style="color: #000000;">, dt.ToBinary()));
    sb.AppendLine(</span><span style="color: #0000ff;">string</span>.Format(<span style="color: #800000;">"</span><span style="color: #800000;">DateTime转换为Windows文件时间: {0}</span><span style="color: #800000;">"</span><span style="color: #000000;">, dt.ToFileTime()));
    sb.AppendLine(</span><span style="color: #0000ff;">string</span>.Format(<span style="color: #800000;">"</span><span style="color: #800000;">DateTime转换为UTC Windows文件时间: {0}</span><span style="color: #800000;">"</span><span style="color: #000000;">, dt.ToFileTimeUtc()));
    sb.AppendLine(</span><span style="color: #0000ff;">string</span>.Format(<span style="color: #800000;">"</span><span style="color: #800000;">DateTime转换为本地时间: {0}</span><span style="color: #800000;">"</span><span style="color: #000000;">, dt.ToLocalTime()));
    sb.AppendLine(</span><span style="color: #0000ff;">string</span>.Format(<span style="color: #800000;">"</span><span style="color: #800000;">DateTime转换为OLE自动化日期: {0}</span><span style="color: #800000;">"</span><span style="color: #000000;">, dt.ToOADate()));
    sb.AppendLine(</span><span style="color: #0000ff;">string</span>.Format(<span style="color: #800000;">"</span><span style="color: #800000;">DateTime转换为UTC时间: {0}</span><span style="color: #800000;">"</span><span style="color: #000000;">, dt.ToUniversalTime()));

    sb.AppendLine(</span><span style="color: #0000ff;">string</span>.Format(<span style="color: #800000;">"</span><span style="color: #800000;">DateTime转换为长日期形式: {0}</span><span style="color: #800000;">"</span><span style="color: #000000;">, dt.ToLongDateString()));
    sb.AppendLine(</span><span style="color: #0000ff;">string</span>.Format(<span style="color: #800000;">"</span><span style="color: #800000;">DateTime转换为短日期形式: {0}</span><span style="color: #800000;">"</span><span style="color: #000000;">, dt.ToShortDateString()));
    sb.AppendLine(</span><span style="color: #0000ff;">string</span>.Format(<span style="color: #800000;">"</span><span style="color: #800000;">DateTime转换为长时间形式: {0}</span><span style="color: #800000;">"</span><span style="color: #000000;">, dt.ToLongTimeString()));
    sb.AppendLine(</span><span style="color: #0000ff;">string</span>.Format(<span style="color: #800000;">"</span><span style="color: #800000;">DateTime转换为短时间形式: {0}</span><span style="color: #800000;">"</span><span style="color: #000000;">, dt.ToShortTimeString()));

    Console.WriteLine(sb.ToString());</span></pre>
</div>
<p><img src="./images/C# -- DateTime与TimeSpan0.png" alt="" /></p>
<p>&nbsp;</p>
<p>2.&nbsp; TimeSpan的使用</p>
<div class="cnblogs_code">
<pre><code>    DateTime dtStartTime = Convert.ToDateTime(<span style="color: #800000;">"</span><span style="color: #800000;">2019-01-01 00:00:00</span><span style="color: #800000;">"</span><span style="color: #000000;">);
    DateTime dtEndTime </span>= Convert.ToDateTime(<span style="color: #800000;">"</span><span style="color: #800000;">2019-12-31 23:59:59</span><span style="color: #800000;">"</span><span style="color: #000000;">);

    TimeSpan ts </span>= dtEndTime -<span style="color: #000000;"> dtStartTime;

    StringBuilder sb </span>= <span style="color: #0000ff;">new</span><span style="color: #000000;"> StringBuilder();
    sb.AppendLine(</span><span style="color: #0000ff;">string</span>.Format(<span style="color: #800000;">"</span><span style="color: #800000;">时间间隔的字符串表示:{0}</span><span style="color: #800000;">"</span><span style="color: #000000;">, ts.ToString()));

    sb.AppendLine(</span><span style="color: #0000ff;">string</span>.Format(<span style="color: #800000;">"</span><span style="color: #800000;">时间间隔的天数部分:{0}</span><span style="color: #800000;">"</span><span style="color: #000000;">,ts.Days));
    sb.AppendLine(</span><span style="color: #0000ff;">string</span>.Format(<span style="color: #800000;">"</span><span style="color: #800000;">时间间隔的小时部分:{0}</span><span style="color: #800000;">"</span><span style="color: #000000;">,ts.Hours));
    sb.AppendLine(</span><span style="color: #0000ff;">string</span>.Format(<span style="color: #800000;">"</span><span style="color: #800000;">时间间隔的分钟部分:{0}</span><span style="color: #800000;">"</span><span style="color: #000000;">,ts.Minutes));
    sb.AppendLine(</span><span style="color: #0000ff;">string</span>.Format(<span style="color: #800000;">"</span><span style="color: #800000;">时间间隔的秒数部分:{0}</span><span style="color: #800000;">"</span><span style="color: #000000;">,ts.Seconds));
    sb.AppendLine(</span><span style="color: #0000ff;">string</span>.Format(<span style="color: #800000;">"</span><span style="color: #800000;">时间间隔的毫秒部分:{0}</span><span style="color: #800000;">"</span><span style="color: #000000;">,ts.Milliseconds));

    sb.AppendLine(</span><span style="color: #0000ff;">string</span>.Format(<span style="color: #800000;">"</span><span style="color: #800000;">用天数表示时间间隔:{0}</span><span style="color: #800000;">"</span><span style="color: #000000;">, ts.TotalDays));
    sb.AppendLine(</span><span style="color: #0000ff;">string</span>.Format(<span style="color: #800000;">"</span><span style="color: #800000;">用小时表示时间间隔:{0}</span><span style="color: #800000;">"</span><span style="color: #000000;">, ts.TotalHours));
    sb.AppendLine(</span><span style="color: #0000ff;">string</span>.Format(<span style="color: #800000;">"</span><span style="color: #800000;">用分钟表示时间间隔:{0}</span><span style="color: #800000;">"</span><span style="color: #000000;">, ts.TotalMinutes));
    sb.AppendLine(</span><span style="color: #0000ff;">string</span>.Format(<span style="color: #800000;">"</span><span style="color: #800000;">用秒数表示时间间隔:{0}</span><span style="color: #800000;">"</span><span style="color: #000000;">, ts.TotalSeconds));
    sb.AppendLine(</span><span style="color: #0000ff;">string</span>.Format(<span style="color: #800000;">"</span><span style="color: #800000;">用毫秒表示时间间隔:{0}</span><span style="color: #800000;">"</span><span style="color: #000000;">, ts.TotalMilliseconds));

    Console.WriteLine(sb.ToString());</span></pre>
</div>
<p><img src="./images/C# -- DateTime与TimeSpan1.png" alt="" /></p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>