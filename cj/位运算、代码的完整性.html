<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修位运算、代码的完整性' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>位运算、代码的完整性</center></div><div class='banquan'>原文出处:本文由博客园博主lingfeng95提供。<br/>
原文连接:https://www.cnblogs.com/zhao123/p/11224479.html</div><br>
    <p>这篇文章主要是介绍剑指offer中的【位运算:二进制中1的个数】，【代码的完整性:数值的整数次方】，【代码的完整性:调整数组顺序使奇数位于偶数前面】的实现。</p>
<h2>1. 位运算:二进制中1的个数，</h2>
<h2>题目描述</h2>
<p>输入一个整数，输出该数二进制表示中1的个数。其中负数用补码表示。</p>
<h2>解题思路</h2>
<p>把一个整数减去1，再和原整数做与运算，会把该整数最右边一个1变成0。那么一个整数的二进制表示中有多少个1，就可以进行多少次这样的操作。很多二进制的处理都可以用这种方法。</p>
<h2>代码实现</h2>
<div class="cnblogs_code">
<pre><code>        <span style="color: #808080;">///</span> <span style="color: #808080;">&lt;summary&gt;</span>
        <span style="color: #808080;">///</span><span style="color: #008000;"> 新颖解法：
        </span><span style="color: #808080;">///</span><span style="color: #008000;"> 把一个整数减去1，再和原整数做与运算，会把该整数最右边一个1变成0。
        </span><span style="color: #808080;">///</span><span style="color: #008000;"> 那么一个整数的二进制表示中有多少个1，就可以进行多少次这样的操作。
        </span><span style="color: #808080;">///</span><span style="color: #008000;"> 很多二进制的处理都可以用这种方法。
        </span><span style="color: #808080;">///</span> <span style="color: #808080;">&lt;/summary&gt;</span>
        <span style="color: #808080;">///</span> <span style="color: #808080;">&lt;param name="n"&gt;&lt;/param&gt;</span>
        <span style="color: #808080;">///</span> <span style="color: #808080;">&lt;returns&gt;&lt;/returns&gt;</span>
        <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">int</span> NumberOf1(<span style="color: #0000ff;">int</span><span style="color: #000000;"> n) {
            </span><span style="color: #0000ff;">int</span> count = <span style="color: #800080;">0</span><span style="color: #000000;">;
            </span><span style="color: #0000ff;">while</span> (n != <span style="color: #800080;">0</span><span style="color: #000000;">) {
                count</span>++<span style="color: #000000;">;
                n </span>= (n - <span style="color: #800080;">1</span>) &amp;<span style="color: #000000;"> n;
            }
            </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> count;
        }</span></pre>
</div>
<div class="cnblogs_code">
<pre><code>        <span style="color: #808080;">///</span> <span style="color: #808080;">&lt;summary&gt;</span>
        <span style="color: #808080;">///</span><span style="color: #008000;"> 针对正整数(负数不会走)
        </span><span style="color: #808080;">///</span> <span style="color: #808080;">&lt;/summary&gt;</span>
        <span style="color: #808080;">///</span> <span style="color: #808080;">&lt;param name="n"&gt;&lt;/param&gt;</span>
        <span style="color: #808080;">///</span> <span style="color: #808080;">&lt;returns&gt;&lt;/returns&gt;</span>
        <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">int</span> SimpleNumberOf1(<span style="color: #0000ff;">int</span><span style="color: #000000;"> n) {
            </span><span style="color: #0000ff;">int</span> count = <span style="color: #800080;">0</span><span style="color: #000000;">;
            </span><span style="color: #0000ff;">while</span> (n &gt; <span style="color: #800080;">0</span>) { <span style="color: #008000;">//</span><span style="color: #008000;">右移的处理，</span>
                <span style="color: #0000ff;">if</span> ((n &amp; <span style="color: #800080;">1</span>) == <span style="color: #800080;">1</span><span style="color: #000000;">) {
                    count</span>++<span style="color: #000000;">;
                }
                n </span>= n &gt;&gt; <span style="color: #800080;">1</span><span style="color: #000000;">;
            }
            </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> count;
        }</span></pre>
</div>
<h2>想入非非：扩展思维，发挥想象</h2>
<p>1. 熟悉位运算符：&amp; （与）、 | （或） 、 ^ （异或）、~ （反运算符）、&lt;&lt; 二进制左移运算符、 &gt;&gt; 二进制右移运算符<br />2. 了解二进制（0b），八进制，十进制，十六进制（0x）</p>
<h2>2.代码的完整性:数值的整数次方</h2>
<h2>题目描述</h2>
<p>给定一个double类型的浮点数base和int类型的整数exponent。求base的exponent次方。</p>
<h2>解题思路</h2>
<p>指数幂：a^n,当n是正数是a个n相乘，当n是负数是a个n相乘的倒数。</p>
<h2>代码实现</h2>
<div class="cnblogs_code">
<pre><code>        <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">double</span> Pow(<span style="color: #0000ff;">double</span> baseData, <span style="color: #0000ff;">int</span><span style="color: #000000;"> exponent)
        {
            </span><span style="color: #0000ff;">if</span> (baseData == <span style="color: #800080;">0</span><span style="color: #000000;">)
            {
                </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
            }

            </span><span style="color: #0000ff;">bool</span> isPositive = exponent &gt; <span style="color: #800080;">0</span>;<span style="color: #008000;">//</span><span style="color: #008000;">是否是正数</span>
            exponent = isPositive ? exponent : -<span style="color: #000000;">exponent;
            </span><span style="color: #0000ff;">double</span> result = <span style="color: #800080;">1</span><span style="color: #000000;">;
            </span><span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">int</span> i = <span style="color: #800080;">0</span>; i &lt; exponent; i++<span style="color: #000000;">)
            {
                result </span>= result *<span style="color: #000000;"> baseData;
            }
            result </span>= isPositive ? result : (<span style="color: #800080;">1</span> /<span style="color: #000000;"> result);
            </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> result;
        }</span></pre>
</div>
<h2>3.代码的完整性:调整数组顺序使奇数位于偶数前面</h2>
<h2>题目描述</h2>
<p>输入一个整数数组，实现一个函数来调整该数组中数字的顺序，使得所有的奇数位于数组的前半部分，所有的偶数位于数组的后半部分，并保证奇数和奇数，偶数和偶数之间的相对位置不变。</p>
<h2>解题思路</h2>
<div class="cnblogs_code">
<pre><code>        <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">int</span>[] HandleArray(<span style="color: #0000ff;">int</span><span style="color: #000000;">[] array) {
            </span><span style="color: #0000ff;">if</span> (array == <span style="color: #0000ff;">null</span>) <span style="color: #0000ff;">return</span> <span style="color: #0000ff;">null</span><span style="color: #000000;">;
            </span><span style="color: #0000ff;">int</span>[] temp = <span style="color: #0000ff;">new</span> <span style="color: #0000ff;">int</span><span style="color: #000000;">[array.Length];
            </span><span style="color: #0000ff;">int</span> i = <span style="color: #800080;">0</span><span style="color: #000000;">;
            </span><span style="color: #008000;">//</span><span style="color: #008000;">奇数</span>
            <span style="color: #0000ff;">foreach</span> (<span style="color: #0000ff;">var</span> t <span style="color: #0000ff;">in</span><span style="color: #000000;"> array) {
                </span><span style="color: #0000ff;">if</span> (t % <span style="color: #800080;">2</span> == <span style="color: #800080;">1</span><span style="color: #000000;">) {
                    temp[i] </span>=<span style="color: #000000;"> t;
                    i</span>++<span style="color: #000000;">;
                }
            }
            </span><span style="color: #008000;">//</span><span style="color: #008000;">偶数</span>
            <span style="color: #0000ff;">foreach</span> (<span style="color: #0000ff;">var</span> t <span style="color: #0000ff;">in</span><span style="color: #000000;"> array)
            {
                </span><span style="color: #0000ff;">if</span> (t % <span style="color: #800080;">2</span> == <span style="color: #800080;">0</span><span style="color: #000000;">)
                {
                    temp[i] </span>=<span style="color: #000000;"> t;
                    i</span>++<span style="color: #000000;">;
                }
            }
            </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> temp;
        }</span></pre>
</div>
<p>下面的是不考略相对位置，只考虑效率，上面的解题效率是2n，下面的效率是n</p>
<div class="cnblogs_code">
<pre><code>        <span style="color: #808080;">///</span> <span style="color: #808080;">&lt;summary&gt;</span>
        <span style="color: #808080;">///</span><span style="color: #008000;"> 不考略相对位置的
        </span><span style="color: #808080;">///</span> <span style="color: #808080;">&lt;/summary&gt;</span>
        <span style="color: #808080;">///</span> <span style="color: #808080;">&lt;param name="array"&gt;&lt;/param&gt;</span>
        <span style="color: #808080;">///</span> <span style="color: #808080;">&lt;returns&gt;&lt;/returns&gt;</span>
        <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">int</span>[] HandleArray2(<span style="color: #0000ff;">int</span><span style="color: #000000;">[] array)
        {
            </span><span style="color: #0000ff;">if</span> (array == <span style="color: #0000ff;">null</span>) <span style="color: #0000ff;">return</span> <span style="color: #0000ff;">null</span><span style="color: #000000;">;

            </span><span style="color: #0000ff;">int</span> left = <span style="color: #800080;">0</span><span style="color: #000000;">;
            </span><span style="color: #0000ff;">int</span> right = array.Length - <span style="color: #800080;">1</span><span style="color: #000000;">;
            </span><span style="color: #0000ff;">while</span> (left &lt;<span style="color: #000000;"> right)
            {
                </span><span style="color: #008000;">//</span><span style="color: #008000;">奇数</span>
                <span style="color: #0000ff;">while</span> (array[left] % <span style="color: #800080;">2</span> == <span style="color: #800080;">1</span><span style="color: #000000;">)
                {
                    left</span>++<span style="color: #000000;">;
                }

                </span><span style="color: #008000;">//</span><span style="color: #008000;">偶数</span>
                <span style="color: #0000ff;">while</span> (left &lt; right &amp;&amp; array[right] % <span style="color: #800080;">2</span> == <span style="color: #800080;">0</span><span style="color: #000000;">)
                {
                    right</span>--<span style="color: #000000;">;
                }

                </span><span style="color: #008000;">//</span><span style="color: #008000;">交换</span>
                <span style="color: #0000ff;">if</span> (left &lt;<span style="color: #000000;"> right)
                {
                    </span><span style="color: #0000ff;">var</span> temp =<span style="color: #000000;"> array[left];
                    array[left] </span>=<span style="color: #000000;"> array[right];
                    array[right] </span>=<span style="color: #000000;"> temp;
                }

            }
            </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> array;
        }</span></pre>
</div>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>