<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修学习Linq之前必须要了解的扩展方法' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>学习Linq之前必须要了解的扩展方法</center></div><div class='banquan'>原文出处:本文由博客园博主lxsh_wyan提供。<br/>
原文连接:https://www.cnblogs.com/lxshwyan/p/10815731.html</div><br>
    <p>&nbsp; &nbsp;<span style="font-size: 18px;"> &nbsp;<span style="background-color: #ffffff;"> 本文主要以下面几个方面来详细讲解扩展方法：在C#3.0之前没有扩展方法的状态（或者你不会使用不知道扩展方法的时候）、扩展方法的语法及怎么使用、怎么正确的使用扩展方法；</span></span></p>
<p><span style="font-size: 18px;"><span style="background-color: #ffffff;">&nbsp; 一、首先说一下在C#3.0之前没有扩展方法的状态（或者你不会使用不知道扩展方法的时候）</span></span></p>
<p><span style="font-size: 18px;"><span style="background-color: #ffffff;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="font-size: 16px;">1、大家在项目中肯定遇到类似这样的需求且项目很多地方都会用到：1.需要对一个对象进行可空判断；2、对一个集合或者对象进行序列化；3、时间格式转换；4、List与DataTabel之前转换等等。</span></span></span></p>
<p><span style="font-size: 16px;"><span style="background-color: #ffffff;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 我想在没有扩展方法之前大家基本上都是做一个类似common的静态公共静态类，写一些静态方法供项目各个调用调用 如：</span></span></p>
<div class="cnblogs_code" onclick="cnblogs_code_show('810bc00f-3be7-4f60-b59a-c4ba4ac6ed94')"><img id="code_img_closed_810bc00f-3be7-4f60-b59a-c4ba4ac6ed94" class="code_img_closed" src="./images/学习Linq之前必须要了解的扩展方法0.png" alt="" /><img id="code_img_opened_810bc00f-3be7-4f60-b59a-c4ba4ac6ed94" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('810bc00f-3be7-4f60-b59a-c4ba4ac6ed94',event)" src="./images/学习Linq之前必须要了解的扩展方法1.png" alt="" />
<div id="cnblogs_code_open_810bc00f-3be7-4f60-b59a-c4ba4ac6ed94" class="cnblogs_code_hide">
<pre><code> <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span>  <span style="color: #0000ff;">class</span><span style="color: #000000;"> Common
    {
        </span><span style="color: #808080;">///</span> <span style="color: #808080;">&lt;summary&gt;</span>
        <span style="color: #808080;">///</span><span style="color: #008000;"> 判断是否为Null或者空
        </span><span style="color: #808080;">///</span> <span style="color: #808080;">&lt;/summary&gt;</span>
        <span style="color: #808080;">///</span> <span style="color: #808080;">&lt;param name="obj"&gt;</span><span style="color: #008000;">对象</span><span style="color: #808080;">&lt;/param&gt;</span>
        <span style="color: #808080;">///</span> <span style="color: #808080;">&lt;returns&gt;&lt;/returns&gt;</span>
        <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">bool</span> IsNullOrEmpty( <span style="color: #0000ff;">object</span><span style="color: #000000;"> obj)
        {
            </span><span style="color: #0000ff;">if</span> (obj == <span style="color: #0000ff;">null</span><span style="color: #000000;">)
                </span><span style="color: #0000ff;">return</span> <span style="color: #0000ff;">true</span><span style="color: #000000;">;
            </span><span style="color: #0000ff;">else</span><span style="color: #000000;">
            {
                </span><span style="color: #0000ff;">string</span> objStr =<span style="color: #000000;"> obj.ToString();
                </span><span style="color: #0000ff;">return</span> <span style="color: #0000ff;">string</span><span style="color: #000000;">.IsNullOrEmpty(objStr);
            }
        }
    }</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p><span style="font-size: 15px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 其他类调用公共方法</span></p>
<div class="cnblogs_code" onclick="cnblogs_code_show('bee0f0ef-d81e-4ce2-ade2-79392ec7c609')"><img id="code_img_closed_bee0f0ef-d81e-4ce2-ade2-79392ec7c609" class="code_img_closed" src="./images/学习Linq之前必须要了解的扩展方法0.png" alt="" /><img id="code_img_opened_bee0f0ef-d81e-4ce2-ade2-79392ec7c609" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('bee0f0ef-d81e-4ce2-ade2-79392ec7c609',event)" src="./images/学习Linq之前必须要了解的扩展方法1.png" alt="" />
<div id="cnblogs_code_open_bee0f0ef-d81e-4ce2-ade2-79392ec7c609" class="cnblogs_code_hide">
<pre><code> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span> Main(<span style="color: #0000ff;">string</span><span style="color: #000000;">[] args)
        {
            </span><span style="color: #0000ff;">string</span> str = <span style="color: #800000;">"</span><span style="color: #800000;">lxsh</span><span style="color: #800000;">"</span><span style="color: #000000;">;
            Common.IsNullOrEmpty(str);
        }</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>&nbsp; &nbsp;<span style="font-size: 16px;"> &nbsp; &nbsp;&nbsp;通过这样也能完成上面所说的几个需求，但是让人感觉上端一直要显示依赖Common这个静态类，项目中就会大量充斥着这样的代码，看起来不那么简洁，而且也不利于后期的链式语法编程；</span></p>
<p><span style="font-size: 16px;">&nbsp; &nbsp; &nbsp; &nbsp; 2、有时也会遇到这样的情况：你想对某个类型加一些行为（方法），但你不能改变该类型的本身，因为是别人的代码，遇到这样情况你可能会增加一个继承接口，或者一个抽象类，或者通过代理模式封装一次，这样显然能达到目的但都很麻烦；</span></p>
<p><span style="font-size: 16px;">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; 以上解决办法都是在没有使用扩展方法之前的解决方案，当你学会了扩展方法，你可能会有更好的选择；</span></p>
<p><span style="font-size: 18px;">&nbsp; &nbsp; 二、 接下来我们来说一下扩展方法的语法及使用</span></p>
<p><span style="font-size: 18px;">&nbsp; &nbsp; &nbsp; 1、扩展方法必须具备以下几个特征：</span></p>
<ul>
<li><span style="font-size: 18px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="background-color: #00ff00;">&nbsp;<strong>必须是在非嵌套的、非泛型的静态类中</strong></span></span></li>
<li><span style="font-size: 18px;">&nbsp; &nbsp; &nbsp; &nbsp; </span>&nbsp; &nbsp; &nbsp;<span style="font-size: 18px;"><strong><span style="background-color: #00ff00;">必须在静态类中的静态方法</span></strong></span></li>
<li><span style="font-size: 18px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <strong><span style="background-color: #00ff00;">至少要有一个参数</span></strong></span></li>
<li><span style="font-size: 18px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <strong><span style="background-color: #00ff00;">第一个参数的前缀必须加this关键字且不能有任何修饰符（如：ref，out）且参数类型不能为指针</span></strong></span></li>
</ul>
<p><span style="font-size: 18px;"><span style="font-size: 15px;">&nbsp;例如：</span></span></p>
<div class="cnblogs_code" onclick="cnblogs_code_show('ec783f7a-23f5-46d1-b04e-154b4d7ff23d')"><img id="code_img_closed_ec783f7a-23f5-46d1-b04e-154b4d7ff23d" class="code_img_closed" src="./images/学习Linq之前必须要了解的扩展方法0.png" alt="" /><img id="code_img_opened_ec783f7a-23f5-46d1-b04e-154b4d7ff23d" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('ec783f7a-23f5-46d1-b04e-154b4d7ff23d',event)" src="./images/学习Linq之前必须要了解的扩展方法1.png" alt="" />
<div id="cnblogs_code_open_ec783f7a-23f5-46d1-b04e-154b4d7ff23d" class="cnblogs_code_hide">
<pre><code> <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">partial</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> Extensions
    {

        </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">string</span> ObjectToJSON(<span style="color: #0000ff;">this</span> <span style="color: #0000ff;">object</span><span style="color: #000000;"> obj)
        {
            </span><span style="color: #0000ff;">return</span> JsonConvert.SerializeObject(obj, <span style="color: #0000ff;">new</span> IsoDateTimeConverter { DateTimeFormat = <span style="color: #800000;">"</span><span style="color: #800000;">yyyy-MM-dd HH:mm:ss</span><span style="color: #800000;">"</span><span style="color: #000000;"> });
        }
        </span><span style="color: #808080;">///</span> <span style="color: #808080;">&lt;summary&gt;</span>
        <span style="color: #808080;">///</span><span style="color: #008000;"> 判断是否为Null或者空
        </span><span style="color: #808080;">///</span> <span style="color: #808080;">&lt;/summary&gt;</span>
        <span style="color: #808080;">///</span> <span style="color: #808080;">&lt;param name="obj"&gt;</span><span style="color: #008000;">对象</span><span style="color: #808080;">&lt;/param&gt;</span>
        <span style="color: #808080;">///</span> <span style="color: #808080;">&lt;returns&gt;&lt;/returns&gt;</span>
        <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">bool</span> IsNullOrEmpty(<span style="color: #0000ff;">this</span> <span style="color: #0000ff;">object</span><span style="color: #000000;"> obj)
        {
            </span><span style="color: #0000ff;">if</span> (obj == <span style="color: #0000ff;">null</span><span style="color: #000000;">)
                </span><span style="color: #0000ff;">return</span> <span style="color: #0000ff;">true</span><span style="color: #000000;">;
            </span><span style="color: #0000ff;">else</span><span style="color: #000000;">
            {
                </span><span style="color: #0000ff;">string</span> objStr =<span style="color: #000000;"> obj.ToString();
                </span><span style="color: #0000ff;">return</span> <span style="color: #0000ff;">string</span><span style="color: #000000;">.IsNullOrEmpty(objStr);
            }
        }

    }</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>&nbsp; &nbsp; <span style="font-size: 16px;">2、怎么使用扩展方法：</span></p>
<p><span style="font-size: 16px;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;先引用扩展方法静态类所在的命名空间，引用完成后，在调用的时候它在你对应类型实例上面有&rdquo;智能感知&ldquo;提示</span></p>
<p><img src="./images/学习Linq之前必须要了解的扩展方法6.png" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp; &nbsp;<span style="font-size: 16px;">&nbsp;3、扩展方法是怎么被发现调用的</span></p>
<p><span style="font-size: 16px;">&nbsp; &nbsp; 如果在using命令，将扩展方法引用到代码中，扩展方法可以像类一下不加限制地在代码中使用。如果编译器认为一个表达试好像要使用一个实例方法，但没有找到与这个方法调用兼容的实例方法，就会查找一个合适的扩展方法。它会检查导入的所有命名空间和当前命名空间中所有的扩展方法，并匹配那些从表达式类型到扩展类型存在隐式转换的扩展方法；</span></p>
<p><span style="font-size: 16px;">&nbsp; &nbsp; <span style="background-color: #ff0000;">&nbsp; &nbsp;简单一句话讲：编译器首先会查看这类型（包括父类）有没有对应的该实例方法，如果有该实例方法他就不会执行扩展方法，如果没有它就会找对应的扩展方法执行；</span></span></p>
<p><span style="font-size: 16px;">&nbsp; &nbsp; &nbsp; &nbsp;假如有一个 student类，它有一个实例方法say，再给他加一个扩展方法say</span></p>
<div class="cnblogs_code" onclick="cnblogs_code_show('36842e61-bcf1-438e-82e7-32743ffa9010')"><img id="code_img_closed_36842e61-bcf1-438e-82e7-32743ffa9010" class="code_img_closed" src="./images/学习Linq之前必须要了解的扩展方法0.png" alt="" /><img id="code_img_opened_36842e61-bcf1-438e-82e7-32743ffa9010" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('36842e61-bcf1-438e-82e7-32743ffa9010',event)" src="./images/学习Linq之前必须要了解的扩展方法1.png" alt="" />
<div id="cnblogs_code_open_36842e61-bcf1-438e-82e7-32743ffa9010" class="cnblogs_code_hide">
<pre><code>  <span style="color: #0000ff;">public</span>  <span style="color: #0000ff;">class</span><span style="color: #000000;"> Student
    {
        </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> Say()
        {
            Console.WriteLine(</span><span style="color: #800000;">"</span><span style="color: #800000;">我是实例方法</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        }
    }


    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> Extensions
    {
        </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span> Say(<span style="color: #0000ff;">this</span><span style="color: #000000;"> Student student)
        {
             Console.WriteLine(</span><span style="color: #800000;">"</span><span style="color: #800000;">我是扩展方法</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        }

    }</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<div class="cnblogs_code" onclick="cnblogs_code_show('4a006317-485a-4c79-8fa5-3cc760cc8694')"><img id="code_img_closed_4a006317-485a-4c79-8fa5-3cc760cc8694" class="code_img_closed" src="./images/学习Linq之前必须要了解的扩展方法0.png" alt="" /><img id="code_img_opened_4a006317-485a-4c79-8fa5-3cc760cc8694" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('4a006317-485a-4c79-8fa5-3cc760cc8694',event)" src="./images/学习Linq之前必须要了解的扩展方法1.png" alt="" />
<div id="cnblogs_code_open_4a006317-485a-4c79-8fa5-3cc760cc8694" class="cnblogs_code_hide">
<pre><code>  <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span> Main(<span style="color: #0000ff;">string</span><span style="color: #000000;">[] args)
        {
            Student student </span>= <span style="color: #0000ff;">new</span><span style="color: #000000;"> Student();
            student.Say();    
           
            Console.ReadKey();
        }</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>执行结果为：</p>
<p><img src="./images/学习Linq之前必须要了解的扩展方法11.png" alt="" /></p>
<p>&nbsp;<span style="background-color: #ff0000;"> &nbsp; &nbsp;还有一种情况，对子类和父类同时加了一个一样的扩展方法，且都引用了他们名词空间，优先调用子类的扩展方法(同样适用于接口父子关系)</span></p>
<div class="cnblogs_code" onclick="cnblogs_code_show('207a57d5-e3c6-4b9f-8711-dbbb0319f6c7')"><img id="code_img_closed_207a57d5-e3c6-4b9f-8711-dbbb0319f6c7" class="code_img_closed" src="./images/学习Linq之前必须要了解的扩展方法0.png" alt="" /><img id="code_img_opened_207a57d5-e3c6-4b9f-8711-dbbb0319f6c7" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('207a57d5-e3c6-4b9f-8711-dbbb0319f6c7',event)" src="./images/学习Linq之前必须要了解的扩展方法1.png" alt="" />
<div id="cnblogs_code_open_207a57d5-e3c6-4b9f-8711-dbbb0319f6c7" class="cnblogs_code_hide">
<pre><code>  <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> Person
    {  
    }
    </span><span style="color: #0000ff;">public</span>  <span style="color: #0000ff;">class</span><span style="color: #000000;"> Student:Person
    {
        </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> Say()
        {
            Console.WriteLine(</span><span style="color: #800000;">"</span><span style="color: #800000;">我是实例方法</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        }
    }   

    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> Extensions
    {
        </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span> Say(<span style="color: #0000ff;">this</span><span style="color: #000000;"> Student student)
        {
             Console.WriteLine(</span><span style="color: #800000;">"</span><span style="color: #800000;">我是扩展方法</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        }
        </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span> GetName(<span style="color: #0000ff;">this</span><span style="color: #000000;"> Student student)
        {
            Console.WriteLine(</span><span style="color: #800000;">"</span><span style="color: #800000;">我是子类扩展方法</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        }
        </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span> GetName(<span style="color: #0000ff;">this</span><span style="color: #000000;"> Person student)
        {
            Console.WriteLine(</span><span style="color: #800000;">"</span><span style="color: #800000;">我是父类扩展方法</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        }

    }</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<div class="cnblogs_code" onclick="cnblogs_code_show('931ebaa1-9528-4abb-ae10-85b56784b7fd')"><img id="code_img_closed_931ebaa1-9528-4abb-ae10-85b56784b7fd" class="code_img_closed" src="./images/学习Linq之前必须要了解的扩展方法0.png" alt="" /><img id="code_img_opened_931ebaa1-9528-4abb-ae10-85b56784b7fd" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('931ebaa1-9528-4abb-ae10-85b56784b7fd',event)" src="./images/学习Linq之前必须要了解的扩展方法1.png" alt="" />
<div id="cnblogs_code_open_931ebaa1-9528-4abb-ae10-85b56784b7fd" class="cnblogs_code_hide">
<pre><code>  <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span> Main(<span style="color: #0000ff;">string</span><span style="color: #000000;">[] args)
        {
            Student student </span>= <span style="color: #0000ff;">new</span><span style="color: #000000;"> Student();
            student.Say();
            student.GetName();
            Console.ReadKey();
        }</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>执行结果：<br /><img src="./images/学习Linq之前必须要了解的扩展方法16.png" alt="" /></p>
<p><span style="font-size: 18pt;">三、怎么正确的使用扩展方法（建议）</span></p>
<p><span style="font-size: 18pt;">&nbsp; &nbsp;<span style="font-size: 16px;"> 接下来简单讲一下怎么正确使用扩展方法：</span></span></p>
<p><span style="font-size: 16px;">&nbsp; &nbsp; &nbsp;1.如果在项目中使用扩展方法，首先需要要项目成员都熟悉扩展方法的使用</span></p>
<p><span style="font-size: 16px;">&nbsp; &nbsp; &nbsp;2.将扩展方法单独放到一个单独的命名空间里，可有效的防止被误用，建议扩展方法所属扩展类尽量用partial类（如针对Object的扩展方法命名Extensions.Object、针对string的扩展方法命名Extensions.String），方便代码维护</span></p>
<p><span style="font-size: 16px;">&nbsp;例如：Extensions.Object、Extensions.String</span></p>
<div class="cnblogs_code" onclick="cnblogs_code_show('a2070588-0176-4124-9ee5-108d723022d1')"><img id="code_img_closed_a2070588-0176-4124-9ee5-108d723022d1" class="code_img_closed" src="./images/学习Linq之前必须要了解的扩展方法0.png" alt="" /><img id="code_img_opened_a2070588-0176-4124-9ee5-108d723022d1" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('a2070588-0176-4124-9ee5-108d723022d1',event)" src="./images/学习Linq之前必须要了解的扩展方法1.png" alt="" />
<div id="cnblogs_code_open_a2070588-0176-4124-9ee5-108d723022d1" class="cnblogs_code_hide">
<pre><code><span style="color: #0000ff;">namespace</span><span style="color: #000000;"> Lucky.Proect.Core.Extensions
{
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">partial</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> Extensions
    {

        </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">string</span> ObjectToJSON(<span style="color: #0000ff;">this</span> <span style="color: #0000ff;">object</span><span style="color: #000000;"> obj)
        {
            </span><span style="color: #0000ff;">return</span> JsonConvert.SerializeObject(obj, <span style="color: #0000ff;">new</span> IsoDateTimeConverter { DateTimeFormat = <span style="color: #800000;">"</span><span style="color: #800000;">yyyy-MM-dd HH:mm:ss</span><span style="color: #800000;">"</span><span style="color: #000000;"> });
        }
        </span><span style="color: #808080;">///</span> <span style="color: #808080;">&lt;summary&gt;</span>
        <span style="color: #808080;">///</span><span style="color: #008000;"> 判断是否为Null或者空
        </span><span style="color: #808080;">///</span> <span style="color: #808080;">&lt;/summary&gt;</span>
        <span style="color: #808080;">///</span> <span style="color: #808080;">&lt;param name="obj"&gt;</span><span style="color: #008000;">对象</span><span style="color: #808080;">&lt;/param&gt;</span>
        <span style="color: #808080;">///</span> <span style="color: #808080;">&lt;returns&gt;&lt;/returns&gt;</span>
        <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">bool</span> IsNullOrEmpty(<span style="color: #0000ff;">this</span> <span style="color: #0000ff;">object</span><span style="color: #000000;"> obj)
        {
            </span><span style="color: #0000ff;">if</span> (obj == <span style="color: #0000ff;">null</span><span style="color: #000000;">)
                </span><span style="color: #0000ff;">return</span> <span style="color: #0000ff;">true</span><span style="color: #000000;">;
            </span><span style="color: #0000ff;">else</span><span style="color: #000000;">
            {
                </span><span style="color: #0000ff;">string</span> objStr =<span style="color: #000000;"> obj.ToString();
                </span><span style="color: #0000ff;">return</span> <span style="color: #0000ff;">string</span><span style="color: #000000;">.IsNullOrEmpty(objStr);
            }
        }

    }
}</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>&nbsp;</p>
<div class="cnblogs_code" onclick="cnblogs_code_show('3ed4cca8-4b6f-4eb2-a790-7eeaed0a2078')"><img id="code_img_closed_3ed4cca8-4b6f-4eb2-a790-7eeaed0a2078" class="code_img_closed" src="./images/学习Linq之前必须要了解的扩展方法0.png" alt="" /><img id="code_img_opened_3ed4cca8-4b6f-4eb2-a790-7eeaed0a2078" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('3ed4cca8-4b6f-4eb2-a790-7eeaed0a2078',event)" src="./images/学习Linq之前必须要了解的扩展方法1.png" alt="" />
<div id="cnblogs_code_open_3ed4cca8-4b6f-4eb2-a790-7eeaed0a2078" class="cnblogs_code_hide">
<pre><code><span style="color: #0000ff;">namespace</span><span style="color: #000000;"> Lucky.Proect.Core.Extensions
{
   </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">partial</span>   <span style="color: #0000ff;">class</span><span style="color: #000000;"> Extensions
    {
          [DebuggerStepThrough] </span><span style="color: #008000;">//</span><span style="color: #008000;">该特性是用在方法前面的，在想要跳过的方法前面加上 </span>
        <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> T FromJson&lt;T&gt;(<span style="color: #0000ff;">this</span> <span style="color: #0000ff;">string</span><span style="color: #000000;"> jsonStr)
        {
            </span><span style="color: #0000ff;">return</span> <span style="color: #0000ff;">string</span>.IsNullOrEmpty(jsonStr) ? <span style="color: #0000ff;">default</span>(T) : JsonConvert.DeserializeObject&lt;T&gt;<span style="color: #000000;">(jsonStr);
        }
        </span><span style="color: #808080;">///</span> <span style="color: #808080;">&lt;summary&gt;</span>
        <span style="color: #808080;">///</span><span style="color: #008000;"> 指示指定的字符串是 null、空或者仅由空白字符组成。
        </span><span style="color: #808080;">///</span> <span style="color: #808080;">&lt;/summary&gt;</span>
        [DebuggerStepThrough] <span style="color: #008000;">//</span><span style="color: #008000;">该特性是用在方法前面的，在想要跳过的方法前面加上 </span>
        <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">bool</span> IsNullOrWhiteSpace(<span style="color: #0000ff;">this</span> <span style="color: #0000ff;">string</span><span style="color: #000000;"> value)
        {
            </span><span style="color: #0000ff;">return</span> <span style="color: #0000ff;">string</span><span style="color: #000000;">.IsNullOrWhiteSpace(value);
        }
        </span><span style="color: #808080;">///</span> <span style="color: #808080;">&lt;summary&gt;</span>
        <span style="color: #808080;">///</span><span style="color: #008000;"> 将Json字符串转为DataTable
        </span><span style="color: #808080;">///</span> <span style="color: #808080;">&lt;/summary&gt;</span>
        <span style="color: #808080;">///</span> <span style="color: #808080;">&lt;param name="jsonStr"&gt;</span><span style="color: #008000;">Json字符串</span><span style="color: #808080;">&lt;/param&gt;</span>
        <span style="color: #808080;">///</span> <span style="color: #808080;">&lt;returns&gt;&lt;/returns&gt;</span>
        <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> DataTable ToDataTable(<span style="color: #0000ff;">this</span> <span style="color: #0000ff;">string</span><span style="color: #000000;"> jsonStr)
        {
            </span><span style="color: #0000ff;">return</span> jsonStr == <span style="color: #0000ff;">null</span> ? <span style="color: #0000ff;">null</span> : JsonConvert.DeserializeObject&lt;DataTable&gt;<span style="color: #000000;">(jsonStr);
        }
    }
}</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p>&nbsp; &nbsp;<span style="font-size: 16px;">&nbsp;3.尽量不在在object上面写太多的扩展方法，写之前要多加思考，不然在项目使用中任何类型智能提示出现一推扩展方法，看起来比较杂乱，针对int的扩展方法应该写在int类型上，针对datetime的扩展方法应该写在datetime类型上不应该都写在object类型上</span></p>
<p><span style="font-size: 16px;">&nbsp; &nbsp; 4.如果方法名在扩展类型中已经使用，就不要再用这个名称了，因为写了也无效；</span></p>
<p>&nbsp; &nbsp; &nbsp;&nbsp;</p>
<p>&nbsp;</p>
<p><span style="font-size: 15px;">&nbsp; &nbsp; &nbsp;</span></p>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>