<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='ç”µè„‘,ç”µè„‘è®²è§£,ç”µè„‘æŠ€æœ¯,ç¼–ç¨‹,ç”µè„‘æ•…éšœç»´ä¿®C#è§£ææ·±æµ…æ‹·è´' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>é¦–é¡µ</a></li>
</div><div onclick='hidden1()' >åˆ†äº«</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>C#è§£ææ·±æµ…æ‹·è´</center></div><div class='banquan'>åŸæ–‡å‡ºå¤„:æœ¬æ–‡ç”±åšå®¢å›­åšä¸»å°ä¸–ç•Œçš„é‡å­©å­æä¾›ã€‚<br/>
åŸæ–‡è¿æ¥:https://www.cnblogs.com/hulizhong/p/11776610.html</div><br>
    <h2><strong>å‰è¨€</strong></h2>
<p>ã€€ã€€å‰é¢æˆ‘ä»¬å­¦ä¹ å®Œäº†è®¾è®¡æ¨¡å¼ï¼Œåœ¨å…¶ä¸­æˆ‘ä»¬æœ‰äº†è§£åˆ°åŸå‹æ¨¡å¼ã€‚è¿™é‡Œæ¶‰åŠåˆ°äº†å…‹éš†è‡ªèº«å¯¹è±¡ã€‚é‚£ä¹ˆä¹Ÿå°±æ˜¯å¯¹å¯¹è±¡è¿›è¡Œæ‹·è´ã€‚è¿™é‡Œå°±æ¶‰åŠåˆ°äº†è¿™ä¹ˆä¸€ä¸ªæ¦‚å¿µã€‚æ·±æµ…æ‹·è´ã€ä½•ä¸ºæ·±æ‹·è´ä½•ä¸ºæµ…æ‹·è´å‘¢ï¼Ÿæˆ‘ä»¬ä¸€èµ·æ¥çœ‹çœ‹å§ã€‚</p>
<h2><strong>æµ…æ‹·è´</strong></h2>
<p><span style="font-family: å¾®è½¯é›…é»‘;">ã€€ã€€é¦–å…ˆæˆ‘ä»¬çœ‹çœ‹æµ…æ‹·è´ã€‚æµ…æ‹·è´å°±æ˜¯å°†å¯¹è±¡ä¸­çš„æ‰€æœ‰å­—æ®µå¤åˆ¶åˆ°æ–°å¯¹è±¡ä¸­å»ï¼Œæµ…æ‹·è´å¯¹äºå€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹æœ‰ä¸åŒçš„å½±å“ã€‚å€¼ç±»å‹çš„å€¼è¢«å¤åˆ¶åˆ°å‰¯æœ¬ä¸­åï¼Œä¿®æ”¹å‰¯æœ¬ä¸­çš„å€¼ä¸ä¼šå½±å“åŸæ¥å¯¹è±¡çš„å€¼ã€‚ç„¶è€Œå¼•ç”¨ç±»å‹è¢«å¤åˆ¶åˆ°å‰¯æœ¬ä¸­çš„æ˜¯å¼•ç”¨ç±»å‹çš„å¼•ç”¨ã€‚ä¸æ˜¯å¼•ç”¨çš„å¯¹è±¡ã€‚è¿™æ ·å†ä¿®æ”¹å‰¯æœ¬ä¸­çš„å€¼æ˜¯ä¼šå¯¼è‡´åŸæ¥å¯¹è±¡çš„å€¼ä¹Ÿè¢«ä¿®æ”¹äº†ã€‚ä½†æ˜¯è¿™é‡Œå¼•ç”¨ç±»å‹æƒ…å†µæˆ‘ä»¬éœ€è¦æ’é™¤å­—ç¬¦ä¸²</span>Stringç±»å‹ã€‚</p>
<p><span style="font-family: å¾®è½¯é›…é»‘;">ã€€ã€€é‚£ä¹ˆä¸ºä½•å¼•ç”¨ç±»å‹ä¿®æ”¹å‰¯æœ¬çš„å€¼ä¼šé€ æˆåŸæ¥å¯¹è±¡çš„å€¼çš„å˜åŒ–ï¼Œè€Œ</span>stringå­—ç¬¦ä¸²ç±»å‹å´æ’é™¤åœ¨å¤–å‘¢ï¼Ÿé¦–å…ˆæˆ‘ä»¬éœ€è¦çŸ¥é“è¿™ä¹ˆä¸€ä¸ªæ¦‚å¿µï¼Œstringç±»å‹æ˜¯ä¸€ä¸ªä¸å¯å˜çš„æ•°æ®ç±»å‹ï¼Œä¹Ÿå°±æ˜¯æ„å‘³ç€å¯¹å­—ç¬¦ä¸²å¯¹è±¡è¿›è¡Œäº†åˆå§‹åŒ–ï¼Œè¯¥å­—ç¬¦ä¸²å¯¹è±¡å°±ä¸èƒ½æ”¹å˜äº†ã€‚è¡¨é¢ä¸Šæˆ‘ä»¬ä¿®æ”¹å­—ç¬¦ä¸²çš„å†…å®¹çš„æ–¹æ³•å’Œè¿ç®—å®é™…ä¸Šæ˜¯åˆ›å»ºäº†ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œç„¶åæ ¹æ®éœ€è¦å¯ä»¥æŠŠæ—§å­—ç¬¦ä¸²çš„å†…å®¹å¤åˆ¶åˆ°æ–°å­—ç¬¦ä¸²ä¸­ã€‚æ€ä¹ˆç†è§£ä½ ï¼Ÿæˆ‘ä»¬çœ‹ä¸‹é¢è¿™ä¸ªæ¡ˆä¾‹ï¼š</p>
<div class="cnblogs_code">
<pre><code>        <span style="color: #0000ff;">#region</span>  å­—ç¬¦ä¸²æ¯”è¾ƒ
        <span style="color: #808080;">///</span> <span style="color: #808080;">&lt;summary&gt;</span>
        <span style="color: #808080;">///</span><span style="color: #008000;">   è·å–å¼•ç”¨ç±»å‹çš„å†…å­˜åœ°å€æ–¹æ³•
        </span><span style="color: #808080;">///</span> <span style="color: #808080;">&lt;/summary&gt;</span>
        <span style="color: #808080;">///</span> <span style="color: #808080;">&lt;param name="o"&gt;&lt;/param&gt;</span>
        <span style="color: #808080;">///</span> <span style="color: #808080;">&lt;returns&gt;&lt;/returns&gt;</span>
        <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">string</span> getMemory(<span style="color: #0000ff;">object</span><span style="color: #000000;"> o)
        {
            GCHandle h </span>=<span style="color: #000000;"> GCHandle.Alloc(o, GCHandleType.Pinned);
            IntPtr addr </span>=<span style="color: #000000;"> h.AddrOfPinnedObject();
            </span><span style="color: #0000ff;">return</span> <span style="color: #800000;">"</span><span style="color: #800000;">0x</span><span style="color: #800000;">"</span> + addr.ToString(<span style="color: #800000;">"</span><span style="color: #800000;">X</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        }
        </span><span style="color: #808080;">///</span> <span style="color: #808080;">&lt;summary&gt;</span>
        <span style="color: #808080;">///</span><span style="color: #008000;"> å­—ç¬¦ä¸²æ¯”è¾ƒ
        </span><span style="color: #808080;">///</span> <span style="color: #808080;">&lt;/summary&gt;</span>
        <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> Compares()
        {
            </span><span style="color: #0000ff;">string</span> a = <span style="color: #800000;">"</span><span style="color: #800000;">123</span><span style="color: #800000;">"</span><span style="color: #000000;">;
            Console.WriteLine(</span><span style="color: #800000;">"</span><span style="color: #800000;">açš„å¼•ç”¨åœ°å€ï¼š\t\t</span><span style="color: #800000;">"</span> +<span style="color: #000000;"> getMemory(a));
            </span><span style="color: #0000ff;">string</span> b = <span style="color: #800000;">"</span><span style="color: #800000;">123</span><span style="color: #800000;">"</span><span style="color: #000000;">;
            Console.WriteLine(</span><span style="color: #800000;">"</span><span style="color: #800000;">bçš„å¼•ç”¨åœ°å€ï¼š\t\t</span><span style="color: #800000;">"</span> +<span style="color: #000000;"> getMemory(b));
            Console.WriteLine(</span><span style="color: #800000;">"</span><span style="color: #800000;">aä¸bçš„æ¯”è¾ƒï¼š\t\t</span><span style="color: #800000;">"</span> +<span style="color: #000000;"> Object.ReferenceEquals(a, b));
            b </span>= <span style="color: #800000;">"</span><span style="color: #800000;">456</span><span style="color: #800000;">"</span><span style="color: #000000;">;
            Console.WriteLine(</span><span style="color: #800000;">"</span><span style="color: #800000;">bçš„å¼•ç”¨åœ°å€ï¼š\t\t</span><span style="color: #800000;">"</span> +<span style="color: #000000;"> getMemory(b));


        }

        </span><span style="color: #0000ff;">#endregion</span></pre>
</div>
<p style="margin-left: 30px;"><img src="./images/C#è§£ææ·±æµ…æ‹·è´0.png" alt="" /></p>
<p><span style="font-family: å¾®è½¯é›…é»‘;">ã€€ã€€è¿™é‡Œæˆ‘ä»¬çœ‹</span>a=&rdquo;123&rdquo;,b=&rdquo;123&rdquo;<span style="font-family: å¾®è½¯é›…é»‘;">ã€‚æˆ‘ä»¬çœ‹ä»–ä»¬çš„å¼•ç”¨åœ°å€æ˜¯ä¸€æ ·çš„ã€‚ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å…ˆåˆ›å»º</span>açš„æ—¶å€™åˆ›å»ºäº†å­—ç¬¦ä¸²aï¼Œæœ‰äº†ä¸€ä¸ªå¼•ç”¨åœ°å€ã€‚ç„¶åæˆ‘ä»¬åˆ›å»ºbçš„æ—¶å€™é¦–å…ˆä¼šå¯»æ‰¾æ˜¯å¦å­˜åœ¨ç›¸åŒçš„å€¼ã€‚å¦‚æœå­˜åœ¨ç›¸åŒçš„å€¼å°±è·å–å…¶å¼•ç”¨åœ°å€ã€‚è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆaä¸bçš„å¼•ç”¨åœ°å€æ˜¯ä¸€æ ·çš„ã€‚è¿™é‡Œæ¶‰åŠåˆ°ä¸€ä¸ªå«åšå­—ç¬¦é©»ç•™æ± çš„ä¸œè¥¿ã€‚ä¼šå¯¹å­—ç¬¦ä¸²è¿›è¡Œä¿å­˜ã€‚é‚£ä¹ˆåé¢æˆ‘ä»¬ä¿®æ”¹bçš„å€¼ç„¶åè¾“å‡ºå…¶å¼•ç”¨åœ°å€ï¼Œå‘ç°å’Œä¹‹å‰çš„å¼•ç”¨åœ°å€ä¸ä¸€æ ·ã€‚è¯´æ˜å¹¶ä¸æ˜¯ä¿®æ”¹åŸæ¥çš„å€¼ï¼Œè€Œæ˜¯é‡æ–°åˆ›å»ºäº†ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œé‡æ–°è·å–äº†å®ƒçš„å¼•ç”¨åœ°å€ã€‚</p>
<p><span style="font-family: å¾®è½¯é›…é»‘;">ã€€ã€€æˆ‘ä»¬æ¥ä¸‹æ¥çœ‹ä¸€ä¸ªæµ…æ‹·è´çš„æ¡ˆä¾‹å§ï¼Œé¦–å…ˆæˆ‘ä»¬å‡†å¤‡çš„æ˜¯ä»¥ä¸‹çš„æ•°æ®ç±»å‹çš„å€¼ï¼š</span>intï¼Œstringï¼Œenumï¼Œstructï¼Œclassï¼Œint[]ï¼Œstring[]ã€‚</p>
<div class="cnblogs_code">
<pre><code>    <span style="color: #808080;">///</span> <span style="color: #808080;">&lt;summary&gt;</span>
    <span style="color: #808080;">///</span><span style="color: #008000;"> æšä¸¾
    </span><span style="color: #808080;">///</span> <span style="color: #808080;">&lt;/summary&gt;</span>
    <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">enum</span><span style="color: #000000;"> EnumTest
    {
        TestOne </span>= <span style="color: #800080;">1</span><span style="color: #000000;">,
        TestTwo </span>= <span style="color: #800080;">2</span><span style="color: #000000;">
    }

    </span><span style="color: #808080;">///</span> <span style="color: #808080;">&lt;summary&gt;</span>
    <span style="color: #808080;">///</span><span style="color: #008000;"> ç»“æ„ä½“
    </span><span style="color: #808080;">///</span> <span style="color: #808080;">&lt;/summary&gt;</span>
    <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">struct</span><span style="color: #000000;"> StructTest
    {
        </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">int</span><span style="color: #000000;"> Test;
        </span><span style="color: #0000ff;">public</span> StructTest(<span style="color: #0000ff;">int</span><span style="color: #000000;"> i)
        {
            Test </span>=<span style="color: #000000;"> i;
        }
    }

    </span><span style="color: #808080;">///</span> <span style="color: #808080;">&lt;summary&gt;</span>
    <span style="color: #808080;">///</span><span style="color: #008000;"> ç±»
    </span><span style="color: #808080;">///</span> <span style="color: #808080;">&lt;/summary&gt;</span>
    <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> ClassTest
    {
        </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">string</span><span style="color: #000000;"> TestString;
        </span><span style="color: #0000ff;">public</span> ClassTest(<span style="color: #0000ff;">string</span><span style="color: #000000;"> _string)
        {
            TestString </span>=<span style="color: #000000;"> _string;
        }
    }
    </span><span style="color: #808080;">///</span> <span style="color: #808080;">&lt;summary&gt;</span>
    <span style="color: #808080;">///</span><span style="color: #008000;"> æ·±æ‹·è´
    </span><span style="color: #808080;">///</span> <span style="color: #808080;">&lt;/summary&gt;</span>
    <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> DeepClone : ICloneable
    {
        </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">int</span> _int = <span style="color: #800080;">1</span><span style="color: #000000;">;
        </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">string</span> _string = <span style="color: #800000;">"</span><span style="color: #800000;">1</span><span style="color: #800000;">"</span><span style="color: #000000;">;
        </span><span style="color: #0000ff;">public</span> EnumTest _enum =<span style="color: #000000;"> EnumTest.TestOne;
        </span><span style="color: #0000ff;">public</span> StructTest _struct = <span style="color: #0000ff;">new</span> StructTest(<span style="color: #800080;">1</span><span style="color: #000000;">);
        </span><span style="color: #0000ff;">public</span> ClassTest _class = <span style="color: #0000ff;">new</span> ClassTest(<span style="color: #800000;">"</span><span style="color: #800000;">1</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">int</span>[] arrInt = <span style="color: #0000ff;">new</span> <span style="color: #0000ff;">int</span>[] { <span style="color: #800080;">1</span><span style="color: #000000;"> };
        </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">string</span>[] arrString = <span style="color: #0000ff;">new</span> <span style="color: #0000ff;">string</span>[] { <span style="color: #800000;">"</span><span style="color: #800000;">1</span><span style="color: #800000;">"</span><span style="color: #000000;"> };
        </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">object</span><span style="color: #000000;"> Clone()
        {
            </span><span style="color: #0000ff;">var</span> NewOne = JsonConvert.SerializeObject(<span style="color: #0000ff;">this</span><span style="color: #000000;">);
            </span><span style="color: #0000ff;">return</span> JsonConvert.DeserializeObject&lt;DeepClone&gt;<span style="color: #000000;">(NewOne);
        } 
    }
    </span><span style="color: #0000ff;">class</span><span style="color: #000000;"> Program
    {
        </span><span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span> Main(<span style="color: #0000ff;">string</span><span style="color: #000000;">[] args)
        {
            DeepClone simple </span>= <span style="color: #0000ff;">new</span><span style="color: #000000;"> DeepClone();
            </span><span style="color: #0000ff;">var</span> simpleTwo =<span style="color: #000000;"> (DeepClone)simple.Clone();
            simpleTwo._int </span>= <span style="color: #800080;">2</span><span style="color: #000000;">;
            simpleTwo._string </span>= <span style="color: #800000;">"</span><span style="color: #800000;">2</span><span style="color: #800000;">"</span><span style="color: #000000;">;
            simpleTwo._enum </span>=<span style="color: #000000;"> EnumTest.TestTwo;
            simpleTwo._struct.Test </span>= <span style="color: #800080;">2</span><span style="color: #000000;">;
            simpleTwo._class.TestString </span>= <span style="color: #800000;">"</span><span style="color: #800000;">2</span><span style="color: #800000;">"</span><span style="color: #000000;">;
            simpleTwo.arrInt[</span><span style="color: #800080;">0</span>] = <span style="color: #800080;">2</span><span style="color: #000000;">;
            simpleTwo.arrString[</span><span style="color: #800080;">0</span>] = <span style="color: #800000;">"</span><span style="color: #800000;">2</span><span style="color: #800000;">"</span><span style="color: #000000;">;

            Console.WriteLine($</span><span style="color: #800000;">"</span><span style="color: #800000;">int ç±»å‹å˜åŒ–     åŸå¯¹è±¡ï¼š{simple._int}\t\t               å¤‡ä»½å¯¹è±¡:{simpleTwo._int}</span><span style="color: #800000;">"</span><span style="color: #000000;">);
            Console.WriteLine($</span><span style="color: #800000;">"</span><span style="color: #800000;">string ç±»å‹å˜åŒ–  åŸå¯¹è±¡ï¼š{simple._string}\t\t            å¤‡ä»½å¯¹è±¡:{simpleTwo._string}</span><span style="color: #800000;">"</span><span style="color: #000000;">);
            Console.WriteLine($</span><span style="color: #800000;">"</span><span style="color: #800000;">enum ç±»å‹å˜åŒ–    åŸå¯¹è±¡ï¼š{(int)simple._enum}\t\t         å¤‡ä»½å¯¹è±¡:{(int)simpleTwo._enum}</span><span style="color: #800000;">"</span><span style="color: #000000;">);
            Console.WriteLine($</span><span style="color: #800000;">"</span><span style="color: #800000;">struct ç±»å‹å˜åŒ–  åŸå¯¹è±¡ï¼š{simple._struct.Test}\t\t       å¤‡ä»½å¯¹è±¡:{simpleTwo._struct.Test}</span><span style="color: #800000;">"</span><span style="color: #000000;">);
            Console.WriteLine($</span><span style="color: #800000;">"</span><span style="color: #800000;">class ç±»å‹å˜åŒ–   åŸå¯¹è±¡ï¼š{simple._class.TestString}\t\t  å¤‡ä»½å¯¹è±¡:{simpleTwo._class.TestString}</span><span style="color: #800000;">"</span><span style="color: #000000;">);
            Console.WriteLine($</span><span style="color: #800000;">"</span><span style="color: #800000;">intæ•°ç»„ ç±»å‹å˜åŒ–  åŸå¯¹è±¡ï¼š{simple.arrInt[0]}\t\t         å¤‡ä»½å¯¹è±¡:{simpleTwo.arrInt[0]}</span><span style="color: #800000;">"</span><span style="color: #000000;">);
            Console.WriteLine($</span><span style="color: #800000;">"</span><span style="color: #800000;">stringæ•°ç»„ ç±»å‹å˜åŒ–   åŸå¯¹è±¡ï¼š{simple.arrString[0]}\t\t  å¤‡ä»½å¯¹è±¡:{simpleTwo.arrString[0]}</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        } 
    }</span></pre>
</div>
<p style="margin-left: 30px;"><img src="./images/C#è§£ææ·±æµ…æ‹·è´1.png" alt="" /></p>
<p><span style="font-family: å¾®è½¯é›…é»‘;">ã€€ã€€æˆ‘ä»¬é€šè¿‡ç»§æ‰¿</span>ICloneableæ¥å£å¯¹è¿™äº›ç±»å‹éƒ½è¿›è¡Œäº†æµ…æ‹·è´ç„¶åä¿®æ”¹å‰¯æœ¬å¯¹è±¡ã€‚è¾“å‡ºåŸå¯¹è±¡å’Œå‰¯æœ¬å¯¹è±¡è¿›è¡Œæ¯”è¾ƒã€‚æˆ‘ä»¬å‘ç°int,enum,structã€å€¼ç±»å‹ä»¥åŠstringè¿™ä¸ªç‰¹æ®Šçš„å¼•ç”¨ç±»å‹çš„åŸå¯¹è±¡å€¼æ²¡æœ‰è¢«å½±å“æ”¹å˜ã€‚ä½†æ˜¯class,int[],string[]è¿™äº›å¼•ç”¨ç±»å‹å¯¹è±¡åŸå¯¹è±¡è¢«å½±å“æ”¹å˜äº†å€¼ã€‚ä¹Ÿå°±å†æ¬¡éªŒè¯äº†æˆ‘ä»¬å‰é¢è¯´çš„ã€‚æµ…æ‹·è´æ˜¯å°†å¯¹è±¡è¿›è¡Œèµ‹å€¼åˆ°ä¸€ä¸ªå‰¯æœ¬å¯¹è±¡ä¸­å»ï¼Œå€¼ç±»å‹å¤åˆ¶å€¼ï¼Œå¼•ç”¨ç±»å‹å¤åˆ¶å…¶å¼•ç”¨å¯¹è±¡ã€‚ä¿®æ”¹å‰¯æœ¬å¯¹è±¡å€¼ï¼Œå€¼ç±»å‹å’ŒstringåŸå¯¹è±¡ä¸ä¼šè¢«å½±å“æ”¹å˜ï¼Œå¼•ç”¨ç±»å‹é™¤stringå…¶åŸå¯¹è±¡éƒ½ä¼šè¢«å½±å“æ”¹å˜ã€‚</p>
<h2><strong>æ·±æ‹·è´</strong></h2>
<p><span style="font-family: å¾®è½¯é›…é»‘;">ã€€ã€€æˆ‘ä»¬ä¸Šé¢çœ‹äº†æµ…æ‹·è´ï¼Œæµ…æ‹·è´è¿˜æ˜¯æœ‰ä¸€å®šçš„å½±å“çš„ï¼Œå¤„ç†ä¸å¥½å¯èƒ½å°±æˆ</span>bugã€‚é‚£ä¹ˆæˆ‘ä»¬çœ‹çœ‹å¯¹åº”çš„æ·±æ‹·è´åˆæ˜¯ä»€ä¹ˆæ ·çš„å‘¢ï¼Ÿè¿™é‡Œå¯ä»¥å…ˆå£°æ˜ï¼Œæ·±æ‹·è´å¯¹å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹éƒ½æ²¡æœ‰åŒºåˆ«å¯¹å¾…ã€‚æ·±æ‹·è´ä¹Ÿæ˜¯å°†å¯¹è±¡ä¸­çš„æ‰€æœ‰å­—æ®µå¤åˆ¶åˆ°æ–°å¯¹è±¡ä¸­å»ï¼Œä½†æ˜¯å¯¹è±¡æ— è®ºæ˜¯å€¼ç±»å‹è¿˜æ˜¯å¼•ç”¨ç±»å‹éƒ½å°†è¢«é‡æ–°åˆ›å»ºç„¶åå¤åˆ¶åˆ°å‰¯æœ¬å¯¹è±¡å»ã€‚å¯¹äºå‰¯æœ¬å¯¹è±¡çš„ä¿®æ”¹å°†ä¸ä¼šå½±å“åˆ°åŸå¯¹è±¡ï¼Œæ— è®ºä»»ä½•ç±»å‹ã€‚</p>
<p>ã€€ã€€æˆ‘ä»¬ç»§ç»­å°†ä¸Šé¢çš„ä¾‹å­è¿›è¡Œæ·±æ‹·è´çœ‹çœ‹ï¼š</p>
<div class="cnblogs_code">
<pre><code>    <span style="color: #808080;">///</span> <span style="color: #808080;">&lt;summary&gt;</span>
    <span style="color: #808080;">///</span><span style="color: #008000;"> æ·±æ‹·è´
    </span><span style="color: #808080;">///</span> <span style="color: #808080;">&lt;/summary&gt;</span>
    <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> DeepClone : ICloneable
    {
        </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">int</span> _int = <span style="color: #800080;">1</span><span style="color: #000000;">;
        </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">string</span> _string = <span style="color: #800000;">"</span><span style="color: #800000;">1</span><span style="color: #800000;">"</span><span style="color: #000000;">;
        </span><span style="color: #0000ff;">public</span> EnumTest _enum =<span style="color: #000000;"> EnumTest.TestOne;
        </span><span style="color: #0000ff;">public</span> StructTest _struct = <span style="color: #0000ff;">new</span> StructTest(<span style="color: #800080;">1</span><span style="color: #000000;">);
        </span><span style="color: #0000ff;">public</span> ClassTest _class = <span style="color: #0000ff;">new</span> ClassTest(<span style="color: #800000;">"</span><span style="color: #800000;">1</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">int</span>[] arrInt = <span style="color: #0000ff;">new</span> <span style="color: #0000ff;">int</span>[] { <span style="color: #800080;">1</span><span style="color: #000000;"> };
        </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">string</span>[] arrString = <span style="color: #0000ff;">new</span> <span style="color: #0000ff;">string</span>[] { <span style="color: #800000;">"</span><span style="color: #800000;">1</span><span style="color: #800000;">"</span><span style="color: #000000;"> };
        </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">object</span><span style="color: #000000;"> Clone()
        {
            </span><span style="color: #0000ff;">var</span> NewOne = JsonConvert.SerializeObject(<span style="color: #0000ff;">this</span><span style="color: #000000;">);
            </span><span style="color: #0000ff;">return</span> JsonConvert.DeserializeObject&lt;DeepClone&gt;<span style="color: #000000;">(NewOne);
        } 
    }

    </span><span style="color: #0000ff;">class</span><span style="color: #000000;"> Program
    {
        </span><span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span> Main(<span style="color: #0000ff;">string</span><span style="color: #000000;">[] args)
        {
            DeepClone simple </span>= <span style="color: #0000ff;">new</span><span style="color: #000000;"> DeepClone();
            </span><span style="color: #0000ff;">var</span> simpleTwo =<span style="color: #000000;"> (DeepClone)simple.Clone();
            simpleTwo._int </span>= <span style="color: #800080;">2</span><span style="color: #000000;">;
            simpleTwo._string </span>= <span style="color: #800000;">"</span><span style="color: #800000;">2</span><span style="color: #800000;">"</span><span style="color: #000000;">;
            simpleTwo._enum </span>=<span style="color: #000000;"> EnumTest.TestTwo;
            simpleTwo._struct.Test </span>= <span style="color: #800080;">2</span><span style="color: #000000;">;
            simpleTwo._class.TestString </span>= <span style="color: #800000;">"</span><span style="color: #800000;">2</span><span style="color: #800000;">"</span><span style="color: #000000;">;
            simpleTwo.arrInt[</span><span style="color: #800080;">0</span>] = <span style="color: #800080;">2</span><span style="color: #000000;">;
            simpleTwo.arrString[</span><span style="color: #800080;">0</span>] = <span style="color: #800000;">"</span><span style="color: #800000;">2</span><span style="color: #800000;">"</span><span style="color: #000000;">;

            Console.WriteLine($</span><span style="color: #800000;">"</span><span style="color: #800000;">int ç±»å‹å˜åŒ–     åŸå¯¹è±¡ï¼š{simple._int}\t\t               å¤‡ä»½å¯¹è±¡:{simpleTwo._int}</span><span style="color: #800000;">"</span><span style="color: #000000;">);
            Console.WriteLine($</span><span style="color: #800000;">"</span><span style="color: #800000;">string ç±»å‹å˜åŒ–  åŸå¯¹è±¡ï¼š{simple._string}\t\t            å¤‡ä»½å¯¹è±¡:{simpleTwo._string}</span><span style="color: #800000;">"</span><span style="color: #000000;">);
            Console.WriteLine($</span><span style="color: #800000;">"</span><span style="color: #800000;">enum ç±»å‹å˜åŒ–    åŸå¯¹è±¡ï¼š{(int)simple._enum}\t\t         å¤‡ä»½å¯¹è±¡:{(int)simpleTwo._enum}</span><span style="color: #800000;">"</span><span style="color: #000000;">);
            Console.WriteLine($</span><span style="color: #800000;">"</span><span style="color: #800000;">struct ç±»å‹å˜åŒ–  åŸå¯¹è±¡ï¼š{simple._struct.Test}\t\t       å¤‡ä»½å¯¹è±¡:{simpleTwo._struct.Test}</span><span style="color: #800000;">"</span><span style="color: #000000;">);
            Console.WriteLine($</span><span style="color: #800000;">"</span><span style="color: #800000;">class ç±»å‹å˜åŒ–   åŸå¯¹è±¡ï¼š{simple._class.TestString}\t\t  å¤‡ä»½å¯¹è±¡:{simpleTwo._class.TestString}</span><span style="color: #800000;">"</span><span style="color: #000000;">);
            Console.WriteLine($</span><span style="color: #800000;">"</span><span style="color: #800000;">intæ•°ç»„ ç±»å‹å˜åŒ–  åŸå¯¹è±¡ï¼š{simple.arrInt[0]}\t\t         å¤‡ä»½å¯¹è±¡:{simpleTwo.arrInt[0]}</span><span style="color: #800000;">"</span><span style="color: #000000;">);
            Console.WriteLine($</span><span style="color: #800000;">"</span><span style="color: #800000;">stringæ•°ç»„ ç±»å‹å˜åŒ–   åŸå¯¹è±¡ï¼š{simple.arrString[0]}\t\t  å¤‡ä»½å¯¹è±¡:{simpleTwo.arrString[0]}</span><span style="color: #800000;">"</span><span style="color: #000000;">);
        } 
    }</span></pre>
</div>
<p style="margin-left: 30px;"><img src="./images/C#è§£ææ·±æµ…æ‹·è´2.png" alt="" /></p>
<p>è¿™é‡Œæˆ‘ä»¬çœ‹è¿™ä¸ªè¿è¡Œç»“æœï¼Œæ— è®ºå€¼ç±»å‹è¿˜æ˜¯å¼•ç”¨ç±»å‹ä¿®æ”¹å‰¯æœ¬å¯¹è±¡ä¹‹åéƒ½æ²¡æœ‰å½±å“åŸå¯¹è±¡çš„å€¼ã€‚è¿™ä¹Ÿå°±æ˜¯æ·±æ‹·è´çš„ç‰¹ç‚¹äº†ã€‚</p>
<p>&nbsp;</p>
<h2><strong>æ€»ç»“</strong></h2>
<p>ã€€ã€€æˆ‘ä»¬çœ‹å®Œäº†æµ…æ‹·è´ä¸æ·±æ‹·è´ï¼Œæˆ‘ä»¬ä»”ç»†å›é¡¾ä¸‹ã€‚<strong><span style="font-family: å¾®è½¯é›…é»‘;">æµ…æ‹·è´å°†å¯¹è±¡çš„å­—æ®µå¤åˆ¶åˆ°æ–°çš„å¯¹è±¡ä¸­å»ï¼Œä½†æ˜¯å½“ä¿®æ”¹æ–°å¯¹è±¡çš„æ—¶å€™ï¼Œå€¼ç±»å‹å’Œ</span>stringç±»å‹çš„å­—æ®µå°†ä¸ä¼šå½±å“åŸå¯¹è±¡çš„å­—æ®µï¼Œè€Œå¼•ç”¨ç±»å‹é™¤stringç±»å‹å¤–éƒ½å°†å½±å“åŸå¯¹è±¡çš„å€¼ã€‚æ·±æ‹·è´ä¹Ÿæ˜¯å°†å¯¹è±¡çš„å­—æ®µå¤åˆ¶åˆ°æ–°çš„å¯¹è±¡ä¸­å»ï¼Œä½†æ˜¯æ— è®ºæ˜¯å€¼ç±»å‹è¿˜æ˜¯å¼•ç”¨ç±»å‹çš„æ”¹å˜éƒ½ä¸ä¼šå½±å“åŸå¯¹è±¡çš„å€¼ã€‚å› ä¸ºæ·±æ‹·è´æ˜¯å°†åŸå¯¹è±¡é‡æ–°åˆ›å»ºç„¶åå¤åˆ¶åˆ°å‰¯æœ¬å¯¹è±¡ä¸­å»çš„ã€‚</strong></p>
<hr />
<p><strong>ã€€ã€€<span style="font-size: 15px;">äººç”Ÿåªæœ‰èµ°å‡ºæ¥çš„ç¾ä¸½ï¼Œæ²¡æœ‰ç­‰å‡ºæ¥çš„è¾‰ç…Œã€‚</span></strong></p>
<p><strong>&nbsp; &nbsp;ã€€æ¬¢è¿å¤§å®¶æ‰«æä¸‹æ–¹äºŒç»´ç ï¼Œå’Œæˆ‘ä¸€èµ·å­¦ä¹ æ›´å¤šçš„çŸ¥è¯†ğŸ˜Š</strong></p>
<p>&nbsp;<strong><img src="./images/C#è§£ææ·±æµ…æ‹·è´3.png" alt="" width="278" height="278" /></strong></p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>