<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修工控随笔_C#连接PLC_之_C#入门_01_配置学习环境' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>工控随笔_C#连接PLC_之_C#入门_01_配置学习环境</center></div><div class='banquan'>原文出处:本文由博客园博主volcanol提供。<br/>
原文连接:https://www.cnblogs.com/volcanol/p/11031199.html</div><br>
    <p>　　　　最近在做一个东西，需要用到通用开发语言开发一个软件来读取PLC的内容，这方面的难点在于解析PLC利用</p>
<p>以太网通讯的通讯协议，而一般的PLC厂商对自己的协议是封闭的，对一般的开发者是不开放的，虽然可以通过Wireshark</p>
<p>进行解析，但是工作量很大，且如果对Wireshark不熟悉基本也是无解，很难解析出来。</p>
<p>　　网上有部分用C#开发的开源库，但是自己对C#语言不懂，所以也就没法学习和应用了。因此我在这里开始了C#的</p>
<p>从零开始学习之旅(我的从零开始是指对C#一无所知，如果你要和我一起开启这趟旅程，应该懂基本的编程通识，这样应该</p>
<p>会更愉快一些)。</p>
<p>　　废话不多说，这个题头，就当引子吧，下面开始我们的C#之旅。后续文章不再做说上面的废话(简单的引子)了。</p>
<p>----------------------------------------------------------------我是分割线------------------------------------------------------------------------</p>
<p>1、学习参考书籍：&nbsp; C#本质论第4版&nbsp;&nbsp;</p>
<p>2、C#版本：V5.0</p>
<p>3、.NET Framwork&nbsp;版本：&nbsp;v4.0.30319</p>
<p>4、操作系统版本：Windows 7&nbsp;SP1&nbsp; X64&nbsp;CHS</p>
<p>5、编译器：&nbsp;csc.exe&nbsp;</p>
<p>6、代码编辑器：&nbsp;Editplus&nbsp;</p>
<p>7、命令行工具：&nbsp;cmd</p>
<p>8、推荐的轻量级Windows IDE：&nbsp; SharpDevelop&nbsp;&nbsp;</p>
<p>9、推荐跨平台轻量级IDE：Mono</p>
<p>---------------------------------------------------------------------------------------------------------------------------------------------------------</p>
<p>一、配置环境</p>
<p>　　Window7、Windows8、Windows10系统都自带.NET Framwork&nbsp;版本。&nbsp;而.NET Framwork&nbsp;自带编译工具，这个</p>
<p>编译器就是&nbsp;csc.exe.</p>
<p>　　其路径在：&nbsp;C:\Windows\Microsoft.NET\Framework64\v4.0.30319&nbsp;</p>
<p>　　如下图所示：</p>
<p>&nbsp;<img src="./images/工控随笔_C#连接PLC_之_C#入门_01_配置学习环境0.png" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;　　在 C:\Windows\Microsoft.NET\Framework64&nbsp;路径有多个版本的.NETFramwork ,&nbsp;如下图所示：</p>
<p><img src="./images/工控随笔_C#连接PLC_之_C#入门_01_配置学习环境1.png" alt="" /></p>
<p>　　</p>
<p>　　确定好编译器后，我们就可以在命令行里面使用它，但是csc.exe不在系统的搜索路径，因此需要手动设置一下。</p>
<p>如下图所示：</p>
<p><img src="./images/工控随笔_C#连接PLC_之_C#入门_01_配置学习环境2.png" alt="" /></p>
<p>　　将环境变量：PATH加上csc.exe的路径。即可在命令行快速访问csc.exe。</p>
<p>　　为了快捷的访问csc.exe&nbsp;我们还可以加上一个环境变量。&nbsp; csc,&nbsp;设置如下所示：</p>
<p><img src="./images/工控随笔_C#连接PLC_之_C#入门_01_配置学习环境3.png" alt="" /></p>
<p>&nbsp;</p>
<p>　　这样就可以在命令行方便的访问csc.exe。&nbsp;如下图所示：</p>
<p><img src="./images/工控随笔_C#连接PLC_之_C#入门_01_配置学习环境4.png" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;二、编写代码</p>
<p>　　C#的代码可以利用任意文本编辑器编辑。最好是利用一个可以语法高亮的文本编辑器来编写代码。</p>
<p>　　第一个程序：&nbsp;HelloWorld.cs</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">using</span><span style="color: #000000;"> System;

</span><span style="color: #0000ff;">class</span><span style="color: #000000;"> HelloWorld
{
    </span><span style="color: #0000ff;">static</span> <span style="color: #0000ff;">int</span> Main(<span style="color: #0000ff;">string</span><span style="color: #000000;">[] args)
    {
        System.Console.WriteLine(</span><span style="color: #800000;">"</span><span style="color: #800000;">Hellow world!</span><span style="color: #800000;">"</span><span style="color: #000000;">);

        System.Console.Read();

        </span><span style="color: #0000ff;">return</span> <span style="color: #800080;">0</span><span style="color: #000000;">;
    }

}</span></pre>
</div>
<p>　　保存为：&nbsp;HelloWorld.cs</p>
<p>&nbsp;</p>
<p>三&nbsp; &nbsp;编译程序</p>
<p>　　如下图编译程序：</p>
<p><img src="./images/工控随笔_C#连接PLC_之_C#入门_01_配置学习环境5.png" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;　　csc&nbsp; HelloWorld.cs&nbsp; 就可以编译程序，可以看到编译成功。</p>
<p>　　如果不指定输出文件名，则默认的输出程序将是：&nbsp;cs文件对应的文件名。</p>
<p>&nbsp;</p>
<p>四、执行程序</p>
<p>　　程序的执行结果如下所示：</p>
<p>　　<img src="./images/工控随笔_C#连接PLC_之_C#入门_01_配置学习环境6.png" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;五、方便性脚本</p>
<p>　　每次都要进入到程序所在的工作目录很麻烦，有两种方法，一种是设置包含可执行文件路径的PATH环境变量</p>
<p>就和上面的设置一样。</p>
<p>　　另外一种是利用cmd脚本开启cmd命令行窗口，同时切换工作路径到可执行文件名所在的路径即可。</p>
<p>　　参考cmd脚本命令：</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">@echo</span> <span style="color: #0000ff;">off</span>

<span style="color: #0000ff;">cmd</span> /k "start F:\26_C# &amp;&amp; cd /D F:\26_C# &amp;&amp; del *.bak &amp;&amp; csc.exe HelloWorld.cs"</pre>
</div>
<p>　　或者第二种方式</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">@echo</span> <span style="color: #0000ff;">off</span>

<span style="color: #0000ff;">cmd</span> /k "cd /D F:\26_C#"</pre>
</div>
<p>　　第二种方式只能打开命令行窗口，第一种方式还可以打开源代码所在的目录。</p>
<p>　　具体可以自己测试一下效果。</p>
<p>&nbsp;</p>
<p><span style="color: #0000ff;"><strong>--------------------------------------------------------------分割线---------------------------------------------------------------</strong></span></p>
<p><span style="color: #0000ff;"><strong>1、文章均为个人原创，欢迎转载，转载请保留出处：https://www.cnblogs.com/volcanol/</strong></span></p>
<p><span style="color: #0000ff;"><strong>2、获取工控PLC、变频器、HMI、计算机、Windows、Linux、嵌入式资料点击：<span style="color: #ff0000;"><a href="http://www.cnblogs.com/volcanol/archive/2012/06/05/2537339.html" target="_blank"><span style="color: #ff0000;">获取资料</span></a></span><br /></strong></span></p>
<p><span style="color: #0000ff;"><strong>3、如果您觉得文章对您有帮助可转至页面上半部分打赏，或移步：<span style="color: #ff0000;"><a href="http://www.cnblogs.com/volcanol/archive/2012/06/05/2537339.html" target="_blank"><span style="color: #ff0000;">打赏</span></a>&nbsp;</span></strong></span></p>
<p><span style="color: #0000ff;"><strong>4、或者在页面右下角点推荐哟！！！</strong></span></p>
<p><span style="color: #0000ff;"><strong>--------------------------------------------------------------分割线---------------------------------------------------------------</strong></span></p>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>