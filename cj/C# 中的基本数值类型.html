<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修C# 中的基本数值类型' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>C# 中的基本数值类型</center></div><div class='banquan'>原文出处:本文由博客园博主Vin&#176;提供。<br/>
原文连接:https://www.cnblogs.com/vin-c/p/12043961.html</div><br>
    <p>在之前的文章中（地址：<a href="https://www.vinanysoft.com/c-sharp-basics/introducing/" class="uri">https://www.vinanysoft.com/c-sharp-basics/introducing/</a>），以 HelloWorld 程序为基础，介绍 C# 语言、它的结构、基本语法以及如何编写最简单的程序有了初步理解。</p>
<p>接下来介绍基本的 C# 类型，继续巩固 C# 的基础知识。本系列文章到目前为止只用过少量的内置数据类型，而且只是一笔带过。在 C# 中有大量的类型，而且可以通过合并类型来创建新类型。</p>
<p>但 C# 有几种类型非常简单，是其他所有类型的基础，它们称为<strong>预定义类型</strong>（predefined type）或<strong>基元类型</strong>（ primitive type）。</p>
<p>C# 提供了 16 种预定义类型，如下图所示。其中包括 13 种简单类型和 3 种非简单类型。</p>
<p><img src="./images/C# 中的基本数值类型0.png" /></p>
<p>所有预定义类型的名称都由全小写的字母组成。预定义的简单类型包括以下 3 种。</p>
<ul>
<li>11 种数值类型。
<ul>
<li>不同长度的有符号和无符号整数类型。</li>
<li>用于科学计算的二进制浮点类型 <code>float</code> 和 <code>double</code>。</li>
<li>一种用于金融计算的十进制高精度浮点类型 <code>decimal</code>。与 <code>float</code> 和 <code>double</code> 不同，<code>decimal</code> 类型可以准确地表示分数。<code>decimal</code> 类型常用于货币的计算。</li>
</ul></li>
<li>一种 <code>Unicode</code> 字符类型 <code>char</code>。</li>
<li>一种布尔类型 <code>bool</code>。<code>bool</code> 类型表示布尔值并且必须为 <code>true</code> 或 <code>false</code>。</li>
</ul>
<p>非简单类型如下：</p>
<ul>
<li><code>object</code>，它是所有其他类型的基类。</li>
<li><code>string</code>，它是一个 <code>Unicode</code> 字符数组。</li>
<li><code>dynamic</code>，使用动态语言编写的程序集时使用。</li>
</ul>
<p>所有预定义类型都直接映射到底层的 .NET 类型。C# 的类型名称就是 .NET 类型的别名，所以使用 .NET 的类型名称也能很好地符合 C# 语法，不过并不鼓励这样做。在 C# 程序中，应该尽量使用 C# 类型名称而不是 .NET类型名称。</p>
<h2 id="整数类型">整数类型</h2>
<p>C# 有八种整数类型，可选择最恰当的一种来存储数据以避免浪费资源。下表列出了 C# 支持的整型类型：</p>
<table>
<thead>
<tr class="header">
<th>C# 类型/关键字</th>
<th>范围</th>
<th>大小</th>
<th>.NET 类型</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>sbyte</td>
<td>-128 到 127</td>
<td>8 位带符号整数</td>
<td>System.SByte</td>
</tr>
<tr class="even">
<td>byte</td>
<td>0 到 255</td>
<td>无符号的 8 位整数</td>
<td>System.Byte</td>
</tr>
<tr class="odd">
<td>short</td>
<td>-32,768 到 32,767</td>
<td>有符号 16 位整数</td>
<td>System.Int16</td>
</tr>
<tr class="even">
<td>ushort</td>
<td>0 到 65,535</td>
<td>无符号 16 位整数</td>
<td>System.UInt16</td>
</tr>
<tr class="odd">
<td>int</td>
<td>-2,147,483,648 到 2,147,483,647</td>
<td>带符号的 32 位整数</td>
<td>System.Int32</td>
</tr>
<tr class="even">
<td>uint</td>
<td>0 到 4,294,967,295</td>
<td>无符号的 32 位整数</td>
<td>System.UInt32</td>
</tr>
<tr class="odd">
<td>long</td>
<td>-9,223,372,036,854,775,808 到 9,223,372,036,854,775,807</td>
<td>64 位带符号整数</td>
<td>System.Int64</td>
</tr>
<tr class="even">
<td>ulong</td>
<td>0 到 18,446,744,073,709,551,615</td>
<td>无符号 64 位整数</td>
<td>System.UInt64</td>
</tr>
</tbody>
</table>
<p>C# 所有基元类型都有短名称（最左列）和完整名称（最右列）。完整名称对应 BCL（基类库）中的类型名称。</p>
<p>由于基元数据类型是其他类型的基础，所以 C# 为基元数据类型的完整名称提供了短名称（或称为缩写）。其实从编译器的角度看，两种名称完全一样，最终都生成相同的代码。事实上，检查最终生成的 CIL 代码，根本看不出源代码具体使用的名称。</p>
<p>例如，以下声明声明了相同类型的变量：</p>
<pre><code><code>int a = 123;
System.Int32 b = 123;</code></pre>
<p>C# 支持完整 BCL 名称和关键字，造成开发人员犯难在什么时候用什么。不要时而用这个，时而用那个，最好坚持用一种。</p>
<p>C# 开发人员一般用 C# 关键字。例如，用 <code>int</code> 而不是 <code>System.Int32</code>，用 <code>string</code> 而不是 <code>System.String</code>（甚至不要用 <code>String</code> 这种简化形式）。</p>
<h2 id="浮点类型float-和-double">浮点类型（<code>float</code> 和 <code>double</code>）</h2>
<p>C# 支持以下预定义浮点类型：</p>
<table>
<thead>
<tr class="header">
<th>C# 类型/关键字</th>
<th>大致范围</th>
<th>精度</th>
<th>大小</th>
<th>.NET 类型</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>float</td>
<td>±1.5 x 10−45 至 ±3.4 x 1038</td>
<td>大约 6-9 位数字</td>
<td>4 个字节</td>
<td>System.Single</td>
</tr>
<tr class="even">
<td>double</td>
<td>±5.0 × 10−324 到 ±1.7 × 10308</td>
<td>大约 15-17 位数字</td>
<td>8 个字节</td>
<td>System.Double</td>
</tr>
</tbody>
</table>
<p>在上表中，最左侧列中的每个 C# 类型关键字都是相应 .NET 类型的别名。 它们是可互换的。 例如，以下声明声明了相同类型的变量：</p>
<pre><code><code>double a = 12.3;
System.Double b = 12.3;</code></pre>
<h2 id="decimal-类型"><code>decimal</code> 类型</h2>
<table>
<thead>
<tr class="header">
<th>C# 类型/关键字</th>
<th>大致范围</th>
<th>精度</th>
<th>大小</th>
<th>.NET 类型</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>decimal</td>
<td>±1.0 x 10-28 至 ±7.9228 x 1028</td>
<td>28-29 位</td>
<td>16 个字节</td>
<td>System.Decimal</td>
</tr>
</tbody>
</table>
<p>与 <code>float</code> 和 <code>double</code> 相比，<code>decimal</code> 类型具有更高的精度和更小的范围，因此它适合于财务和货币计算。</p>
<h2 id="浮点数舍入误差">浮点数舍入误差</h2>
<p><code>float</code> 和 <code>double</code> 在内部都是基于 2 来表示数值的。因此只有基于 2 表示的数值才能够精确表示。事实上，这意味着大多数有小数部分的字面量（它们都基于 10）将无法精确表示。例如:</p>
<pre><code><code>float f1 = 1F;
float f2 = 0.9F;

Console.WriteLine(f1 - f2);

double d1 = 1D;
double d2 = 0.9D;

Console.WriteLine(d1 - d2);

decimal decimal1 = 1M;
decimal decimal2 = 0.9M;

Console.WriteLine(decimal1 - decimal2);</code></pre>
<p>输出</p>
<pre><code><code>0.100000024
0.09999999999999998
0.1</code></pre>
<p>这就是为什么 <code>float</code> 和 <code>double</code> 不适合金融计算。相反，<code>decimal</code> 基于 10，它能够精确表示基于 10 的数值（也包括它的因数，基于 2 和基于 5 的数值）。因为实数的字面量都是基于 10 的，所以 <code>decimal</code> 能够精确表示像 <code>0.1</code> 这样的数。然而，<code>float</code>、<code>double</code> 和 <code>decimal</code> 都不能精确表示那些基于 10 的循环小数：</p>
<pre><code><code>decimal m = 1M / 6M;
Console.WriteLine(m);

decimal m2 = m + m + m + m + m + m;
Console.WriteLine(m2);
Console.WriteLine();


double d = 1d / 6d;
Console.WriteLine(d);

double d2 = d + d + d + d + d + d;
Console.WriteLine(d2);</code></pre>
<p>输出</p>
<pre><code><code>0.1666666666666666666666666667
1.0000000000000000000000000002

0.16666666666666666
0.9999999999999999</code></pre>
<h2 id="字面量">字面量</h2>
<p>字面量（literal value）表示源代码中的固定值。</p>
<pre><code><code>Console.WriteLine(123);
Console.WriteLine(456.789);</code></pre>
<p>默认情况下，输入带小数点的字面量，编译器自动把它解释成 <code>double</code> 类型。 如果输入的是整数值（没有小数点）通常默认为 <code>int</code>， 如果值太大，以至于无法用 <code>int</code> 来存储。编译器会把它解释成 <code>long</code>。</p>
<pre><code><code>static void Main(string[] args)
{
    var expectIsInt = 123;
    var expectIsLong = 9223372036854775807;
    var expectIsDouble = 3.14;

    Console.WriteLine($&quot;expectIsInt 的类型是：{expectIsInt.GetType().Name}；&quot; +
                        $&quot;expectIsLong 的类型是：{expectIsLong.GetType().Name}；&quot; +
                        $&quot;expectIsDouble 的类型是：{expectIsDouble.GetType().Name}&quot;);
}</code></pre>
<p>输出</p>
<pre><code><code>expectIsInt 的类型是：Int32；expectIsLong 的类型是：Int64；expectIsDouble 的类型是：Double</code></pre>
<p>由于带小数点的值默认为 <code>double</code> 类型，所以下面输出的结果中，超过可容纳的精度部分会被丢弃。</p>
<pre><code><code>static void Main(string[] args)
{
    Console.WriteLine(5.141231231234567898765);
}</code></pre>
<p>输出</p>
<pre><code><code>5.141231231234568</code></pre>
<p>要显示具有完整精度的数字，必须将字面量显式声明为 <code>decimal</code> 类型，通过追加一个 <code>M</code>（或者 <code>m</code>）来实现。</p>
<pre><code><code>static void Main(string[] args)
{
    Console.WriteLine(5.141231231234567898765M);
}</code></pre>
<p>输出</p>
<pre><code><code>5.141231231234567898765</code></pre>
<p>还可以使用 <code>F</code> 和 <code>D</code> 作为后缀，将字面量分别显式声明为 <code>float</code> 或者 <code>double</code>。 对于整数数据类型，整数字面量的类型是像下面这样确定的：</p>
<ul>
<li>如果整数字面量没有后缀，则其类型为以下类型中可表示其值的第一个类型：<code>int</code>、<code>uint</code>、<code>long</code>、<code>ulong</code>。</li>
<li>如果整数字面量以 <code>U</code> 或 <code>u</code> 为后缀，则其类型为以下类型中可表示其值的第一个类型：<code>uint</code>、<code>ulong</code>。</li>
<li><p>如果整数字面量以 <code>L</code> 或 <code>l</code> 为后缀，则其类型为以下类型中可表示其值的第一个类型：<code>long</code>、<code>ulong</code>。</p>
<p><strong>备注：</strong>可以使用小写字母 <code>l</code> 作为后缀。 但是，这会生成一个编译器警告，因为字母 <code>l</code> 可能与数字 <code>1</code> 混淆。 为清楚起见，请使用 <code>L</code>。</p></li>
<li><p>如果整数字面量的后缀为 <code>UL</code>、<code>Ul</code>、<code>uL</code>、<code>ul</code>、<code>LU</code>、<code>Lu</code>、<code>lU</code> 或 <code>lu</code>，则其类型为 <code>ulong</code>。</p></li>
</ul>
<p>字面量的后缀不区分大小写。但一般推荐大写，避免出现小写字母 <code>l</code> 和数字 <code>1</code> 不好区分的情况。</p>
<p>从 C# 7.0 开始提供支持将 <code>_</code> 用作数字分隔符，可以将数字分隔符用于所有类型的数字文本。</p>
<pre><code><code>double d = 3D;
d = 4d;
d = 3.934_001;

float f = 3_000.5F;
f = 5.4f;

decimal myMoney = 3_000.5m;
myMoney = 400.75M;</code></pre>
<p>C# 支持使用科学记数法，指数记数法要求使用 <code>e</code> 或 <code>E</code> 中缀，在中缀字母后面添加正整数或者负整数，并在字面量最后添加恰当的数据类型后缀。</p>
<pre><code><code>double d = 0.42e2;
Console.WriteLine(d);  // output 42;

float f = 134.45E-2f;
Console.WriteLine(f);  // output: 1.3445

decimal m = 1.5E6m;
Console.WriteLine(m);  // output: 1500000</code></pre>
<p>使用 <code>0x</code> 或 <code>0X</code> 前缀表示十六进制计数法，在 C# 7.0 和更高版本中使用 <code>0b</code> 或 <code>0B</code> 前缀表示二进制计数法。</p>
<pre><code><code>var hexLiteral = 0x2A;
var binaryLiteral = 0b_0010_1010;</code></pre>
<h2 id="总结">总结</h2>
<p>C# 语言的基元类型包括八种整数类型、两种用于科学计算的二进制浮点类型、一种用于金融计算的十进制浮点类型。浮点型存在舍入误差，使用的时候要注意。</p>

</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>