<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修C# 文件监听类 FileSystemWatcher 属性' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>C# 文件监听类 FileSystemWatcher 属性</center></div><div class='banquan'>原文出处:本文由博客园博主神奇小猪提供。<br/>
原文连接:https://www.cnblogs.com/magicalpig/p/11736467.html</div><br>
    <p>属性：</p>
<p>Path&mdash;&mdash;这个属性告诉FileSystemWatcher它需要监控哪条路径。例如，如果我们将这个属性设为&ldquo;C:Temp&rdquo;，对象就监控那个目录发生的所有改变。<br />IncludeSubDirectories&mdash;&mdash;这个属性说明FileSystemWatcher对象是否应该监控子目录中发生的改变。<br />Filter&mdash;&mdash;这个属性允许你过滤掉某些类型的文件发生的变化。例如，如果我们只希望在TXT文件被修改/新建/删除时提交通知，可以将这个属性设为&ldquo;*txt&rdquo;。在处理高流量或大型目录时，使用这个属性非常方便。<br />事件</p>
<p>Changed&mdash;&mdash;当被监控的目录中有一个文件被修改时，就提交这个事件。值得注意的是，这个事件可能会被提交多次，即使文件的内容仅仅发生一项改变。这是由于在保存文件时，文件的其它属性也发生了改变。<br />Created&mdash;&mdash;当被监控的目录新建一个文件时，就提交这个事件。如果你计划用这个事件移动新建的事件，你必须在事件处理器中写入一些错误处理代码，它能处理当前文件被其它进程使用的情况。之所以要这样做，是因为Created事件可能在建立文件的进程释放文件之前就被提交。如果你没有准备正确处理这种情况的代码，就可能出现异常。<br />Deleted&mdash;&mdash;当被监控的目录中有一个文件被删除，就提交这个事件。<br />Renamed&mdash;&mdash;当被监控的目录中有一个文件被重命名，就提交这个事件。<br />注：如果你没有将EnableRaisingEvents设为真，系统不会提交任何一个事件。如果有时FileSystemWatcher对象似乎无法工作，请首先检查EnableRaisingEvents，确保它被设为真。</p>
<p>事件处理</p>
<p>当FileSystemWatcher调用一个事件处理器时，它包含两个自变量&mdash;&mdash;一个叫做&ldquo;sender&rdquo;的对象和一个叫做&ldquo;e&rdquo;的FileSystemEventArgs对象。我们感兴趣的自变量为FileSystemEventArgs自变量。这个对象中包含有提交事件的原因。以下是FileSystemEventArgs对象的一些属性：</p>
<p>属性：</p>
<p>Name&mdash;&mdash;这个属性中使事件被提交的文件的名称。其中并不包含文件的路径&mdash;&mdash;只包含使用事件被提交的文件或目录名称。<br />ChangeType&mdash;&mdash;这是一个WatcherChangeTypes，它指出要提交哪个类型的事件。其有效值包括：Changed、Created、Deleted、Renamed<br />FullPath&mdash;&mdash;这个属性中包含使事件被提交的文件的完整路径，包括文件名和目录名。</p>
<p>FileSystemWatcher对象为你完成目录监控工作。如果新建、更新或删除一个文件，FileSystemWatcher将提交一个事件，通知你发生了一项改变。这样，新建一个文件后，你的程序立即就知道可以使用这个文件。立即通知改变使得你的系统以更高的效率工作，因为你不能总是&ldquo;调查&rdquo;目录中发生的改变，而且在两次目录扫描之间也不会有时间流失。</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>