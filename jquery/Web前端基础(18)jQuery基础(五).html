<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修Web前端基础(18)jQuery基础(五)' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>Web前端基础(18)jQuery基础(五)</center></div><div class='banquan'>原文出处:本文由博客园博主爱编程的小灰灰提供。<br/>
原文连接:https://www.cnblogs.com/liuhui0308/p/11887884.html</div><br>
    <h1>1. 事件&nbsp;</h1>
<p>前面我们介绍完js的事件流的概念之后，相信大家对事件流也有所了解了。那么接下来我们看一下jquery的事件操作。</p>
<p><img src="./images/Web前端基础(18)jQuery基础(五)0.png" alt="" width="1108" height="635" /></p>
<p>在说jquery的每个事件之前，我们先来看一下事件对象&nbsp;。</p>
<h2>1.1 事件对象</h2>
<p>Event 对象代表事件的状态，比如事件在其中发生的元素、键盘按键的状态、鼠标的位置、鼠标按钮的状态。</p>
<p>1.什么时候会产生Event 对象呢?&nbsp;</p>
<p>例如: 当用户单击某个元素的时候,我们给这个元素注册的事件就会触发,该事件的本质就是一个函数,而该函数的形参接收一个event对象。</p>
<p>2.事件通常与函数结合使用，函数不会在事件发生前被执行！</p>
<h2>1.2 事件流的由来</h2>
<p>由于微软和网景乱搞，后来必须要为事件传播机制，制定一个标准，因为事件捕获是网景公司开发出来的，而事件冒泡是由微软公司开发出来的，它们都想要自己的技术成为标准，所以导致这两个公司老是干架，制定标准的人为了不让它们干架，所以研发了事件流。</p>
<h2>1.3 关于event对象</h2>
<p>在触发的事件的函数里面我们会接收到一个event对象，通过该对象我们需要的一些参数，比如说我们需要知道此事件作用到谁身上了，就可以通过event的属性<code>target</code>来获取到(IE暂且不谈)，或者想阻止浏览器的默认行为可以通过方法<code>preventDefault()</code>来进行阻止。以下是event对象的一些属性和方法：</p>
<table style="height: 560px; width: 522px;">
<thead>
<tr><th align="left">
<p>属性</p>
</th><th align="left">
<p>描述</p>
</th></tr>
</thead>
<tbody>
<tr>
<td align="left">
<p>altKey</p>
</td>
<td align="left">
<p>返回当事件被触发时，&rdquo;ALT&rdquo; 是否被按下。</p>
</td>
</tr>
<tr>
<td align="left">
<p>button</p>
</td>
<td align="left">
<p>返回当事件被触发时，哪个鼠标按钮被点击。</p>
</td>
</tr>
<tr>
<td align="left">
<p>clientX</p>
</td>
<td align="left">
<p>返回当事件被触发时，鼠标指针的水平坐标。</p>
</td>
</tr>
<tr>
<td align="left">
<p>clientY</p>
</td>
<td align="left">
<p>返回当事件被触发时，鼠标指针的垂直坐标。</p>
</td>
</tr>
<tr>
<td align="left">
<p>ctrlKey</p>
</td>
<td align="left">
<p>返回当事件被触发时，&rdquo;CTRL&rdquo; 键是否被按下。</p>
</td>
</tr>
<tr>
<td align="left">
<p>metaKey</p>
</td>
<td align="left">
<p>返回当事件被触发时，&rdquo;meta&rdquo; 键是否被按下。</p>
</td>
</tr>
<tr>
<td align="left">
<p>relatedTarget</p>
</td>
<td align="left">
<p>返回与事件的目标节点相关的节点。</p>
</td>
</tr>
<tr>
<td align="left">
<p>screenX</p>
</td>
<td align="left">
<p>返回当某个事件被触发时，鼠标指针的水平坐标。</p>
</td>
</tr>
<tr>
<td align="left">
<p>screenY</p>
</td>
<td align="left">
<p>返回当某个事件被触发时，鼠标指针的垂直坐标。</p>
</td>
</tr>
<tr>
<td align="left">
<p>shiftKey</p>
</td>
<td align="left">
<p>返回当事件被触发时，&rdquo;SHIFT&rdquo; 键是否被按下</p>
</td>
</tr>
</tbody>
</table>
<p><code>IE</code>属性(除了上面的鼠标/事件属性，IE 浏览器还支持下面的属性)。</p>
<table style="height: 453px; width: 705px;">
<thead>
<tr><th align="left">
<p>属性</p>
</th><th align="left">
<p>描述</p>
</th></tr>
</thead>
<tbody>
<tr>
<td align="left">
<p><code>cancelBubble</code></p>
</td>
<td align="left">
<p>如果事件句柄想阻止事件传播到包容对象，必须把该属性设为 true。</p>
</td>
</tr>
<tr>
<td align="left">
<p>fromElement</p>
</td>
<td align="left">
<p>对于 mouseover 和 mouseout 事件，fromElement 引用移出鼠标的元素。</p>
</td>
</tr>
<tr>
<td align="left">
<p>keyCode</p>
</td>
<td align="left">
<p>对于 keypress 事件，该属性声明了被敲击的键生成的 Unicode 字符码。对于 keydown 和 keyup</p>
</td>
</tr>
<tr>
<td align="left">
<p>offsetX,offsetY</p>
</td>
<td align="left">
<p>发生事件的地点在事件源元素的坐标系统中的 x 坐标和 y 坐标。</p>
</td>
</tr>
<tr>
<td align="left">
<p><code>returnValue</code></p>
</td>
<td align="left">
<p>如果设置了该属性，它的值比事件句柄的返回值优先级高。把这个属性设置为</p>
</td>
</tr>
<tr>
<td align="left">
<p><code>srcElement</code></p>
</td>
<td align="left">
<p>对于生成事件的 Window 对象、Document 对象或 Element 对象的引用。</p>
</td>
</tr>
<tr>
<td align="left">
<p>toElement</p>
</td>
<td align="left">
<p>对于 mouseover 和 mouseout 事件，该属性引用移入鼠标的元素。</p>
</td>
</tr>
<tr>
<td align="left">
<p>x,y</p>
</td>
<td align="left">
<p>事件发生的位置的 x 坐标和 y 坐标，它们相对于用CSS动态定位的最内层包容元素。</p>
</td>
</tr>
</tbody>
</table>
<p>标准 Event 属性，下面列出了 2 级 DOM 事件标准定义的属性。</p>
<table style="height: 366px; width: 710px;">
<thead>
<tr><th align="left">
<p>属性和方法</p>
</th><th align="left">
<p>描述</p>
</th></tr>
</thead>
<tbody>
<tr>
<td align="left">
<p>bubbles</p>
</td>
<td align="left">
<p>返回布尔值，指示事件是否是起泡事件类型。</p>
</td>
</tr>
<tr>
<td align="left">
<p><code>cancelable</code></p>
</td>
<td align="left">
<p>返回布尔值，指示事件是否可拥可取消的默认动作。</p>
</td>
</tr>
<tr>
<td align="left">
<p><code>currentTarget</code></p>
</td>
<td align="left">
<p>返回其事件监听器触发该事件的元素。</p>
</td>
</tr>
<tr>
<td align="left">
<p>eventPhase</p>
</td>
<td align="left">
<p>返回事件传播的当前阶段。</p>
</td>
</tr>
<tr>
<td align="left">
<p><code>target</code></p>
</td>
<td align="left">
<p>返回触发此事件的元素（事件的目标节点）。</p>
</td>
</tr>
<tr>
<td align="left">
<p>timeStamp</p>
</td>
<td align="left">
<p>返回事件生成的日期和时间。</p>
</td>
</tr>
<tr>
<td align="left">
<p><code>type</code></p>
</td>
<td align="left">
<p>返回当前 Event 对象表示的事件的名称。</p>
</td>
</tr>
<tr>
<td align="left">
<p>initEvent()</p>
</td>
<td align="left">
<p>初始化新创建的 Event 对象的属性。</p>
</td>
</tr>
<tr>
<td align="left">
<p><code>preventDefault()</code></p>
</td>
<td align="left">
<p>通知浏览器不要执行与事件关联的默认动作。</p>
</td>
</tr>
<tr>
<td align="left">
<p><code>stopPropagation()</code></p>
</td>
<td align="left">
<p>不再派发事件。</p>
</td>
</tr>
</tbody>
</table>
<h2>1.4&nbsp;Event对象的一些兼容性写法</h2>
<p>获得event对象兼容性写法&nbsp;<br /><code>event || (event = window.event);</code></p>
<p>获得target兼容型写法&nbsp;<br /><code>event.target||event.srcElement</code></p>
<p>阻止浏览器默认行为兼容性写法&nbsp;<br /><code>event.preventDefault ? event.preventDefault() : (event.returnValue = false);</code></p>
<p>阻止冒泡写法&nbsp;<br /><code>event.stopPropagation ? event.stopPropagation() : (event.cancelBubble = true);</code></p>
<h1>2. 事件的绑定和解绑</h1>
<h2>2.1 绑定事件</h2>
<p>语法：</p>
<div class="cnblogs_code">
<pre><code>bind(type,data,fn)</pre>
</div>
<p>描述：为每一个匹配元素的特定事件（像click）绑定一个事件处理器函数。</p>
<p>参数解释：</p>
<blockquote>
<p class="indent">type<span class="Apple-converted-space">&nbsp;</span>(String) : 事件类型</p>
<p class="indent">data<span class="Apple-converted-space">&nbsp;</span>(Object) : (可选) 作为event.data属性值传递给事件对象的额外数据对象</p>
<p class="indent">fn<span class="Apple-converted-space">&nbsp;</span>( Function) : 绑定到每个匹配元素的事件上面的处理函数</p>
</blockquote>
<p>示例：</p>
<p>当每个p标签被点击的时候，弹出其文本&nbsp;</p>
<div class="cnblogs_code">
<pre><code>$("p").bind("click", <span style="color: #0000ff;">function</span><span style="color: #000000;">(){
  alert( $(</span><span style="color: #0000ff;">this</span><span style="color: #000000;">).text() );
});</span></pre>
</div>
<p>你可以在事件处理之前传递一些附加的数据。</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">function</span><span style="color: #000000;"> handler(event) {
</span><span style="color: #008000;">//</span><span style="color: #008000;">event.data 可以获取bind()方法的第二个参数的数据</span>
<span style="color: #000000;">  alert(event.data.foo);
}
$(</span>"p").bind("click", {foo: "bar"}, handler)</pre>
</div>
<p>通过返回false来取消默认的行为并阻止事件起泡。</p>
<div class="cnblogs_code">
<pre><code>$("form").bind("submit", <span style="color: #0000ff;">function</span>() { <span style="color: #0000ff;">return</span> <span style="color: #0000ff;">false</span>; })</pre>
</div>
<p>通过使用 preventDefault() 方法只取消默认的行为。</p>
<div class="cnblogs_code">
<pre><code>$("form").bind("submit", <span style="color: #0000ff;">function</span><span style="color: #000000;">(event){
  event.preventDefault();
});</span></pre>
</div>
<h2>2.2 解绑事件</h2>
<p>语法：</p>
<div class="cnblogs_code">
<pre><code>unbind(type,fn);</pre>
</div>
<p>描述：</p>
<div>bind()的反向操作，从每一个匹配的元素中删除绑定的事件。</div>
<div class="longdesc">
<p>如果没有参数，则删除所有绑定的事件。</p>
<p>如果把在绑定时传递的处理函数作为第二个参数，则只有这个特定的事件处理函数会被删除。</p>
<p>参数解释：</p>
<blockquote>
<p class="indent">type<span class="Apple-converted-space">&nbsp;</span>(String) : (可选) 事件类型</p>
<p class="indent">fn(Function) : (可选) 要从每个匹配元素的事件中反绑定的事件处理函数</p>
</blockquote>
<p>示例：</p>
<p>把所有段落的所有事件取消绑定</p>
</div>
<div class="cnblogs_code">
<pre><code>$("p").unbind()</pre>
</div>
<p>将段落的click事件取消绑定</p>
<p>$("p").unbind( "click" )</p>
<p>删除特定函数的绑定，将函数作为第二个参数传入</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">var</span> foo = <span style="color: #0000ff;">function</span><span style="color: #000000;"> () {
  </span><span style="color: #008000;">//</span><span style="color: #008000;">绑定事件和解绑事件的事件处理函数</span>
<span style="color: #000000;">};

$(</span>"p").bind("click mouseenter", foo); <span style="color: #008000;">//</span><span style="color: #008000;"> 给p段落绑定click mouseenter事件</span>
<span style="color: #000000;">
$(</span>"p").unbind("click", foo); <span style="color: #008000;">//</span><span style="color: #008000;"> 只解绑了p段落标签的click事件</span></pre>
</div>
<h2>2.3 自定义事件</h2>
<p>其实事件的绑定和解绑，都是我为了自定义事件做准备（大家把jQuery的提供的事件熟记在心），以后对jquery熟了以后，可以玩一下自定义事件</p>
<p>语法：</p>
<div class="cnblogs_code">
<pre><code>trigger(type,data);</pre>
</div>
<p>描述：在每一个匹配的元素上触发某类事件，它触发的是由bind()注册的自定义事件。</p>
<p>参数解释：</p>
<blockquote>
<p class="indent">type<span class="Apple-converted-space">&nbsp;</span>(String) : 要触发的事件类型</p>
<p class="indent">data<span class="Apple-converted-space">&nbsp;</span>(Array) : (可选)传递给事件处理函数的附加参数</p>
</blockquote>
<p class="indent">示例：</p>
<p class="indent">给一个按钮添加自定义的事件</p>
<div class="cnblogs_code">
<pre><code>$('button').bind('myClick',<span style="color: #0000ff;">function</span><span style="color: #000000;">(ev,a,b){
    </span><span style="color: #008000;">//</span><span style="color: #008000;">给button按钮添加的自定义事件myClick事件        </span>
})</pre>
</div>
<p>然后通过trigger()触发自定义的事件</p>
<div class="cnblogs_code">
<pre><code>$('button').trigger('myClick',[1,2])  </pre>
</div>
<p>&nbsp;</p>
<h1>3. 事件委托(代理)</h1>
<p>通俗的讲，事件就是onclick，onmouseover，onmouseout，等就是事件，委托呢，就是让别人来做，这个事件本来是加在某些元素上的，然而你却加到别人身上来做，完成这个事件。<br />举个列子：有三个同事预计会在周一收到快递。为签收快递，有两种办法：一是三个人在公司门口等快递；二是委托给前台MM代为签收。现实当中，我们大都采用委托的方案（公司也不会容忍那么多员工站在门口就为了等快递）。前台MM收到快递后，她会判断收件人是谁，然后按照收件人的要求签收，甚至代为付款。这种方案还有一个优势，那就是即使公司里来了新员工（不管多少），前台MM也会在收到寄给新员工的快递后核实并代为签收。</p>
<p>原理：</p>
<p>利用冒泡的原理，把事件加到父级上，触发执行效果。</p>
<p>作用：</p>
<p>1.性能要好<br />2.针对新创建的元素，直接可以拥有事件</p>
<p>事件源 :</p>
<p>跟this作用一样(他不用看指向问题，谁操作的就是谁)，event对象下的。</p>
<p>使用情景：</p>
<p>为DOM中的很多元素绑定相同事件。</p>
<p>为DOM中尚不存在的元素绑定事件。</p>
<p>示例：</p>
<div class="cnblogs_code">
<pre><code>&lt;body&gt;
        &lt;ul&gt;
            &lt;li class="luffy"&gt;路飞&lt;/li&gt;
            &lt;li&gt;路飞&lt;/li&gt;
            &lt;li&gt;路飞&lt;/li&gt;
            
        &lt;/ul&gt;
&lt;/body&gt;
&lt;script src="jquery-3.2.1.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;<span style="color: #000000;">
$(document).ready(</span><span style="color: #0000ff;">function</span><span style="color: #000000;">(){
    
    </span><span style="color: #008000;">//</span><span style="color: #008000;">通过on()方法</span>
     $('ul').on('click','#namei,.luffy',<span style="color: #0000ff;">function</span><span style="color: #000000;">(){
        console.log(</span><span style="color: #0000ff;">this</span><span style="color: #000000;">);
       })
            
   </span><span style="color: #008000;">//</span><span style="color: #008000;">未来追加的元素 </span>
    $('ul').append('&lt;a id="namei"&gt;娜美&lt;/a&gt;'<span style="color: #000000;">)

}
</span>&lt;/script&gt;</pre>
</div>
<p>语法：</p>
<div class="cnblogs_code">
<pre><code>on(type,selector,data,fn);</pre>
</div>
<p>描述：在选定的元素上绑定一个或多个事件处理函数</p>
<div>参数解释：</div>
<blockquote>
<div>events(&nbsp;String) :&nbsp;一个或多个空格分隔的事件类型</div>
<div>
<div>selector(&nbsp;String) :&nbsp;一个选择器字符串，用于过滤出被选中的元素中能触发事件的后代元素</div>
<div>data:&nbsp;当一个事件被触发时，要传递给事件处理函数的<code>event.data</code>。</div>
<div>fn:回调函数</div>
</div>
</blockquote>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>