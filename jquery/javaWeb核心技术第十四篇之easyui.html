<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修javaWeb核心技术第十四篇之easyui' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>javaWeb核心技术第十四篇之easyui</center></div><div class='banquan'>原文出处:本文由博客园博主小小一提供。<br/>
原文连接:https://www.cnblogs.com/haizai/p/11442990.html</div><br>
    <div class="cnblogs_code">
<pre><code><span style="color: #000000;">网站是分为网站的前台和网站的后台.
        前台</span>--<span style="color: #000000;">给用户看的   例如:商城
        后台</span>--<span style="color: #000000;">给管理员看的  例如:商城后台  目的:用来添加维护数据
    
    BootStrap:jsp 页面显示,效果好,美观,适合作为用户界面.
    EasyUI : jsp页面,快速开发,格式统一,美观效果一般.
    
    EasyUI里面有很多组件(功能模块):有自己的特使,但编写简单,只需固定html代码结构.
    
    EasyUI环境搭建:
        </span>1<span style="color: #000000;">.导入css , 需要2个css
        </span>2<span style="color: #000000;">.导入jquery,需要2个js
            </span>&lt;link rel="stylesheet" type="text/css" href="${pageContext.request.contextPath}/css/easyui.css"&gt;
            &lt;link rel="stylesheet" type="text/css" href="${pageContext.request.contextPath}/css/icon.css"&gt;
            &lt;link rel="stylesheet" type="text/css" href="${pageContext.request.contextPath}/css/demo.css"&gt;
            &lt;script type="text/javascript" src="${pageContext.request.contextPath}/js/jquery.min.js"&gt;&lt;/script&gt;
            &lt;script type="text/javascript" src="${pageContext.request.contextPath}/js/jquery.easyui.min.js"&gt;&lt;/script&gt;<span style="color: #000000;">
                
    EasyUI的定义方式:
        easyui规定:我们只需要提供简单html代码结构,就可以生成特殊的效果.
            easyui的定义方式:
                </span>1<span style="color: #000000;">.html代码结构.
                    </span>1.1:需要有class="easyui-*"  *<span style="color: #000000;">表示组件的名称.
                    </span>1.2:easyui提供另外一个属性:data-<span style="color: #000000;">options:里面可以写easyui提供的属性.
                        data</span>-<span style="color: #000000;">options格式:json格式:key:value,key:value......
                
                </span>2<span style="color: #000000;">.js渲染.
                    </span>2.1<span style="color: #000000;">:语法 : 对象.组件名称();
                    </span>2.2<span style="color: #000000;">:语法 : 对象.组件名称({key:value,key:value.....});
                
                例如:
                    html例子:
                    </span>&lt;div <span style="color: #0000ff;">class</span>="easyui-window" data-options="title:'this is 标题',width:200,height:400"&gt;&lt;/div&gt;<span style="color: #000000;">
                    
                    js例子:
                    </span>&lt;div id="myDiv"&gt;&lt;/div&gt;
                    &lt;script&gt;
                        <span style="color: #008000;">//</span><span style="color: #008000;">如果使用js渲染,语法 : 对象.组件名称({key:value,key:value.....});</span>
                        $("#myDiv"<span style="color: #000000;">).window({
                            title:</span>'这是新的标题'<span style="color: #000000;">,
                            width:</span>400<span style="color: #000000;">,
                            height:</span>400<span style="color: #000000;">
                        });
                    </span>&lt;/script&gt;<span style="color: #000000;">    
    Easy</span>--属性--事件--<span style="color: #000000;">方法:
        easyui的属性 : 事件,方法
            属性 : 组件自身特点,事件和属性可以写在一起,格式:key:value,key:value....
            事件 : (被动)完成某件事情后触发的动作.
                $(对象).组件名称({
                    属性:属性值,
                    属性:属性值,
                    事件:函数
                })
            
            方法:(主动)主动完成某件事件.
            语法:
                $(对象).组件名称(方法名称,方法的参数)
                
            </span>&lt;div <span style="color: #0000ff;">class</span>="easyui-dialog" data-options="width:200,height:200"<span style="color: #000000;">,onBeforeClose:function(){
                    alert(</span>'窗口即将关闭'<span style="color: #000000;">);
            }</span>"&gt;&lt;/div&gt;
<span style="color: #000000;">            
            例如:
                </span>&lt;div id="myDiv2"&gt;&lt;/div&gt;
                &lt;input type="button" value="关闭窗口" onclick="closeDialog()"&gt;
                &lt;input type="button" value="打开窗口" onclick="openDialog()"&gt;
                <span style="color: #008000;">//</span><span style="color: #008000;">事件</span>
                &lt;script type="text/javascript"&gt;<span style="color: #000000;">
                    $(</span>"#myDiv2"<span style="color: #000000;">).dialog({
                        width:</span>200<span style="color: #000000;">,
                        height:</span>200<span style="color: #000000;">,
                        onBeforeClose:function(){
                            alert(</span>'窗口即将关闭'<span style="color: #000000;">)
                        }
                    });
                
                function closeDialog() {
                    </span><span style="color: #008000;">//</span><span style="color: #008000;">方法设置的标准语法 : $(对象).组件名称(方法名称[,方法的值])</span>
                    $("#myDiv2").dialog("close"<span style="color: #000000;">);
                
                }
                function openDiaLog() {
                    $(</span>"#myDiv2").dialog("open"<span style="color: #000000;">);
                }
        </span>&lt;/script&gt;<span style="color: #000000;">
    
    表单:
        默认情况下,表单是传统表单,传统表单同步,easyui的表单是异步的.
        </span>&lt;script&gt;<span style="color: #000000;">
            $(</span>"#ff"<span style="color: #000000;">).from({
                url:</span>"${pageContext.request.contextPath}/DemoServlet",<span style="color: #008000;">//</span><span style="color: #008000;">等效action属性,表单提交的路径.</span>
<span style="color: #000000;">                onSubmit : function() {
                    </span><span style="color: #008000;">//</span><span style="color: #008000;">在此处可以做效验,表单提交前效验.
                    </span><span style="color: #008000;">//</span><span style="color: #008000;">alert(1);
                    </span><span style="color: #008000;">//</span><span style="color: #008000;">return false;</span>
<span style="color: #000000;">                },
                success:function(data) {
                    </span><span style="color: #008000;">//</span><span style="color: #008000;">回调函数,此处是没有判断状态码为200情况,以后是需要判断data值.</span>
<span style="color: #000000;">                    alert(data)
                }
            });
        </span>&lt;/script&gt;<span style="color: #000000;">
    Tabs:选项卡
        </span>&lt;script&gt;<span style="color: #000000;">
            function addTabs(){
                var flag </span>= $("#tt").tabs("exists","工资条"<span style="color: #000000;">);
                
                </span><span style="color: #0000ff;">if</span><span style="color: #000000;">(flag){
                    </span><span style="color: #008000;">//</span><span style="color: #008000;">如果面板已经存在,选中该面板</span>
                    $("#tt").tabs("select","工资条"<span style="color: #000000;">);
                }</span><span style="color: #0000ff;">else</span><span style="color: #000000;">{
                    </span><span style="color: #008000;">//</span><span style="color: #008000;">如果面板不存在,添加面板</span>
                    $("#tt").tabs("add"<span style="color: #000000;">,{
                        title : </span>"工资条",  <span style="color: #008000;">//</span><span style="color: #008000;">标题</span>
                        content : "Tab Body",  <span style="color: #008000;">//</span><span style="color: #008000;">内容</span>
                        closable : <span style="color: #0000ff;">true</span>  <span style="color: #008000;">//</span><span style="color: #008000;">是否可以关闭</span>
<span style="color: #000000;">                        
                    });
                }
                
            }
        </span>&lt;/script&gt;<span style="color: #000000;">
            
    下拉框:
        </span>&lt;input id="cc" name="dept" value="请选择"&gt;
            &lt;script&gt;<span style="color: #000000;">
                $(</span>"#cc"<span style="color: #000000;">).combobox({
                    </span><span style="color: #008000;">//</span><span style="color: #008000;">可以加载远程事件,支持json   easyui都支持json</span>
                    url:"combobox_data.json"<span style="color: #000000;">,
                    valueField : </span>"id", <span style="color: #008000;">//</span><span style="color: #008000;">对应value值,需要将json的key放在此处,  </span><span style="color: #008000;">//</span><span style="color: #008000;"> &lt;option value=""&gt;文本&lt;/option&gt;</span>
                    textFiedld : "name"  <span style="color: #008000;">//</span><span style="color: #008000;">将要显示的文本的key放在此处</span>
<span style="color: #000000;">                    
                });
            </span>&lt;/script&gt;<span style="color: #000000;">
    
    Datagrid:数据表单
        url : 加载远程的数据,支持json
            表格中的field的字段名称,必须和json的一致,如果一致,表单将自动填充json数据.
        </span>&lt;table <span style="color: #0000ff;">class</span>="easyui-datagrid" data-options="url:'datagrid_data.json',fit:true"&gt;
            &lt;thead&gt;
                &lt;tr&gt;
                    &lt;th data-options="field:'id',width:100"&gt;编码&lt;/th&gt;
                    &lt;th data-options="field:'name',width:100"&gt;名称&lt;/th&gt;
                    &lt;th data-options="field:'age',width:100,align:'right'"&gt;价格&lt;/th&gt;
                    &lt;th data-options="field:'pimage',width:100,align:'right',formatter:function( value , rows , index){ return '&lt;img src='+value + '&gt;';}"&gt;图片&lt;/th&gt;
                &lt;/tr&gt;
            &lt;/thead&gt;
        &lt;/table&gt;
    
    &lt;table id="dg"&gt;&lt;/table&gt;<span style="color: #000000;">
        value : 表示当前json的值
        rows : 表示当前行的对象
        index : 表示当前行的索引
    </span>&lt;script&gt;<span style="color: #000000;">
        $(</span>'#dg'<span style="color: #000000;">).datagrid({    
            url:</span>'datagrid_data.json', <span style="color: #008000;">//</span><span style="color: #008000;">url : 加载远程的数据 支持json     </span>
<span style="color: #000000;">            columns:[[    
                {field:</span>'id',title:'id',width:100<span style="color: #000000;">},    
                {field:</span>'name',title:'Name',width:100<span style="color: #000000;">},    
                {field:</span>'age',title:'age',width:100,align:'right'<span style="color: #000000;">}, 
                {field:</span>'pimage',title:'pimage',width:100,align:'right'<span style="color: #000000;">,
                    formatter:function(value , rows , index){
                        </span><span style="color: #0000ff;">return</span>  "&lt;img src='"+value+"' style='width:40px'&gt;"<span style="color: #000000;">;
                       }    
                }    
            ]],
            fit:</span><span style="color: #0000ff;">true</span> ,<span style="color: #008000;">//</span><span style="color: #008000;">表格自动填充</span>
            fitColumns:<span style="color: #0000ff;">true</span>, <span style="color: #008000;">//</span><span style="color: #008000;">列自动填充</span>
            autoRowHeight:<span style="color: #0000ff;">true</span>,<span style="color: #008000;">//</span><span style="color: #008000;">高度填充</span>
<span style="color: #000000;">            toolbar:[{
                iconCls: </span>'icon-edit'<span style="color: #000000;">,
                handler: function(){alert(</span>'编辑按钮'<span style="color: #000000;">)}
            },</span>'-'<span style="color: #000000;">,{
                iconCls: </span>'icon-help'<span style="color: #000000;">,
                handler: function(){alert(</span>'帮助按钮'<span style="color: #000000;">)}
            }],
            singleSelect:</span><span style="color: #0000ff;">true</span>, <span style="color: #008000;">//</span><span style="color: #008000;">只能选择一个</span>
            pagination:<span style="color: #0000ff;">true</span>,<span style="color: #008000;">//</span><span style="color: #008000;">页面的底部加上分页条</span>
            pageNumber:1, <span style="color: #008000;">//</span><span style="color: #008000;">默认打开第一页</span>
            pageSize:5<span style="color: #000000;">,
            pageList:[</span>5,10,15,20,25,30<span style="color: #000000;">]
        });  
    </span>&lt;/script&gt;<span style="color: #000000;">
    
    后台代码:
        接收的分页参数:
        响应回去的数据:
        
    </span><span style="color: #0000ff;">protected</span> <span style="color: #0000ff;">void</span> doGet(HttpServletRequest request, HttpServletResponse response) <span style="color: #0000ff;">throws</span><span style="color: #000000;"> ServletException, IOException {
        </span><span style="color: #0000ff;">try</span><span style="color: #000000;"> {
            </span><span style="color: #008000;">//</span><span style="color: #008000;">问题1: 页面需要传入 pageSize 和 pageNumber
            </span><span style="color: #008000;">//</span><span style="color: #008000;">问题2: 响应数据 是什么? 页面需要什么数据来进行分页
            
            </span><span style="color: #008000;">//</span><span style="color: #008000;">0.编码</span>
            request.setCharacterEncoding("utf-8"<span style="color: #000000;">);
            response.setHeader(</span>"content-type", "text/html;charset=utf-8"<span style="color: #000000;">);
            </span><span style="color: #008000;">//</span><span style="color: #008000;">1.获得数据</span>
            String pageNumberStr = request.getParameter("page"<span style="color: #000000;">);
            String pageSizeStr </span>= request.getParameter("rows"<span style="color: #000000;">);
            
            </span><span style="color: #0000ff;">int</span> pageNumber =<span style="color: #000000;"> Integer.valueOf(pageNumberStr);
            </span><span style="color: #0000ff;">int</span> pageSize =<span style="color: #000000;"> Integer.valueOf(pageSizeStr);
            
            </span><span style="color: #008000;">//</span><span style="color: #008000;">int pageNumber= 1;
            </span><span style="color: #008000;">//</span><span style="color: #008000;">int pageSize = 5;
            
            </span><span style="color: #008000;">//</span><span style="color: #008000;">2.处理数据</span>
            ProductService service = <span style="color: #0000ff;">new</span><span style="color: #000000;"> ProductService();
            </span><span style="color: #008000;">//</span><span style="color: #008000;">List&lt;Product&gt; pList = service.findAll();
            </span><span style="color: #008000;">//</span><span style="color: #008000;">如果响应回去的只是list 不会进行分页
            </span><span style="color: #008000;">//</span><span style="color: #008000;">List&lt;Product&gt; pList = service.findByPage( pageNumber , pageSize);</span>
            EasyUIPageBean&lt;Product&gt; easyUIPageBean =<span style="color: #000000;"> service.findByEasyUIPage( pageNumber , pageSize);
            
            </span><span style="color: #008000;">//</span><span style="color: #008000;">需要响应的数据{total:28 , "rows" : [ {} , {} ,{} ]}   ==&gt;&gt; 可以使用map 也可以封装对象
            </span><span style="color: #008000;">//</span><span style="color: #008000;">但目前是           [{key:value,key:value},{key:value,key:value}..]
            
            
            </span><span style="color: #008000;">//</span><span style="color: #008000;">3.响应</span>
            Gson gson = <span style="color: #0000ff;">new</span><span style="color: #000000;"> Gson();
            String json </span>=<span style="color: #000000;"> gson.toJson(easyUIPageBean);
            System.out.println(json);
            response.getWriter().print(json); 
        } </span><span style="color: #0000ff;">catch</span><span style="color: #000000;"> (Exception e) {
            e.printStackTrace();
        }
    
    }</span></pre>
</div>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>