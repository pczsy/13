<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修jQuery 源码解析(二十六) 样式操作模块 样式详解' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>jQuery 源码解析(二十六) 样式操作模块 样式详解</center></div><div class='banquan'>原文出处:本文由博客园博主大沙漠提供。<br/>
原文连接:https://www.cnblogs.com/greatdesert/p/11890719.html</div><br>
    <p>样式操作模块可用于管理DOM元素的样式、坐标和尺寸，本节讲解一下样式相关，样式操作通过jQuery实例的css方法来实现，该方法有很多的执行方法，如下:</p>
<ul>
<li>css(obj)&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;　　&nbsp; ;参数1是一个对象时，表示一次性设置多个css样式&nbsp;&nbsp;</li>
<li>css(name,func)&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; ;参数2是函数时，设置的是函数返回值&nbsp;&nbsp; &nbsp;</li>
<li>css(name,'')&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; ;参数2是空字符串时，表示删除该样式(删除style属性上的)&nbsp;&nbsp;&nbsp;</li>
<li>css(name)&nbsp;&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; ;如果忽略第二个参数，则获取第一个匹配元素的name样式</li>
<li>css(name,value) &nbsp;&nbsp; ;设置每个匹配的元素的name样式为值value。</li>
</ul>
<p class="hwi">&nbsp;writer by:大沙漠 QQ:22969969</p>
<p>举个栗子:</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">&lt;!</span><span style="color: #ff00ff;">DOCTYPE html</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">html </span><span style="color: #ff0000;">lang</span><span style="color: #0000ff;">="en"</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">head</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">meta </span><span style="color: #ff0000;">charset</span><span style="color: #0000ff;">="UTF-8"</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">title</span><span style="color: #0000ff;">&gt;</span>Document<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">title</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">script </span><span style="color: #ff0000;">src</span><span style="color: #0000ff;">="http://libs.baidu.com/jquery/1.7.1/jquery.min.js"</span><span style="color: #0000ff;">&gt;&lt;/</span><span style="color: #800000;">script</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">style</span><span style="color: #0000ff;">&gt;</span><span style="background-color: #f5f5f5; color: #800000;">
        div</span><span style="background-color: #f5f5f5; color: #000000;">{</span><span style="background-color: #f5f5f5; color: #ff0000;">width</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;"> 200px</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;">height</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;"> 200px</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #ff0000;">background</span><span style="background-color: #f5f5f5; color: #000000;">:</span><span style="background-color: #f5f5f5; color: #0000ff;"> #0ff</span><span style="background-color: #f5f5f5; color: #000000;">;</span><span style="background-color: #f5f5f5; color: #000000;">}</span>
    <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">style</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">head</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">body</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">div</span><span style="color: #0000ff;">&gt;</span>
        
    <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">div</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">button </span><span style="color: #ff0000;">id</span><span style="color: #0000ff;">="b1"</span><span style="color: #0000ff;">&gt;</span>设置背景和边框<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">button</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">button </span><span style="color: #ff0000;">id</span><span style="color: #0000ff;">="b2"</span><span style="color: #0000ff;">&gt;</span>移除边框<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">button</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">button </span><span style="color: #ff0000;">id</span><span style="color: #0000ff;">="b3"</span><span style="color: #0000ff;">&gt;</span>获取宽度<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">button</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">script</span><span style="color: #0000ff;">&gt;</span><span style="background-color: #f5f5f5; color: #000000;">
        $(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">#b1</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">).click(()</span><span style="background-color: #f5f5f5; color: #000000;">=&gt;</span><span style="background-color: #f5f5f5; color: #000000;">{
            $(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">div</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">).css({background:</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">#ff0</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">,border:</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">1px solid #f00</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">})
        })
        $(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">#b2</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">).click(()</span><span style="background-color: #f5f5f5; color: #000000;">=&gt;</span><span style="background-color: #f5f5f5; color: #000000;">{
            $(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">div</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">).css(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">border</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">,</span><span style="background-color: #f5f5f5; color: #000000;">''</span><span style="background-color: #f5f5f5; color: #000000;">)
        })
        $(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">#b3</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">).click(()</span><span style="background-color: #f5f5f5; color: #000000;">=&gt;</span><span style="background-color: #f5f5f5; color: #000000;">{
            $(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">div</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">).text($(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">div</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">).css(</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">height</span><span style="background-color: #f5f5f5; color: #000000;">'</span><span style="background-color: #f5f5f5; color: #000000;">) )
             
        })
    </span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">script</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">body</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">html</span><span style="color: #0000ff;">&gt;</span></pre>
</div>
<p>效果如下:</p>
<p><img src="./images/jQuery 源码解析(二十六) 样式操作模块 样式详解0.png" alt="" /></p>
<p>我们设置了三个按钮，分别通过css方法进行设置、删除和获取样式，比较好用哈</p>
<p>&nbsp;</p>
<p><strong><span style="font-size: 18pt;">源码分析</span></strong></p>
<hr />
<p>jquery实例css方法实现如下:</p>
<div class="cnblogs_code">
<pre><code>jQuery.fn.css = <span style="color: #0000ff;">function</span>( name, value ) {            <span style="color: #008000;">//</span><span style="color: #008000;">获取匹配元素集合中第一个元素的计算样式 或者 在每个匹配元素上设置一个或多个内联样式。</span>
    <span style="color: #008000;">//</span><span style="color: #008000;"> Setting 'undefined' is a no-op</span>
    <span style="color: #0000ff;">if</span> ( arguments.length === 2 &amp;&amp; value ===<span style="color: #000000;"> undefined ) {
        </span><span style="color: #0000ff;">return</span> <span style="color: #0000ff;">this</span><span style="color: #000000;">;
    }

    </span><span style="color: #0000ff;">return</span> jQuery.access( <span style="color: #0000ff;">this</span>, name, value, <span style="color: #0000ff;">true</span>, <span style="color: #0000ff;">function</span>( elem, name, value ) {        <span style="color: #008000;">//</span><span style="color: #008000;">调用jQuery.access()遍历匹配元素集合，并在每个元素上执行传入的回调函数</span>
        <span style="color: #0000ff;">return</span> value !== undefined ?<span style="color: #000000;">
            jQuery.style( elem, name, value ) :             </span><span style="color: #008000;">//</span><span style="color: #008000;">如果传入了参数则调用jQuery.style()设置内联样式</span>
            jQuery.css( elem, name );                        <span style="color: #008000;">//</span><span style="color: #008000;">否则调用jQuery.css()来读取计算样式</span>
<span style="color: #000000;">    });
};</span></pre>
</div>
<p>通过access工具函数来实现的，这样参数就支持多种形式了,access在html篇里讲解过了，可以看这个地址:<a href="https://www.cnblogs.com/greatdesert/p/11670682.html" target="_blank">https://www.cnblogs.com/greatdesert/p/11670682.html</a></p>
<p>可以源码看到，jQuery内部对于css的实现是通过静态的style和css方法来实现的，前者负责设置DOM元素的内联样式，后者用于读取elem元素上name的值,style的实现如下:</p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">jQuery.extend({
    style: </span><span style="color: #0000ff;">function</span>( elem, name, value, extra ) {                <span style="color: #008000;">//</span><span style="color: #008000;">读取或设置DOM元素的内联样式。elem:DOM元素、name:待读取或设置的样式名、value:待设置的样式值、extra:用于指示获取宽度、高度的计算公式字符串。</span>
        <span style="color: #008000;">//</span><span style="color: #008000;"> Don't set styles on text and comment nodes</span>
        <span style="color: #0000ff;">if</span> ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {    <span style="color: #008000;">//</span><span style="color: #008000;">如果是文本节点或注释节点 或者不是文本、注释节点但是没有style属性</span>
            <span style="color: #0000ff;">return</span>;                                                                        <span style="color: #008000;">//</span><span style="color: #008000;">直接返回，不做处理</span>
<span style="color: #000000;">        }

        </span><span style="color: #008000;">//</span><span style="color: #008000;"> Make sure that we're working with the right name</span>
        <span style="color: #0000ff;">var</span> ret, type, origName =<span style="color: #000000;"> jQuery.camelCase( name ),
            style </span>= elem.style, hooks = jQuery.cssHooks[ origName ];    <span style="color: #008000;">//</span><span style="color: #008000;">将style设置为elem.style</span>
<span style="color: #000000;">
        name </span>= jQuery.cssProps[ origName ] ||<span style="color: #000000;"> origName;

        </span><span style="color: #008000;">//</span><span style="color: #008000;"> Check if we're setting a value</span>
        <span style="color: #0000ff;">if</span> ( value !== undefined ) {                                    <span style="color: #008000;">//</span><span style="color: #008000;">如果传入了value值，则设置相对值。</span>
            type = <span style="color: #0000ff;">typeof</span><span style="color: #000000;"> value;

            </span><span style="color: #008000;">//</span><span style="color: #008000;"> convert relative number strings (+= or -=) to relative numbers. #7345</span>
            <span style="color: #0000ff;">if</span> ( type === "string" &amp;&amp; (ret = rrelNum.exec( value )) ) {        <span style="color: #008000;">//</span><span style="color: #008000;">如果value是相对值字符串，则计算相对值。value格式是+=..或-=...。rrelNum = /^([\-+])=([\-+.\de]+)/,</span>
                value = ( +( ret[1] + 1) * +ret[2] ) +<span style="color: #000000;"> parseFloat( jQuery.css( elem, name ) );
                </span><span style="color: #008000;">//</span><span style="color: #008000;"> Fixes bug #9237</span>
                type = "number"<span style="color: #000000;">;
            }

            </span><span style="color: #008000;">//</span><span style="color: #008000;"> Make sure that NaN and null values aren't set. See: #7116</span>
            <span style="color: #0000ff;">if</span> ( value == <span style="color: #0000ff;">null</span> || type === "number" &amp;&amp; isNaN( value ) ) {    <span style="color: #008000;">//</span><span style="color: #008000;">过滤null、NaN类型，不做任何处理，如果要删除某个内联样式，请传入空字符串</span>
                <span style="color: #0000ff;">return</span><span style="color: #000000;">;
            }

            </span><span style="color: #008000;">//</span><span style="color: #008000;"> If a number was passed in, add 'px' to the (except for certain CSS properties)</span>
            <span style="color: #0000ff;">if</span> ( type === "number" &amp;&amp; !jQuery.cssNumber[ origName ] ) {        <span style="color: #008000;">//</span><span style="color: #008000;">如果待设置的样式值是一个数值，且该样式不在cssNumber中定义的，则自动追加单位px。cssNumber定义在6492行，是一个数组。</span>
                value += "px"<span style="color: #000000;">;
            }

            </span><span style="color: #008000;">//</span><span style="color: #008000;"> If a hook was provided, use that value, otherwise just set the specified value</span>
            <span style="color: #0000ff;">if</span> ( !hooks || !("set" <span style="color: #0000ff;">in</span> hooks) || (value = hooks.set( elem, value )) !== undefined ) {    <span style="color: #008000;">//</span><span style="color: #008000;">优先调用修正对象爱那个的修正方法set();</span>
                <span style="color: #008000;">//</span><span style="color: #008000;"> Wrapped to prevent IE from throwing errors when 'invalid' values are provided</span>
                <span style="color: #008000;">//</span><span style="color: #008000;"> Fixes bug #5509</span>
                <span style="color: #0000ff;">try</span><span style="color: #000000;"> {
                    style[ name ] </span>= value;                                                                        <span style="color: #008000;">//</span><span style="color: #008000;">其次<span style="color: #ff0000;">设置style[name]属性。</span></span>
                } <span style="color: #0000ff;">catch</span><span style="color: #000000;">(e) {}
            }

        } </span><span style="color: #0000ff;">else</span> {                                                        <span style="color: #008000;">//</span><span style="color: #008000;">如果未传入value参数，则读取内联样式。</span>
            <span style="color: #008000;">//</span><span style="color: #008000;"> If a hook was provided get the non-computed value from there</span>
            <span style="color: #0000ff;">if</span> ( hooks &amp;&amp; "get" <span style="color: #0000ff;">in</span> hooks &amp;&amp; (ret = hooks.get( elem, <span style="color: #0000ff;">false</span>, extra )) !== undefined ) {    <span style="color: #008000;">//</span><span style="color: #008000;">优先调用修正对象的get()修正方法，并返回。</span>
                <span style="color: #0000ff;">return</span><span style="color: #000000;"> ret;
            }

            </span><span style="color: #008000;">//</span><span style="color: #008000;"> Otherwise just get the value from the style object</span>
            <span style="color: #0000ff;">return</span> style[ name ];                                                                            <span style="color: #008000;">//</span><span style="color: #008000;">没有修正方法则读取属性style[name]。</span>
<span style="color: #000000;">        }
    },
})</span></pre>
</div>
<p>从源码里看到我们可以每次递增一些属性，例如:$("div").css('width','+=20')这样去累加宽度的，默认单位为px。</p>
<p>对于css的实现如下:</p>
<div class="cnblogs_code">
<pre><code><span style="color: #000000;">jQuery.extend({
    css: </span><span style="color: #0000ff;">function</span>( elem, name, extra ) {        <span style="color: #008000;">//</span><span style="color: #008000;">负责读取DOM元素的计算样式。elem:待读取的DOM元素,name:待设置的样式名，extra:一个字符串，用于指示获取高度、宽度的计算公式。</span>
        <span style="color: #0000ff;">var</span><span style="color: #000000;"> ret, hooks;

        </span><span style="color: #008000;">//</span><span style="color: #008000;"> Make sure that we're working with the right name</span>
        name = jQuery.camelCase( name );            <span style="color: #008000;">//</span><span style="color: #008000;">将样式名转换为驼峰式</span>
        hooks = jQuery.cssHooks[ name ];            <span style="color: #008000;">//</span><span style="color: #008000;">hooks指向驼峰式样式名对应的修正对象。</span>
        name = jQuery.cssProps[ name ] || name;        <span style="color: #008000;">//</span><span style="color: #008000;">修正驼峰式样式名,如果origName是float则把name修正为cssFloat或styleFloat</span>

        <span style="color: #008000;">//</span><span style="color: #008000;"> cssFloat needs a special treatment</span>
        <span style="color: #0000ff;">if</span> ( name === "cssFloat" ) {                <span style="color: #008000;">//</span><span style="color: #008000;">如果样式名为cssFloat</span>
            name = "float";                                <span style="color: #008000;">//</span><span style="color: #008000;">则修正为float</span>
<span style="color: #000000;">        }

        </span><span style="color: #008000;">//</span><span style="color: #008000;"> If a hook was provided get the computed value from there</span>
        <span style="color: #0000ff;">if</span> ( hooks &amp;&amp; "get" <span style="color: #0000ff;">in</span> hooks &amp;&amp; (ret = hooks.get( elem, <span style="color: #0000ff;">true</span>, extra )) !== undefined ) {    <span style="color: #008000;">//</span><span style="color: #008000;">优先调用修正对象的get()修正方法。</span>
            <span style="color: #0000ff;">return</span><span style="color: #000000;"> ret;

        </span><span style="color: #008000;">//</span><span style="color: #008000;"> Otherwise, if a way to get the computed value exists, use that</span>
        } <span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span><span style="color: #000000;"> ( curCSS ) {
            </span><span style="color: #0000ff;">return</span> curCSS( elem, name );                <span style="color: #008000;">//</span><span style="color: #008000;">其他调用curCSS(elem,name)读取计算样式。定义在6765行</span>
<span style="color: #000000;">        }
    },
})</span></pre>
</div>
<p>curCSS是jQuery内部定义的一个工具函数，用于获取某个样式，实现如下:</p>
<div class="cnblogs_code">
<pre><code>curCSS = getComputedStyle || currentStyle;</pre>
</div>
<p>默认等于getComputedStyle(window.getComputedStyle存在的情况下，IE及其它浏览器),currentStyle是jQuery内部实现的一个另一个兼容方案，就不讨论了，getComputedStyle实现如下:</p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">if</span> ( document.defaultView &amp;&amp; document.defaultView.getComputedStyle ) {        <span style="color: #008000;">//</span><span style="color: #008000;">在IE9+和其他浏览器中。如果window.getComputedStyle属性存在。document.defaultView即window对象。</span>
    getComputedStyle = <span style="color: #0000ff;">function</span>( elem, name ) {                                <span style="color: #008000;">//</span><span style="color: #008000;">//定义getComputedStyle()函数</span>
        <span style="color: #0000ff;">var</span><span style="color: #000000;"> ret, defaultView, computedStyle;

        name </span>= name.replace( rupper, "-$1" ).toLowerCase();                        <span style="color: #008000;">//</span><span style="color: #008000;">将可能的驼峰式央视名转换为连字符式。rupper = /([A-Z]|^ms)/g,</span>

        <span style="color: #0000ff;">if</span> ( (defaultView = elem.ownerDocument.defaultView) &amp;&amp;<span style="color: #000000;">                    
                (computedStyle </span>= defaultView.getComputedStyle( elem, <span style="color: #0000ff;">null</span> )) ) {    <span style="color: #008000;">//</span><span style="color: #008000;">defaultView即window对象    调用window.getComputedStyle()方法获取该节点的样式集合</span>
            ret = computedStyle.getPropertyValue( name );                                    <span style="color: #008000;">//</span><span style="color: #008000;">调用getPropertyValue()方法获取name样式的值。</span>
            <span style="color: #0000ff;">if</span> ( ret === "" &amp;&amp; !jQuery.contains( elem.ownerDocument.documentElement, elem ) ) {    <span style="color: #008000;">//</span><span style="color: #008000;">如果没取到计算样式，并且当前元素不再文档中</span>
                ret = jQuery.style( elem, name );                                    <span style="color: #008000;">//</span><span style="color: #008000;">调用jQuery.style()读取内联样式。</span>
<span style="color: #000000;">            }
        }

        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> ret;
    };
}</span></pre>
</div>
<p>通过代码可以看到jQuery优先调用window.getComputedStyle()属性获取样式的。</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>