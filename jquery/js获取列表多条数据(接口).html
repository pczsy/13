<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修js获取列表多条数据(接口)' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>js获取列表多条数据(接口)</center></div><div class='banquan'>原文出处:本文由博客园博主蜡笔Sicily提供。<br/>
原文连接:https://www.cnblogs.com/sicilyxx/p/11840505.html</div><br>
    <pre><code><span style="font-family: arial, helvetica, sans-serif; font-size: 15px;"><span style="font-size: 16px;"><strong>读取数据：</strong></span><br /></span><span style="color: #ff6600;">//ajax去服务器端校验<br /><br /></span><em id="__mceDel" style="font-family: arial, helvetica, sans-serif; font-size: 14px;">$.ajax({</em></pre>
<pre><code><span style="font-family: arial, helvetica, sans-serif; font-size: 14px;"><em id="__mceDel">    type:"post",<br />    url:"http://",<br />    data:{deviceid:1},<br />    dataType:'json',<br />    success : function(data) {<br />        var jsonText = data;<br />        var ab= eval("("+jsonText+")");<span style="color: #ff6600;">//json格式转换</span><br />        for(j=0;j&lt;ab.length;j++){<br />            $(ab[j]).each(<br />                function (i, values) {<br />                    $("#list").append(<br />                        "&lt;tr class='ch_no'&gt;&lt;td&gt;" + i+1 + "&lt;/td&gt;" +<br />                        "&lt;td style=\"padding-left: 5%;\"&gt;"  + values.isReign + "&lt;/td&gt;" +<br />                        "&lt;td style=\"padding-left: 5%;\"&gt;"+ values.gain + "&lt;/td&gt;" +<br />                        "&lt;td style=\"padding-left: 5%;\"&gt;" +<br />                        "&lt;select id=\"outputPower\"&gt;\n" +<br />                        "     &lt;option selected=\"selected\"&gt;"+values.outputPower+"&lt;/option&gt;\n" +<br />                        "&lt;/select&gt;" +<br />                        "&lt;/td&gt;" +<br />                        "&lt;td style=\"padding-left: 5%;\"&gt;" +<br />                        "&lt;select id=\"forwardLinkRate\"&gt;\n" +<br />                        "     &lt;option selected=\"selected\"&gt;"+values.forwardLinkRate+"&lt;/option&gt;\n" +<br />                        "&lt;/select&gt;"+<br />                        "&lt;td style=\"padding-left: 5%;\"&gt;" +<br />                        "&lt;select id=\"reverseLinkRate\"&gt;\n" +<br />                        "      &lt;option selected=\"selected\"&gt;"+values.reverseLinkRate+"&lt;/option&gt;\n" +<br />                        "&lt;/select&gt;" +<br />                        "&lt;/td&gt;" +<br />                        "&lt;td style=\"padding-left: 5%;\"&gt;" +<br />                        "&lt;select id=\"forwardModType\"&gt;\n" +<br />                        "      &lt;option selected=\"selected\"&gt;"+values.forwardModType+"&lt;/option&gt;\n" +<br />                        "&lt;/select&gt;" +<br />                        "&lt;/td&gt;" +<br />                        "&lt;td style=\"padding-left: 5%;\"&gt;" +<br />                        "&lt;select id=\"reverseModType\"&gt;\n" +<br />                        "      &lt;option selected=\"selected\"&gt;"+values.reverseModType+"&lt;/option&gt;\n" +<br />                        "&lt;/select&gt;" +<br />                        "&lt;/td&gt;" +<br />                        "&lt;td style=\"padding-left: 5%;\"&gt;" +<br />                        "&lt;select id=\"outputRate\"&gt;\n" +<br />                        "      &lt;option selected=\"selected\"&gt;"+values.outputRate+"&lt;/option&gt;\n" +<br />                        "      &lt;option&gt;不限&lt;/option&gt;" +<br />                        "&lt;/select&gt;" +<br />                        "&lt;/td&gt;&lt;/tr&gt;"<br />                    );<br />                }<br />            );<br />        }<br />    }<br />});</em></span></pre>
<pre><code><span style="font-family: arial, helvetica, sans-serif; font-size: 15px;"><br /><span style="font-size: 16px;"><strong>保存数据：</strong></span><br /><span style="font-size: 14px;">$("#btnSubmit").on('click',(function () {</span></span><br /><span style="font-family: arial, helvetica, sans-serif; font-size: 14px;">    var ab = new Array();</span><br /><span style="font-family: arial, helvetica, sans-serif; font-size: 14px;">    var ch_no = $('.ch_no');</span><br /><span style="font-family: arial, helvetica, sans-serif; font-size: 14px;">    var aDiv=document.getElementsByClassName("ch_no");<span style="color: #ff6600;">//获取文档中class为"ch_no"的所有元素</span></span></pre>
<pre><code><span style="font-family: arial, helvetica, sans-serif; font-size: 14px;"><em>    for (var i = 0;i&lt;aDiv.length;i++) {<span style="color: #ff6600;">//遍历&nbsp;aDiv的中所有元素并且将所有class为</span></em><span style="color: #ff6600;">"ch_no"<em id="__mceDel">的元素保存到数组aerial</em></span></span></pre>
<pre><code><span style="font-family: arial, helvetica, sans-serif; font-size: 14px;"><em id="__mceDel"><em id="__mceDel">        var outputPower_con = $(ch_no[i]).find("#outputPower").find("option:selected").val();<br />        var forwardLinkRate_con = $(ch_no[i]).find("#forwardLinkRate").find("option:selected").val();<br />        var reverseLinkRate_con = $(ch_no[i]).find("#reverseLinkRate").find("option:selected").val();<br />        var forwardModType_con = $(ch_no[i]).find("#forwardModType").find("option:selected").val();<br />        var reverseModType_con = $(ch_no[i]).find("#reverseModType").find("option:selected").val();<br />        var outputRate_con = $(ch_no[i]).find("#outputRate").find("option:selected").val();<br />        aerial.push({<br />            outputPower: outputPower_con,<br />            forwardLinkRate: forwardLinkRate_con,<br />            reverseLinkRate: reverseLinkRate_con,<br />            forwardModType: forwardModType_con,<br />            reverseModType: reverseModType_con,<br />            outputRate: outputRate_con<br />        })<br />    }<br />    console.log(ab);<br />    $.ajax({<br />        url: "http://",<span style="color: #ff6600;">//接口地址</span><br />        type:'post',<br />        data: ab,<br />        datatype: 'json',<br />        success : function(data) {<br />            console.log(data)<br />        },<br />        error : function() {<br />            alert('保存失败，请重试！ ');<br />        }<br />    })<br />})</em></em></span></pre>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>