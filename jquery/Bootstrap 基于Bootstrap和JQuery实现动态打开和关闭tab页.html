<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修Bootstrap 基于Bootstrap和JQuery实现动态打开和关闭tab页' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>Bootstrap 基于Bootstrap和JQuery实现动态打开和关闭tab页</center></div><div class='banquan'>原文出处:本文由博客园博主授客提供。<br/>
原文连接:https://www.cnblogs.com/shouke/p/10995213.html</div><br>
    <p align="center"><span style="font-family: 'courier new', courier;"><strong>基于</strong><strong>Bootstrap</strong><strong>和</strong><strong>JQuery</strong><strong>实现动态打开和关闭</strong><strong>tab</strong><strong>页</strong></span></p>
<p align="center"><span style="font-family: 'courier new', courier;"><strong>&nbsp;</strong></span></p>
<p align="right"><span style="font-family: 'courier new', courier;"><strong>by:</strong><strong>授客</strong><strong> QQ</strong><strong>：</strong><strong>1033553122</strong></span></p>
<ol>
<li><span style="font-family: 'courier new', courier;"><strong>1.&nbsp;&nbsp; </strong><strong>测试环境</strong></span></li>
</ol>
<p align="left"><span style="font-family: 'courier new', courier;">JQuery-3.2.1.min.j</span></p>
<p align="left"><span style="font-family: 'courier new', courier;">&nbsp;</span></p>
<p align="left"><span style="font-family: 'courier new', courier;">Bootstrap-3.3.7-dist</span></p>
<p align="left"><span style="font-family: 'courier new', courier;"><strong>&nbsp;</strong></span></p>
<p align="left"><span style="font-family: 'courier new', courier;">win7</span></p>
<p align="left"><span style="font-family: 'courier new', courier;">&nbsp;</span></p>
<ol>
<li><span style="font-family: 'courier new', courier;"><strong>2.&nbsp;&nbsp; </strong><strong>实践</strong></span></li>
</ol>
<p align="left"><span style="font-family: 'courier new', courier;">&nbsp;</span></p>
<p align="left"><span style="font-family: 'courier new', courier;"><strong>HTML</strong><strong>代码片段</strong></span></p>
<pre><code><span style="font-family: 'courier new', courier;">&nbsp;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">&lt;div class="container-fluid"&gt;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">&lt;div class="row"&gt;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;"><em>&lt;!--</em><em>添加左侧菜单栏</em><em> --&gt;</em></span></pre>
<pre><code><span style="font-family: 'courier new', courier;">&lt;div class="col-xs-2 col-sm-2 col-md-2 col-lg-2"&gt;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">&lt;div class="pannel-group" id="accordion"&gt;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">&lt;div id="left-nav" class="panel panel-default"&gt;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">&lt;div class="panel-heading"&gt;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">&lt;h4 class="panel-title"&gt;&lt;a data-toggle="collapse" class="nav-header collapsed" data-parent="#accordion" href="#tag20"&gt;&lt;iclass="glyphiconglyphicon-cog"&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;项目管理&lt;span class="pull-right glyphiconglyphicon-chevron-toggle"&gt;&lt;/span&gt;&lt;/a&gt;&lt;/h4&gt;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">&lt;/div&gt;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">&lt;div id="tag20" class="panel-collapse collapse in"&gt;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">&lt;div class="panel-body"&gt;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">&lt;ulclass="navnav-list"&gt;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">&lt;li class="active"&gt;&lt;a href="#" onclick="<em>addTab</em>({'menuID':'21', 'father':'navtab', 'tabName':'项目管理1', 'tabContentID':'tabContent', 'tabUrl':'/testulr'})"&gt;&lt;iclass="glyphiconglyphicon-cog"&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;项目管理1&lt;/a&gt;&lt;/li&gt;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">&lt;li class="active"&gt;&lt;a href="#" onclick="<em>addTab</em>({'menuID':'22', 'father':'navtab', 'tabName':'项目管理2', 'tabContentID':'tabContent', 'tabUrl':''})"&gt;&lt;iclass="glyphiconglyphicon-cog"&gt;&lt;/i&gt;&amp;nbsp;&amp;nbsp;项目管理2&lt;/a&gt;&lt;/li&gt;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">&lt;/ul&gt;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">&lt;/div&gt;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">&lt;/div&gt;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">&lt;/div&gt;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">&lt;/div&gt;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">&lt;/div&gt;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">&nbsp;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">&nbsp;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;"><em>&lt;!--</em><em>添加</em><em>tab</em><em>页面</em><em> --&gt;</em></span></pre>
<pre><code><span style="font-family: 'courier new', courier;">&lt;div class="col-xs-10 col-sm-10 col-md-10 col-lg-10"&gt;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">&lt;ulid="navtab" class="navnav-tabs"&gt;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;"><em>&lt;!--</em><em>通过</em><em>js</em><em>获取</em><em> tab--&gt;</em></span></pre>
<pre><code><span style="font-family: 'courier new', courier;">&lt;/ul&gt;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">&nbsp;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;"><em>&lt;!-- tab</em><em>页面的内容</em><em> --&gt;</em></span></pre>
<pre><code><span style="font-family: 'courier new', courier;">&lt;div id="tabContent" class="tab-content"&gt;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;"><em>&lt;!--</em><em>通过</em><em>js</em><em>获取</em><em> tab</em><em>对应的页面内容</em><em>--&gt;</em></span></pre>
<pre><code><span style="font-family: 'courier new', courier;">&lt;/div&gt;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">&lt;/div&gt;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">&nbsp;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">&lt;/div&gt;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">&lt;/div&gt;</span></pre>
<p align="left"><span style="font-family: 'courier new', courier;">&nbsp;</span></p>
<p align="left"><span style="font-family: 'courier new', courier;">&lt;/body&gt;</span></p>
<p align="left"><span style="font-family: 'courier new', courier;">&lt;/html&gt;</span></p>
<p align="left"><span style="font-family: 'courier new', courier;">&nbsp;</span></p>
<p align="left"><span style="font-family: 'courier new', courier;">&nbsp;</span></p>
<p align="left"><span style="font-family: 'courier new', courier;"><strong>JS</strong><strong>代码片段</strong></span></p>
<pre><code><span style="font-family: 'courier new', courier;">&nbsp;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;"><em>/**</em></span></pre>
<pre><code><span style="font-family: 'courier new', courier;"><em> * </em><em>增加</em><em>tab</em><em>标签页</em></span></pre>
<pre><code><span style="font-family: 'courier new', courier;"><em> * <strong>@param </strong>options</em><em>：</em></span></pre>
<pre><code><span style="font-family: 'courier new', courier;"><em> * menuIDtab</em><em>标签页对应的左侧导航菜单在数据库表中的</em><em>id</em><em>，作为</em><em>tab</em><em>元素</em><em>id</em><em>的组成部分</em></span></pre>
<pre><code><span style="font-family: 'courier new', courier;"><em> * tabName&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tab</em><em>标签页名称</em></span></pre>
<pre><code><span style="font-family: 'courier new', courier;"><em> * tabUrl&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tab&ldquo;</em><em>装载</em><em>&rdquo;</em><em>的</em><em>url</em></span></pre>
<pre><code><span style="font-family: 'courier new', courier;"><em> * tabContentID&nbsp; tab</em><em>标签页的页面内容所在的父级元素（</em><em>div</em><em>容器）</em></span></pre>
<pre><code><span style="font-family: 'courier new', courier;"><em> *</em></span></pre>
<pre><code><span style="font-family: 'courier new', courier;"><em> * <strong>@returns </strong>{boolean}</em></span></pre>
<pre><code><span style="font-family: 'courier new', courier;"><em> */</em></span></pre>
<pre><code><span style="font-family: 'courier new', courier;">function <em>addTab</em>(options) {</span></pre>
<pre><code><span style="font-family: 'courier new', courier;"><em>setBreadcrumb</em>(options.level1, options.level2, options.tabName);</span></pre>
<pre><code><span style="font-family: 'courier new', courier;"><em>//tabUrl:</em><em>当前</em><em>tab</em><em>所指向的</em><em>URL</em><em>地址</em></span></pre>
<pre><code><span style="font-family: 'courier new', courier;">varisExists= <em>isTabExists</em>(options.menuID);</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">if(isExists){ <em>// </em><em>如果</em><em>tab</em><em>标签页已打开，则选中、激活</em></span></pre>
<pre><code><span style="font-family: 'courier new', courier;">$("#tab-a-" + options.menuID).click(); <em>// </em><em>注意，必须是点击</em><em> a</em><em>标签才起作用</em></span></pre>
<pre><code><span style="font-family: 'courier new', courier;">} else {</span></pre>
<pre><code><span style="font-family: 'courier new', courier;"><em>// </em><em>新增</em><em> tab </em><em>标签页</em></span></pre>
<pre><code><span style="font-family: 'courier new', courier;"><em>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //</em><em>按钮图标</em><em> '&lt;i class="glyphiconglyphicon-remove"&gt;&lt;/i&gt;&lt;/a&gt;'</em></span></pre>
<pre><code><span style="font-family: 'courier new', courier;">$("#" + <em>tabFatherElementID</em>).append(</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">'&lt;li role="presentation" id="tab-li-' + options.menuID + '"&gt;' +</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">'&nbsp;&nbsp;&nbsp; &lt;a href="#tab-content-' +options.menuID + '" data-toggle="tab" role="tab" id="tab-a-' + options.menuID + '"&gt;'+ options.tabName + '&lt;button class="close closeTab" type="button" onclick="closeTab(this,' + "'" + options.level1 + "','" + options.level2 + "','" + options.tabName + "'" +');"&gt;&times;&lt;/button&gt;' + '&lt;/a&gt;' +</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">'&lt;/li&gt;');</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">&nbsp;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;"><em>// </em><em>设置</em><em> tab</em><em>标签页的内容</em></span></pre>
<pre><code><span style="font-family: 'courier new', courier;">var content = '&lt;iframe name="tabIframe" src="' + options.tabUrl + '" width="100%" frameborder="no" border="0" marginwidth="0" marginheight="0" scrolling="yes" allowtransparency="yes" onload="changeFrameHeight()"&gt;&lt;/iframe&gt;';</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">&nbsp;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">$("#" + options.tabContentID).append('&lt;div id="tab-content-' + options.menuID + '" role="tabpanel" class="tab-pane"&gt;' + content + '&lt;/div&gt;');</span></pre>
<p align="left"><span style="font-family: 'courier new', courier;"><em>&nbsp;</em></span></p>
<p align="left"><span style="font-family: 'courier new', courier;">$("#tab-a-" + options.menuID).click(); <em>// </em><em>选中打开的</em><em>tab</em></span></p>
<p align="left"><span style="font-family: 'courier new', courier;">currentIframID= 'iframe' + options.menuID;</span></p>
<p align="left"><span style="font-family: 'courier new', courier;">&nbsp;&nbsp;&nbsp; }</span></p>
<p align="left"><span style="font-family: 'courier new', courier;">}</span></p>
<pre><code><span style="font-family: 'courier new', courier;">&nbsp;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">&nbsp;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;"><em>/***</em></span></pre>
<pre><code><span style="font-family: 'courier new', courier;"><em> * </em><em>判断</em><em>tab</em><em>页是否已经打开</em></span></pre>
<pre><code><span style="font-family: 'courier new', courier;"><em> * @paramtabName</em><em>当前</em><em>tab</em><em>的名称</em></span></pre>
<pre><code><span style="font-family: 'courier new', courier;"><em> * @returns {boolean}</em></span></pre>
<pre><code><span style="font-family: 'courier new', courier;"><em> */</em></span></pre>
<pre><code><span style="font-family: 'courier new', courier;">function <em>isTabExists</em>(menuID){</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">var tab = $('#tab-li-' + menuID + ' &gt; #tab-a-' + menuID);</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">return tab.length&gt;0;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">}</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">&nbsp;</span></pre>
<p align="left"><span style="font-family: 'courier new', courier;"><em>/**</em></span></p>
<p align="left"><span style="font-family: 'courier new', courier;"><em>&nbsp;* </em><em>关闭</em><em>tab</em><em>标签页</em></span></p>
<p align="left"><span style="font-family: 'courier new', courier;"><em>&nbsp;* @param button</em></span></p>
<p align="left"><span style="font-family: 'courier new', courier;"><em>&nbsp;*/</em></span></p>
<p align="left"><span style="font-family: 'courier new', courier;">function&nbsp;<em>closeTab</em>(button) {</span></p>
<p align="left"><span style="font-family: 'courier new', courier;"><em>//</em><em>通过所点击的</em><em>x </em><em>按钮，找到对应</em><em>li</em><em>标签的</em><em>id</em></span></p>
<p align="left"><span style="font-family: 'courier new', courier;">var li_id= $(button).parent().parent().attr('id');</span></p>
<p align="left"><span style="font-family: 'courier new', courier;">var id = li_id.replace('tab-li-', '');</span></p>
<p align="left"><span style="font-family: 'courier new', courier;">&nbsp;</span></p>
<p align="left"><span style="font-family: 'courier new', courier;">var li_active= $("#"+ <em>tabFatherElementID</em>+ " &gt;li.active");</span></p>
<p align="left"><span style="font-family: 'courier new', courier;">if (li_active.attr('id') == li_id) { <em>// </em><em>如果关闭的是当前处于选中状态的</em><em>TAB</em></span></p>
<p align="left"><span style="font-family: 'courier new', courier;">if (li_active.prev()[0]) { <em>// </em><em>如果当前</em><em>tab</em><em>标签之前存在</em><em>tab</em><em>标签，则激活前一个标签页（前后顺序对应左右顺序</em></span></p>
<p align="left"><span style="font-family: 'courier new', courier;">li_active.prev().find("a").click();</span></p>
<p align="left"><span style="font-family: 'courier new', courier;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } <strong>else if </strong>(li_active.next()[0]) { <em>// </em><em>如果当前</em><em>tab</em><em>标签之前不存在</em><em>tab</em><em>标签，并且在其之后存在</em><em>tab</em><em>标签，则激活后一个</em><em>tab</em><em>标签页</em></span></p>
<p align="left"><span style="font-family: 'courier new', courier;">li_active.next().find(<strong>"a"</strong>).click();</span></p>
<p align="left"><span style="font-family: 'courier new', courier;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</span></p>
<p align="left"><span style="font-family: 'courier new', courier;">&nbsp;&nbsp;&nbsp; }</span></p>
<p align="left"><span style="font-family: 'courier new', courier;">&nbsp;</span></p>
<p align="left"><span style="font-family: 'courier new', courier;"><em>//</em><em>关闭</em><em>TAB</em></span></p>
<p align="left"><span style="font-family: 'courier new', courier;"><strong>$</strong>(<strong>"#" </strong>+ li_id).remove();</span></p>
<p align="left"><span style="font-family: 'courier new', courier;"><strong>$</strong>(<strong>"#tab-content-" </strong>+ id).remove(); <em>// </em><em>移除内容</em></span></p>
<p align="left"><span style="font-family: 'courier new', courier;">}</span></p>
<pre><code><span style="font-family: 'courier new', courier;">&nbsp;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">&nbsp;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;"><em>/**</em></span></pre>
<pre><code><span style="font-family: 'courier new', courier;"><em> * </em><em>设置</em><em>tab</em><em>标签对应的</em><em>iframe</em><em>页面高度</em></span></pre>
<pre><code><span style="font-family: 'courier new', courier;"><em> */</em></span></pre>
<pre><code><span style="font-family: 'courier new', courier;">function <em>changeFrameHeight</em>(){</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">var iframes = document.getElementsByName('tabIframe');</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">var contentContainer= $('#' + <em>tabContentID</em>); <em>// </em><em>获取</em><em>tab</em><em>标签对应的页面</em><em>div</em><em>容器对象</em><em> // </em><em>可能会出现获取不到的情况</em></span></pre>
<pre><code><span style="font-family: 'courier new', courier;">var offsetTop= 0;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">if(contentContainer.offset()) {</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">offsetTop= contentContainer.offset().top;&nbsp; <em>//</em><em>容器距离</em><em>document</em><em>顶部的距离</em></span></pre>
<pre><code><span style="font-family: 'courier new', courier;">}</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">&nbsp;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">$.each(iframes, function(index, iframe){</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">var h = window.innerHeight|| document.documentElement.clientHeight|| document.body.clientHeight;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">iframe.height= h - offsetTop;<em>// </em><em>这里</em><em>offsetTop</em><em>可以替换成一个比较合理的常量值</em></span></pre>
<pre><code><span style="font-family: 'courier new', courier;">&nbsp;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">&nbsp;&nbsp;&nbsp; });</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">}</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">&nbsp;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;"><em>/**</em></span></pre>
<pre><code><span style="font-family: 'courier new', courier;"><em>* </em><em>浏览器窗口大小发生变化时，自动调整</em><em>iframe</em><em>页面高度</em></span></pre>
<pre><code><span style="font-family: 'courier new', courier;"><em>* </em><em>浏览器等因素导致改变浏览器窗口大小时，会发生多次</em><em>resize</em><em>事件，导致频繁调用</em><em>changeFrameHeight()</em><em>，</em><em>* </em><em>所以函数中添加了延迟事件</em></span></pre>
<pre><code><span style="font-family: 'courier new', courier;"><em>*/</em></span></pre>
<pre><code><span style="font-family: 'courier new', courier;">$(function(){</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">var resizeTimer= null;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">window.onresize=function(){</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">if(resizeTimer) {</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">clearTimeout(resizeTimer); <em>// </em><em>取消上次的延迟事件</em></span></pre>
<pre><code><span style="font-family: 'courier new', courier;">}</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">resizeTimer= setTimeout('<em>changeFrameHeight</em>()', 500);&nbsp; <em>// //</em><em>延迟</em><em>500</em><em>毫秒执行</em><em>changeFrameHeight</em><em>方法</em></span></pre>
<pre><code><span style="font-family: 'courier new', courier;">}</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">});</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">&nbsp;</span></pre>
<pre><code><span style="font-family: 'courier new', courier;">&nbsp;</span></pre>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>