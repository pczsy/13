<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修jQuery模仿ToDoList实现简单的待办事项列表' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>jQuery模仿ToDoList实现简单的待办事项列表</center></div><div class='banquan'>原文出处:本文由博客园博主#SY提供。<br/>
原文连接:https://www.cnblogs.com/sunyan-blog/p/11967041.html</div><br>
    <p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">功能：在文本框中输入待办事项按下回车后，事项会出现在未完成列表中；点击未完成事项前边的复选框后，该事项会出现在已完成列表中，反之亦然；点击删除按钮会删除该事项；双击事项可以修改事项的内容。待办事项的数据是保存到本地存储的（localStorage），就算关闭页面再打开，数据还是存在的（前提是要用相同浏览器）。</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">ToDoList链接：<a title="ToDoList&mdash;最简单的待办事项列表" href="http://www.todolist.cn/" target="_blank">ToDoList&mdash;最简单的待办事项列表</a></span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">先把css样式以及js文件引入进来，jQuery文件要写在你自己的js文件上边</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">link </span><span style="color: #ff0000;">rel</span><span style="color: #0000ff;">="stylesheet"</span><span style="color: #ff0000;"> href</span><span style="color: #0000ff;">="css/index.css"</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">script </span><span style="color: #ff0000;">src</span><span style="color: #0000ff;">="js/jquery.min.js"</span><span style="color: #0000ff;">&gt;&lt;/</span><span style="color: #800000;">script</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">script </span><span style="color: #ff0000;">src</span><span style="color: #0000ff;">="js/todolist.js"</span><span style="color: #0000ff;">&gt;&lt;/</span><span style="color: #800000;">script</span><span style="color: #0000ff;">&gt;</span></pre>
</div>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 14px;">HTML代码：</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">body</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;"> 2</span>     <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">header</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;"> 3</span>         <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">section</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;"> 4</span>             <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">label </span><span style="color: #ff0000;">for</span><span style="color: #0000ff;">="title"</span><span style="color: #0000ff;">&gt;</span>ToDoList<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">label</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;"> 5</span>             <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">input </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="text"</span><span style="color: #ff0000;"> id</span><span style="color: #0000ff;">="title"</span><span style="color: #ff0000;"> name</span><span style="color: #0000ff;">="title"</span><span style="color: #ff0000;"> placeholder</span><span style="color: #0000ff;">="添加ToDo"</span><span style="color: #ff0000;"> required</span><span style="color: #0000ff;">="required"</span><span style="color: #ff0000;"> autocomplete</span><span style="color: #0000ff;">="off"</span> <span style="color: #0000ff;">/&gt;</span>
<span style="color: #008080;"> 6</span>         <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">section</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;"> 7</span>     <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">header</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;"> 8</span>     <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">section</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;"> 9</span>         <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">h2</span><span style="color: #0000ff;">&gt;</span>正在进行 <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">span </span><span style="color: #ff0000;">id</span><span style="color: #0000ff;">="todocount"</span><span style="color: #0000ff;">&gt;&lt;/</span><span style="color: #800000;">span</span><span style="color: #0000ff;">&gt;&lt;/</span><span style="color: #800000;">h2</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">10</span>         <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">ol </span><span style="color: #ff0000;">id</span><span style="color: #0000ff;">="todolist"</span><span style="color: #ff0000;"> class</span><span style="color: #0000ff;">="demo-box"</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">11</span> 
<span style="color: #008080;">12</span>         <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">ol</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">13</span>         <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">h2</span><span style="color: #0000ff;">&gt;</span>已经完成 <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">span </span><span style="color: #ff0000;">id</span><span style="color: #0000ff;">="donecount"</span><span style="color: #0000ff;">&gt;&lt;/</span><span style="color: #800000;">span</span><span style="color: #0000ff;">&gt;&lt;/</span><span style="color: #800000;">h2</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">14</span>         <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">ul </span><span style="color: #ff0000;">id</span><span style="color: #0000ff;">="donelist"</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">15</span> 
<span style="color: #008080;">16</span>         <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">ul</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">17</span>     <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">section</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">18</span>     <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">footer</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">19</span>         Copyright <span style="color: #ff0000;">&amp;copy;</span><span style="color: #000000;"> 2019 
</span><span style="color: #008080;">20</span>     <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">footer</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">21</span> <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">body</span><span style="color: #0000ff;">&gt;<br /></span></pre>
</div>
<div class="cnblogs_code" onclick="cnblogs_code_show('2d951ddf-1583-457c-846f-976c0ef566ad')"><img id="code_img_closed_2d951ddf-1583-457c-846f-976c0ef566ad" class="code_img_closed" src="./images/jQuery模仿ToDoList实现简单的待办事项列表0.png" alt="" /><img id="code_img_opened_2d951ddf-1583-457c-846f-976c0ef566ad" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide('2d951ddf-1583-457c-846f-976c0ef566ad',event)" src="./images/jQuery模仿ToDoList实现简单的待办事项列表1.png" alt="" />
<div id="cnblogs_code_open_2d951ddf-1583-457c-846f-976c0ef566ad" class="cnblogs_code_hide">
<pre><code><span style="color: #008080;">  1</span> <span style="color: #800000;">body </span>{
<span style="color: #008080;">  2</span> <span style="color: #ff0000;">    margin</span>:<span style="color: #0000ff;"> 0</span>;
<span style="color: #008080;">  3</span> <span style="color: #ff0000;">    padding</span>:<span style="color: #0000ff;"> 0</span>;
<span style="color: #008080;">  4</span> <span style="color: #ff0000;">    font-size</span>:<span style="color: #0000ff;"> 16px</span>;
<span style="color: #008080;">  5</span> <span style="color: #ff0000;">    background</span>:<span style="color: #0000ff;"> #CDCDCD</span>;
<span style="color: #008080;">  6</span> }
<span style="color: #008080;">  7</span> 
<span style="color: #008080;">  8</span> <span style="color: #800000;">header </span>{
<span style="color: #008080;">  9</span> <span style="color: #ff0000;">    height</span>:<span style="color: #0000ff;"> 50px</span>;
<span style="color: #008080;"> 10</span> <span style="color: #ff0000;">    background</span>:<span style="color: #0000ff;"> #333</span>;
<span style="color: #008080;"> 11</span> <span style="color: #ff0000;">    background</span>:<span style="color: #0000ff;"> rgba(47, 47, 47, 0.98)</span>;
<span style="color: #008080;"> 12</span> }
<span style="color: #008080;"> 13</span> 
<span style="color: #008080;"> 14</span> <span style="color: #800000;">section </span>{
<span style="color: #008080;"> 15</span> <span style="color: #ff0000;">    margin</span>:<span style="color: #0000ff;"> 0 auto</span>;
<span style="color: #008080;"> 16</span> }
<span style="color: #008080;"> 17</span> 
<span style="color: #008080;"> 18</span> <span style="color: #800000;">label </span>{
<span style="color: #008080;"> 19</span> <span style="color: #ff0000;">    float</span>:<span style="color: #0000ff;"> left</span>;
<span style="color: #008080;"> 20</span> <span style="color: #ff0000;">    width</span>:<span style="color: #0000ff;"> 100px</span>;
<span style="color: #008080;"> 21</span> <span style="color: #ff0000;">    line-height</span>:<span style="color: #0000ff;"> 50px</span>;
<span style="color: #008080;"> 22</span> <span style="color: #ff0000;">    color</span>:<span style="color: #0000ff;"> #DDD</span>;
<span style="color: #008080;"> 23</span> <span style="color: #ff0000;">    font-size</span>:<span style="color: #0000ff;"> 24px</span>;
<span style="color: #008080;"> 24</span> <span style="color: #ff0000;">    cursor</span>:<span style="color: #0000ff;"> pointer</span>;
<span style="color: #008080;"> 25</span> <span style="color: #ff0000;">    font-family</span>:<span style="color: #0000ff;"> "Helvetica Neue", Helvetica, Arial, sans-serif</span>;
<span style="color: #008080;"> 26</span> }
<span style="color: #008080;"> 27</span> 
<span style="color: #008080;"> 28</span> <span style="color: #800000;">header input </span>{
<span style="color: #008080;"> 29</span> <span style="color: #ff0000;">    float</span>:<span style="color: #0000ff;"> right</span>;
<span style="color: #008080;"> 30</span> <span style="color: #ff0000;">    width</span>:<span style="color: #0000ff;"> 60%</span>;
<span style="color: #008080;"> 31</span> <span style="color: #ff0000;">    height</span>:<span style="color: #0000ff;"> 24px</span>;
<span style="color: #008080;"> 32</span> <span style="color: #ff0000;">    margin-top</span>:<span style="color: #0000ff;"> 12px</span>;
<span style="color: #008080;"> 33</span> <span style="color: #ff0000;">    text-indent</span>:<span style="color: #0000ff;"> 10px</span>;
<span style="color: #008080;"> 34</span> <span style="color: #ff0000;">    border-radius</span>:<span style="color: #0000ff;"> 5px</span>;
<span style="color: #008080;"> 35</span> <span style="color: #ff0000;">    box-shadow</span>:<span style="color: #0000ff;"> 0 1px 0 rgba(255, 255, 255, 0.24), 0 1px 6px rgba(0, 0, 0, 0.45) inset</span>;
<span style="color: #008080;"> 36</span> <span style="color: #ff0000;">    border</span>:<span style="color: #0000ff;"> none
</span><span style="color: #008080;"> 37</span> }
<span style="color: #008080;"> 38</span> 
<span style="color: #008080;"> 39</span> <span style="color: #800000;">input:focus </span>{
<span style="color: #008080;"> 40</span> <span style="color: #ff0000;">    outline-width</span>:<span style="color: #0000ff;"> 0
</span><span style="color: #008080;"> 41</span> }
<span style="color: #008080;"> 42</span> 
<span style="color: #008080;"> 43</span> <span style="color: #800000;">h2 </span>{
<span style="color: #008080;"> 44</span> <span style="color: #ff0000;">    position</span>:<span style="color: #0000ff;"> relative</span>;
<span style="color: #008080;"> 45</span> }
<span style="color: #008080;"> 46</span> 
<span style="color: #008080;"> 47</span> <span style="color: #800000;">span </span>{
<span style="color: #008080;"> 48</span> <span style="color: #ff0000;">    position</span>:<span style="color: #0000ff;"> absolute</span>;
<span style="color: #008080;"> 49</span> <span style="color: #ff0000;">    top</span>:<span style="color: #0000ff;"> 2px</span>;
<span style="color: #008080;"> 50</span> <span style="color: #ff0000;">    right</span>:<span style="color: #0000ff;"> 5px</span>;
<span style="color: #008080;"> 51</span> <span style="color: #ff0000;">    display</span>:<span style="color: #0000ff;"> inline-block</span>;
<span style="color: #008080;"> 52</span> <span style="color: #ff0000;">    padding</span>:<span style="color: #0000ff;"> 0 5px</span>;
<span style="color: #008080;"> 53</span> <span style="color: #ff0000;">    height</span>:<span style="color: #0000ff;"> 20px</span>;
<span style="color: #008080;"> 54</span> <span style="color: #ff0000;">    border-radius</span>:<span style="color: #0000ff;"> 20px</span>;
<span style="color: #008080;"> 55</span> <span style="color: #ff0000;">    background</span>:<span style="color: #0000ff;"> #E6E6FA</span>;
<span style="color: #008080;"> 56</span> <span style="color: #ff0000;">    line-height</span>:<span style="color: #0000ff;"> 22px</span>;
<span style="color: #008080;"> 57</span> <span style="color: #ff0000;">    text-align</span>:<span style="color: #0000ff;"> center</span>;
<span style="color: #008080;"> 58</span> <span style="color: #ff0000;">    color</span>:<span style="color: #0000ff;"> #666</span>;
<span style="color: #008080;"> 59</span> <span style="color: #ff0000;">    font-size</span>:<span style="color: #0000ff;"> 14px</span>;
<span style="color: #008080;"> 60</span> }
<span style="color: #008080;"> 61</span> 
<span style="color: #008080;"> 62</span> <span style="color: #800000;">ol,
</span><span style="color: #008080;"> 63</span> <span style="color: #800000;">ul </span>{
<span style="color: #008080;"> 64</span> <span style="color: #ff0000;">    padding</span>:<span style="color: #0000ff;"> 0</span>;
<span style="color: #008080;"> 65</span> <span style="color: #ff0000;">    list-style</span>:<span style="color: #0000ff;"> none</span>;
<span style="color: #008080;"> 66</span> }
<span style="color: #008080;"> 67</span> 
<span style="color: #008080;"> 68</span> <span style="color: #800000;">li input </span>{
<span style="color: #008080;"> 69</span> <span style="color: #ff0000;">    position</span>:<span style="color: #0000ff;"> absolute</span>;
<span style="color: #008080;"> 70</span> <span style="color: #ff0000;">    top</span>:<span style="color: #0000ff;"> 2px</span>;
<span style="color: #008080;"> 71</span> <span style="color: #ff0000;">    left</span>:<span style="color: #0000ff;"> 10px</span>;
<span style="color: #008080;"> 72</span> <span style="color: #ff0000;">    width</span>:<span style="color: #0000ff;"> 22px</span>;
<span style="color: #008080;"> 73</span> <span style="color: #ff0000;">    height</span>:<span style="color: #0000ff;"> 22px</span>;
<span style="color: #008080;"> 74</span> <span style="color: #ff0000;">    cursor</span>:<span style="color: #0000ff;"> pointer</span>;
<span style="color: #008080;"> 75</span> }
<span style="color: #008080;"> 76</span> 
<span style="color: #008080;"> 77</span> <span style="color: #800000;">p </span>{
<span style="color: #008080;"> 78</span> <span style="color: #ff0000;">    margin</span>:<span style="color: #0000ff;"> 0</span>;
<span style="color: #008080;"> 79</span> }
<span style="color: #008080;"> 80</span> 
<span style="color: #008080;"> 81</span> <span style="color: #800000;">li p input </span>{
<span style="color: #008080;"> 82</span> <span style="color: #ff0000;">    top</span>:<span style="color: #0000ff;"> 3px</span>;
<span style="color: #008080;"> 83</span> <span style="color: #ff0000;">    left</span>:<span style="color: #0000ff;"> 40px</span>;
<span style="color: #008080;"> 84</span> <span style="color: #ff0000;">    width</span>:<span style="color: #0000ff;"> 70%</span>;
<span style="color: #008080;"> 85</span> <span style="color: #ff0000;">    height</span>:<span style="color: #0000ff;"> 20px</span>;
<span style="color: #008080;"> 86</span> <span style="color: #ff0000;">    line-height</span>:<span style="color: #0000ff;"> 14px</span>;
<span style="color: #008080;"> 87</span> <span style="color: #ff0000;">    text-indent</span>:<span style="color: #0000ff;"> 5px</span>;
<span style="color: #008080;"> 88</span> <span style="color: #ff0000;">    font-size</span>:<span style="color: #0000ff;"> 14px</span>;
<span style="color: #008080;"> 89</span> }
<span style="color: #008080;"> 90</span> 
<span style="color: #008080;"> 91</span> <span style="color: #800000;">li </span>{
<span style="color: #008080;"> 92</span> <span style="color: #ff0000;">    height</span>:<span style="color: #0000ff;"> 32px</span>;
<span style="color: #008080;"> 93</span> <span style="color: #ff0000;">    line-height</span>:<span style="color: #0000ff;"> 32px</span>;
<span style="color: #008080;"> 94</span> <span style="color: #ff0000;">    background</span>:<span style="color: #0000ff;"> #fff</span>;
<span style="color: #008080;"> 95</span> <span style="color: #ff0000;">    position</span>:<span style="color: #0000ff;"> relative</span>;
<span style="color: #008080;"> 96</span> <span style="color: #ff0000;">    margin-bottom</span>:<span style="color: #0000ff;"> 10px</span>;
<span style="color: #008080;"> 97</span> <span style="color: #ff0000;">    padding</span>:<span style="color: #0000ff;"> 0 45px</span>;
<span style="color: #008080;"> 98</span> <span style="color: #ff0000;">    border-radius</span>:<span style="color: #0000ff;"> 3px</span>;
<span style="color: #008080;"> 99</span> <span style="color: #ff0000;">    border-left</span>:<span style="color: #0000ff;"> 5px solid #629A9C</span>;
<span style="color: #008080;">100</span> <span style="color: #ff0000;">    box-shadow</span>:<span style="color: #0000ff;"> 0 1px 2px rgba(0, 0, 0, 0.07)</span>;
<span style="color: #008080;">101</span> }
<span style="color: #008080;">102</span> 
<span style="color: #008080;">103</span> <span style="color: #800000;">ol li </span>{
<span style="color: #008080;">104</span> <span style="color: #ff0000;">    cursor</span>:<span style="color: #0000ff;"> move</span>;
<span style="color: #008080;">105</span> }
<span style="color: #008080;">106</span> 
<span style="color: #008080;">107</span> <span style="color: #800000;">ul li </span>{
<span style="color: #008080;">108</span> <span style="color: #ff0000;">    border-left</span>:<span style="color: #0000ff;"> 5px solid #999</span>;
<span style="color: #008080;">109</span> <span style="color: #ff0000;">    opacity</span>:<span style="color: #0000ff;"> 0.5</span>;
<span style="color: #008080;">110</span> }
<span style="color: #008080;">111</span> 
<span style="color: #008080;">112</span> <span style="color: #800000;">li a </span>{
<span style="color: #008080;">113</span> <span style="color: #ff0000;">    position</span>:<span style="color: #0000ff;"> absolute</span>;
<span style="color: #008080;">114</span> <span style="color: #ff0000;">    top</span>:<span style="color: #0000ff;"> 2px</span>;
<span style="color: #008080;">115</span> <span style="color: #ff0000;">    right</span>:<span style="color: #0000ff;"> 5px</span>;
<span style="color: #008080;">116</span> <span style="color: #ff0000;">    display</span>:<span style="color: #0000ff;"> inline-block</span>;
<span style="color: #008080;">117</span> <span style="color: #ff0000;">    width</span>:<span style="color: #0000ff;"> 14px</span>;
<span style="color: #008080;">118</span> <span style="color: #ff0000;">    height</span>:<span style="color: #0000ff;"> 12px</span>;
<span style="color: #008080;">119</span> <span style="color: #ff0000;">    border-radius</span>:<span style="color: #0000ff;"> 14px</span>;
<span style="color: #008080;">120</span> <span style="color: #ff0000;">    border</span>:<span style="color: #0000ff;"> 6px double #FFF</span>;
<span style="color: #008080;">121</span> <span style="color: #ff0000;">    background</span>:<span style="color: #0000ff;"> #CCC</span>;
<span style="color: #008080;">122</span> <span style="color: #ff0000;">    line-height</span>:<span style="color: #0000ff;"> 14px</span>;
<span style="color: #008080;">123</span> <span style="color: #ff0000;">    text-align</span>:<span style="color: #0000ff;"> center</span>;
<span style="color: #008080;">124</span> <span style="color: #ff0000;">    color</span>:<span style="color: #0000ff;"> #FFF</span>;
<span style="color: #008080;">125</span> <span style="color: #ff0000;">    font-weight</span>:<span style="color: #0000ff;"> bold</span>;
<span style="color: #008080;">126</span> <span style="color: #ff0000;">    font-size</span>:<span style="color: #0000ff;"> 14px</span>;
<span style="color: #008080;">127</span> <span style="color: #ff0000;">    cursor</span>:<span style="color: #0000ff;"> pointer</span>;
<span style="color: #008080;">128</span> }
<span style="color: #008080;">129</span> 
<span style="color: #008080;">130</span> <span style="color: #800000;">footer </span>{
<span style="color: #008080;">131</span> <span style="color: #ff0000;">    color</span>:<span style="color: #0000ff;"> #666</span>;
<span style="color: #008080;">132</span> <span style="color: #ff0000;">    font-size</span>:<span style="color: #0000ff;"> 14px</span>;
<span style="color: #008080;">133</span> <span style="color: #ff0000;">    text-align</span>:<span style="color: #0000ff;"> center</span>;
<span style="color: #008080;">134</span> }
<span style="color: #008080;">135</span> 
<span style="color: #008080;">136</span> <span style="color: #800000;">footer a </span>{
<span style="color: #008080;">137</span> <span style="color: #ff0000;">    color</span>:<span style="color: #0000ff;"> #666</span>;
<span style="color: #008080;">138</span> <span style="color: #ff0000;">    text-decoration</span>:<span style="color: #0000ff;"> none</span>;
<span style="color: #008080;">139</span> <span style="color: #ff0000;">    color</span>:<span style="color: #0000ff;"> #999</span>;
<span style="color: #008080;">140</span> }
<span style="color: #008080;">141</span> 
<span style="color: #008080;">142</span> <span style="color: #800000;">@media screen and (max-device-width: 620px) </span>{
<span style="color: #008080;">143</span> <span style="color: #ff0000;">    section {
</span><span style="color: #008080;">144</span> <span style="color: #ff0000;">        width</span>:<span style="color: #0000ff;"> 96%</span>;
<span style="color: #008080;">145</span> <span style="color: #ff0000;">        padding</span>:<span style="color: #0000ff;"> 0 2%</span>;
<span style="color: #008080;">146</span>     }
<span style="color: #008080;">147</span> <span style="color: #800000;">}
</span><span style="color: #008080;">148</span> 
<span style="color: #008080;">149</span> <span style="color: #800000;">@media screen and (min-width: 620px) </span>{
<span style="color: #008080;">150</span> <span style="color: #ff0000;">    section {
</span><span style="color: #008080;">151</span> <span style="color: #ff0000;">        width</span>:<span style="color: #0000ff;"> 600px</span>;
<span style="color: #008080;">152</span> <span style="color: #ff0000;">        padding</span>:<span style="color: #0000ff;"> 0 10px</span>;
<span style="color: #008080;">153</span>     }
<span style="color: #008080;">154</span> <span style="color: #800000;">}</span></pre>
</div>
<span class="cnblogs_code_collapse">index.css</span></div>
<p>&nbsp;</p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">接下来开始写我们自己的js代码</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">将多次使用的代码封装成函数，方便使用</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">①获取本地存储的数据。如果本地有数据则直接获取过来，没有数据的话就返回一个空数组</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;">1</span> <span style="color: #0000ff;">function</span><span style="color: #000000;"> getDate() {
</span><span style="color: #008080;">2</span>     <span style="color: #0000ff;">var</span> data = localStorage.getItem("todolist");   <span style="color: #008000;">//</span><span style="color: #008000;"> 将获取到的数据赋给data</span>
<span style="color: #008080;">3</span>     <span style="color: #0000ff;">if</span>(data !== <span style="color: #0000ff;">null</span>) {     <span style="color: #008000;">//</span><span style="color: #008000;"> 如果本地有数据，则返回数据</span>
<span style="color: #008080;">4</span>         <span style="color: #0000ff;">return</span> JSON.parse(data);  <span style="color: #008000;">//</span><span style="color: #008000;"> 本地存储只能存储字符串，所以要想获取里边的数据就必须将字符串转换为数组形式返回</span>
<span style="color: #008080;">5</span>     } <span style="color: #0000ff;">else</span><span style="color: #000000;"> { 
</span><span style="color: #008080;">6</span>         <span style="color: #0000ff;">return</span> [];   <span style="color: #008000;">//</span><span style="color: #008000;"> 如果本地没有数据，则返回一个空数组</span>
<span style="color: #008080;">7</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">8</span> }</pre>
</div>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">②保存本地存储数据</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;">1</span> <span style="color: #0000ff;">function</span><span style="color: #000000;"> saveDate(data) {
</span><span style="color: #008080;">2</span>     <span style="color: #008000;">//</span><span style="color: #008000;"> 用JSON.stringify()将数组转化成字符串保存到本地存储</span>
<span style="color: #008080;">3</span>     localStorage.setItem("todolist"<span style="color: #000000;">, JSON.stringify(data));
</span><span style="color: #008080;">4</span> }</pre>
</div>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">③渲染页面 加载数据</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">先将本地存储数据获取过来；将他们遍历（遍历之前先将列表清空），看他们是否已经被完成（通过数组里我们自己添加的done的值为true还是false来判断），如果已经被完成则添加到ul列表，否则添加进ol列表里；同时声明两个变量来保存已完成和未完成事项的个数</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">function</span><span style="color: #000000;"> load() {
</span><span style="color: #008080;"> 2</span>     <span style="color: #0000ff;">var</span> data = getDate();    <span style="color: #008000;">//</span><span style="color: #008000;"> 先获取本地存储数据</span>
<span style="color: #008080;"> 3</span> 
<span style="color: #008080;"> 4</span>     <span style="color: #008000;">//</span><span style="color: #008000;"> 遍历本地存储数据 将他们添加到列表中</span>
<span style="color: #008080;"> 5</span>     $("ol, ul").empty();   <span style="color: #008000;">//</span><span style="color: #008000;"> 遍历之前先清空列表</span>
<span style="color: #008080;"> 6</span>     <span style="color: #0000ff;">var</span> doneCount = 0;  <span style="color: #008000;">//</span><span style="color: #008000;"> 已经完成的个数</span>
<span style="color: #008080;"> 7</span>     <span style="color: #0000ff;">var</span> todoCount = 0;  <span style="color: #008000;">//</span><span style="color: #008000;"> 正在进行的个数</span>
<span style="color: #008080;"> 8</span>     $.each(data, <span style="color: #0000ff;">function</span>(i, ele) {    <span style="color: #008000;">//</span><span style="color: #008000;"> i为索引 ele为遍历对象</span>
<span style="color: #008080;"> 9</span>         <span style="color: #008000;">//</span><span style="color: #008000;"> 如果复选框被选中（已完成done: true）添加到ul里，未被选中（未完成done: false）添加到ol里</span>
<span style="color: #008080;">10</span>         <span style="color: #0000ff;">if</span><span style="color: #000000;">(ele.done) {
</span><span style="color: #008080;">11</span>             $("ul").prepend("&lt;li&gt;&lt;input type='checkbox' checked='checked' &gt; &lt;p&gt;" + ele.title + "&lt;/p&gt; &lt;a href='javascript:;' index=" + i + "&gt;&lt;/a&gt;&lt;/li&gt;"<span style="color: #000000;">);
</span><span style="color: #008080;">12</span>             doneCount++;  <span style="color: #008000;">//</span><span style="color: #008000;"> 每添加一个li，已完成数加一</span>
<span style="color: #008080;">13</span>         } <span style="color: #0000ff;">else</span><span style="color: #000000;"> {
</span><span style="color: #008080;">14</span>             $("ol").prepend("&lt;li&gt;&lt;input type='checkbox'&gt; &lt;p&gt;" + ele.title + "&lt;/p&gt; &lt;a href='javascript:;' index=" + i + "&gt;&lt;/a&gt;&lt;/li&gt;"<span style="color: #000000;">);
</span><span style="color: #008080;">15</span>             todoCount++<span style="color: #000000;">;
</span><span style="color: #008080;">16</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">17</span> <span style="color: #000000;">    })
</span><span style="color: #008080;">18</span>     $("#donecount"<span style="color: #000000;">).text(doneCount);
</span><span style="color: #008080;">19</span>     $("#todocount"<span style="color: #000000;">).text(todoCount);
</span><span style="color: #008080;">20</span> }</pre>
</div>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">1. 用户输入待办事项按下回车，将事项添加进列表</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">给文本框绑定键盘按下事件，通过ASCII值来判断用户是否按下了回车（回车的ASCII值为13）；</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">不能直接在本地存储里更改数据，所以要先获取数据（数组形式），把数组进行更新数据（把最新数据追加给数组），再保存到本地存储；</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">然后对页面进行重新渲染 更新数据</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> load();   <span style="color: #008000;">//</span><span style="color: #008000;"> 第一步先渲染页面，不然一开始刷新页面时列表不显示</span>
<span style="color: #008080;"> 2</span> $("#title").on("keydown", <span style="color: #0000ff;">function</span><span style="color: #000000;">(event) {
</span><span style="color: #008080;"> 3</span>     <span style="color: #0000ff;">if</span>(event.keyCode === 13<span style="color: #000000;">) {
</span><span style="color: #008080;"> 4</span>         <span style="color: #0000ff;">if</span>($(<span style="color: #0000ff;">this</span>).val().trim() !== "") {  <span style="color: #008000;">//</span><span style="color: #008000;"> trim()去除字符串两侧空格</span>
<span style="color: #008080;"> 5</span>             <span style="color: #0000ff;">var</span> data = getDate();       <span style="color: #008000;">//</span><span style="color: #008000;"> 获取本地存储数据</span>
<span style="color: #008080;"> 6</span>             <span style="color: #008000;">//</span><span style="color: #008000;"> 把数组进行更新数据，把最新数据追加给数组</span>
<span style="color: #008080;"> 7</span>             data.push({title: $(<span style="color: #0000ff;">this</span>).val(), done: <span style="color: #0000ff;">false</span><span style="color: #000000;">});
</span><span style="color: #008080;"> 8</span>             saveDate(data);      <span style="color: #008000;">//</span><span style="color: #008000;"> 保存到本地存储</span>
<span style="color: #008080;"> 9</span>             load();              <span style="color: #008000;">//</span><span style="color: #008000;"> 渲染加载到页面</span>
<span style="color: #008080;">10</span>             $(<span style="color: #0000ff;">this</span>).val(""<span style="color: #000000;">);
</span><span style="color: #008080;">11</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">12</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">13</span> })</pre>
</div>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">2. 删除待办事项</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">先获取本地存储数据；</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">用attr获取自定义属性index（索引）得到用户点击的第几个事项，通过索引删除数组里对应的那组数据；</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">将更新过的数组保存到本地存储 再渲染给页面</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;">1</span> $("ol, ul").on("click", "a", <span style="color: #0000ff;">function</span><span style="color: #000000;">() {
</span><span style="color: #008080;">2</span>     <span style="color: #0000ff;">var</span> data = getDate();    <span style="color: #008000;">//</span><span style="color: #008000;"> 获取本地数据（data是局部变量，不用担心冲突）</span>
<span style="color: #008080;">3</span>     <span style="color: #0000ff;">var</span> index = $(<span style="color: #0000ff;">this</span>).attr("index");   <span style="color: #008000;">//</span><span style="color: #008000;"> 用attr获取自定义属性index，得到索引</span>
<span style="color: #008080;">4</span>     <span style="color: #008000;">//</span><span style="color: #008000;"> splice(index, num)删除数组对象  index为开始删除的位置，num为删除几个</span>
<span style="color: #008080;">5</span>     data.splice(index, 1<span style="color: #000000;">);
</span><span style="color: #008080;">6</span> <span style="color: #000000;">    saveDate(data);
</span><span style="color: #008080;">7</span> <span style="color: #000000;">    load();
</span><span style="color: #008080;">8</span> })</pre>
</div>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">3. 用户点击复选框来选择事项已完成或未完成</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">获取本地存储数据；</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">通过复选框的兄弟a的index属性来获取用户点击的事项的索引（index），将第index个数据的done属性值修改为复选框的值；</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">将更新过的数组保存到本地存储 再渲染给页面</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;">1</span> $("ol, ul").on("click", "input", <span style="color: #0000ff;">function</span><span style="color: #000000;">() {
</span><span style="color: #008080;">2</span>     <span style="color: #0000ff;">var</span> data =<span style="color: #000000;"> getDate();
</span><span style="color: #008080;">3</span>     <span style="color: #008000;">//</span><span style="color: #008000;"> 利用a获取用户点击的第几个复选框</span>
<span style="color: #008080;">4</span>     <span style="color: #0000ff;">var</span> index = $(<span style="color: #0000ff;">this</span>).siblings("a").attr("index"<span style="color: #000000;">);
</span><span style="color: #008080;">5</span>     <span style="color: #008000;">//</span><span style="color: #008000;"> 修改数据：data[索引].属性名  获取固有属性用prop</span>
<span style="color: #008080;">6</span>     data[index].done = $(<span style="color: #0000ff;">this</span>).prop("checked"<span style="color: #000000;">);
</span><span style="color: #008080;">7</span> <span style="color: #000000;">    saveDate(data);
</span><span style="color: #008080;">8</span> <span style="color: #000000;">    load();
</span><span style="color: #008080;">9</span> })</pre>
</div>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">&nbsp;4. 用户可以通过双击事项进行修改</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">获取本地存储数据；通过a获取索引index；</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">在p里创建一个文本框，把p原来的内容赋给文本框，并让其为选中状态；</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">当文本框失去焦点或用户点击回车，将修改后的内容给当前数组对象的title属性；</span></p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 15px;">将更新过的数组保存到本地存储 再渲染给页面</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> $("ol, ul").on("dblclick", "p", <span style="color: #0000ff;">function</span><span style="color: #000000;">() {
</span><span style="color: #008080;"> 2</span>     <span style="color: #0000ff;">var</span> data =<span style="color: #000000;"> getDate();
</span><span style="color: #008080;"> 3</span>     <span style="color: #0000ff;">var</span> index = $(<span style="color: #0000ff;">this</span>).siblings("a").attr("index"<span style="color: #000000;">);
</span><span style="color: #008080;"> 4</span>     <span style="color: #008000;">//</span><span style="color: #008000;"> 先将p原来的内容获取过来</span>
<span style="color: #008080;"> 5</span>     <span style="color: #0000ff;">var</span> str = $(<span style="color: #0000ff;">this</span><span style="color: #000000;">).text();
</span><span style="color: #008080;"> 6</span>     <span style="color: #008000;">//</span><span style="color: #008000;"> 创建一个文本框，直接添加到p里</span>
<span style="color: #008080;"> 7</span>     $(<span style="color: #0000ff;">this</span>).prepend('&lt;input type="text" /&gt;'<span style="color: #000000;">);
</span><span style="color: #008080;"> 8</span>     <span style="color: #008000;">//</span><span style="color: #008000;"> 将原来内容给文本框，并让其为选中(select)状态</span>
<span style="color: #008080;"> 9</span>     <span style="color: #0000ff;">var</span> input = $(<span style="color: #0000ff;">this</span><span style="color: #000000;">).children();
</span><span style="color: #008080;">10</span> <span style="color: #000000;">    input.val(str);
</span><span style="color: #008080;">11</span> <span style="color: #000000;">    input.select();
</span><span style="color: #008080;">12</span>     <span style="color: #008000;">//</span><span style="color: #008000;"> 当文本框失去焦点，将修改过的文本框的内容给title</span>
<span style="color: #008080;">13</span>     $(input).on("blur", <span style="color: #0000ff;">function</span><span style="color: #000000;">() {
</span><span style="color: #008080;">14</span>         data[index].title =<span style="color: #000000;"> input.val();
</span><span style="color: #008080;">15</span> <span style="color: #000000;">        saveDate(data);
</span><span style="color: #008080;">16</span> <span style="color: #000000;">        load();
</span><span style="color: #008080;">17</span> <span style="color: #000000;">    })
</span><span style="color: #008080;">18</span>     <span style="color: #008000;">//</span><span style="color: #008000;"> 按下回车时保存修改</span>
<span style="color: #008080;">19</span>     $(input).on("keyup", <span style="color: #0000ff;">function</span><span style="color: #000000;">(e) {
</span><span style="color: #008080;">20</span>         <span style="color: #0000ff;">if</span>(e.keyCode === 13) {   <span style="color: #008000;">//</span><span style="color: #008000;"> 回车ASCII值为13</span>
<span style="color: #008080;">21</span>             <span style="color: #008000;">//</span><span style="color: #008000;"> 手动调用点击事件</span>
<span style="color: #008080;">22</span>             <span style="color: #0000ff;">this</span><span style="color: #000000;">.blur();
</span><span style="color: #008080;">23</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">24</span> <span style="color: #000000;">    })
</span><span style="color: #008080;">25</span> })</pre>
</div>
<p>&nbsp;</p>
<p><span style="font-family: 'Microsoft YaHei'; font-size: 14px;">详细JS代码：</span></p>
<div class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> $(<span style="color: #0000ff;">function</span><span style="color: #000000;">() {
</span><span style="color: #008080;"> 2</span>     load();   <span style="color: #008000;">//</span><span style="color: #008000;"> 第一步先渲染页面，不然一开始刷新页面时列表不显示</span>
<span style="color: #008080;"> 3</span>     <span style="color: #008000;">//</span><span style="color: #008000;"> 1、给文本框绑定键盘按下事件</span>
<span style="color: #008080;"> 4</span>     $("#title").on("keydown", <span style="color: #0000ff;">function</span><span style="color: #000000;">(event) {
</span><span style="color: #008080;"> 5</span>         <span style="color: #0000ff;">if</span>(event.keyCode === 13<span style="color: #000000;">) {
</span><span style="color: #008080;"> 6</span>             <span style="color: #0000ff;">if</span>($(<span style="color: #0000ff;">this</span>).val().trim() !== "") {  <span style="color: #008000;">//</span><span style="color: #008000;"> trim()去除字符串两侧空格</span>
<span style="color: #008080;"> 7</span>                 <span style="color: #0000ff;">var</span> data = getDate();       <span style="color: #008000;">//</span><span style="color: #008000;"> 获取本地存储数据</span>
<span style="color: #008080;"> 8</span>                 <span style="color: #008000;">//</span><span style="color: #008000;"> 把数组进行更新数据，把最新数据追加给数组</span>
<span style="color: #008080;"> 9</span>                 data.push({title: $(<span style="color: #0000ff;">this</span>).val(), done: <span style="color: #0000ff;">false</span><span style="color: #000000;">});
</span><span style="color: #008080;">10</span>                 saveDate(data);      <span style="color: #008000;">//</span><span style="color: #008000;"> 保存到本地存储</span>
<span style="color: #008080;">11</span>                 load();              <span style="color: #008000;">//</span><span style="color: #008000;"> 渲染加载到页面</span>
<span style="color: #008080;">12</span>                 $(<span style="color: #0000ff;">this</span>).val(""<span style="color: #000000;">);
</span><span style="color: #008080;">13</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">14</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">15</span> <span style="color: #000000;">    })
</span><span style="color: #008080;">16</span>     <span style="color: #008000;">//</span><span style="color: #008000;">2、删除待办事项</span>
<span style="color: #008080;">17</span>     $("ol, ul").on("click", "a", <span style="color: #0000ff;">function</span><span style="color: #000000;">() {
</span><span style="color: #008080;">18</span>         <span style="color: #0000ff;">var</span> data = getDate();    <span style="color: #008000;">//</span><span style="color: #008000;"> 获取本地数据（data是局部变量，不用担心冲突）</span>
<span style="color: #008080;">19</span>         <span style="color: #0000ff;">var</span> index = $(<span style="color: #0000ff;">this</span>).attr("index");   <span style="color: #008000;">//</span><span style="color: #008000;"> 用attr获取自定义属性index，得到索引</span>
<span style="color: #008080;">20</span>         <span style="color: #008000;">//</span><span style="color: #008000;"> splice(index, num)删除数组对象  index为开始删除的位置，num为删除几个</span>
<span style="color: #008080;">21</span>         data.splice(index, 1<span style="color: #000000;">);
</span><span style="color: #008080;">22</span> <span style="color: #000000;">        saveDate(data);
</span><span style="color: #008080;">23</span> <span style="color: #000000;">        load();
</span><span style="color: #008080;">24</span> <span style="color: #000000;">    })
</span><span style="color: #008080;">25</span>     <span style="color: #008000;">//</span><span style="color: #008000;">3、正在进行和已完成</span>
<span style="color: #008080;">26</span>     $("ol, ul").on("click", "input", <span style="color: #0000ff;">function</span><span style="color: #000000;">() {
</span><span style="color: #008080;">27</span>         <span style="color: #0000ff;">var</span> data =<span style="color: #000000;"> getDate();
</span><span style="color: #008080;">28</span>         <span style="color: #008000;">//</span><span style="color: #008000;"> 利用a获取用户点击的第几个复选框</span>
<span style="color: #008080;">29</span>         <span style="color: #0000ff;">var</span> index = $(<span style="color: #0000ff;">this</span>).siblings("a").attr("index"<span style="color: #000000;">);
</span><span style="color: #008080;">30</span>         <span style="color: #008000;">//</span><span style="color: #008000;"> 修改数据：data[索引].属性名  获取固有属性用prop</span>
<span style="color: #008080;">31</span>         data[index].done = $(<span style="color: #0000ff;">this</span>).prop("checked"<span style="color: #000000;">);
</span><span style="color: #008080;">32</span> <span style="color: #000000;">        saveDate(data);
</span><span style="color: #008080;">33</span> <span style="color: #000000;">        load();
</span><span style="color: #008080;">34</span> <span style="color: #000000;">    })
</span><span style="color: #008080;">35</span>     <span style="color: #008000;">//</span><span style="color: #008000;"> 4、修改事项</span>
<span style="color: #008080;">36</span>     $("ol, ul").on("dblclick", "p", <span style="color: #0000ff;">function</span><span style="color: #000000;">() {
</span><span style="color: #008080;">37</span>         <span style="color: #0000ff;">var</span> data =<span style="color: #000000;"> getDate();
</span><span style="color: #008080;">38</span>         <span style="color: #0000ff;">var</span> index = $(<span style="color: #0000ff;">this</span>).siblings("a").attr("index"<span style="color: #000000;">);
</span><span style="color: #008080;">39</span>         <span style="color: #008000;">//</span><span style="color: #008000;"> 先将p原来的内容获取过来</span>
<span style="color: #008080;">40</span>         <span style="color: #0000ff;">var</span> str = $(<span style="color: #0000ff;">this</span><span style="color: #000000;">).text();
</span><span style="color: #008080;">41</span>         <span style="color: #008000;">//</span><span style="color: #008000;"> 创建一个文本框，直接添加到p里</span>
<span style="color: #008080;">42</span>         $(<span style="color: #0000ff;">this</span>).prepend('&lt;input type="text" /&gt;'<span style="color: #000000;">);
</span><span style="color: #008080;">43</span>         <span style="color: #008000;">//</span><span style="color: #008000;"> 将原来内容给文本框，并让其为选中(select)状态</span>
<span style="color: #008080;">44</span>         <span style="color: #0000ff;">var</span> input = $(<span style="color: #0000ff;">this</span><span style="color: #000000;">).children();
</span><span style="color: #008080;">45</span> <span style="color: #000000;">        input.val(str);
</span><span style="color: #008080;">46</span> <span style="color: #000000;">        input.select();
</span><span style="color: #008080;">47</span>         <span style="color: #008000;">//</span><span style="color: #008000;"> 当文本框失去焦点，将修改过的文本框的内容给title</span>
<span style="color: #008080;">48</span>         $(input).on("blur", <span style="color: #0000ff;">function</span><span style="color: #000000;">() {
</span><span style="color: #008080;">49</span>             data[index].title =<span style="color: #000000;"> input.val();
</span><span style="color: #008080;">50</span> <span style="color: #000000;">            saveDate(data);
</span><span style="color: #008080;">51</span> <span style="color: #000000;">            load();
</span><span style="color: #008080;">52</span> <span style="color: #000000;">        })
</span><span style="color: #008080;">53</span>         <span style="color: #008000;">//</span><span style="color: #008000;"> 按下回车也可以保存修改</span>
<span style="color: #008080;">54</span>         $(input).on("keyup", <span style="color: #0000ff;">function</span><span style="color: #000000;">(e) {
</span><span style="color: #008080;">55</span>             <span style="color: #0000ff;">if</span>(e.keyCode === 13) {   <span style="color: #008000;">//</span><span style="color: #008000;"> 回车ASCII值为13</span>
<span style="color: #008080;">56</span>                 <span style="color: #008000;">//</span><span style="color: #008000;"> 手动调用点击事件</span>
<span style="color: #008080;">57</span>                 <span style="color: #0000ff;">this</span><span style="color: #000000;">.blur();
</span><span style="color: #008080;">58</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">59</span> <span style="color: #000000;">        })
</span><span style="color: #008080;">60</span> <span style="color: #000000;">    })
</span><span style="color: #008080;">61</span>     <span style="color: #008000;">//</span><span style="color: #008000;"> 获取本地存储数据</span>
<span style="color: #008080;">62</span>     <span style="color: #0000ff;">function</span><span style="color: #000000;"> getDate() {
</span><span style="color: #008080;">63</span>         <span style="color: #0000ff;">var</span> data = localStorage.getItem("todolist");   <span style="color: #008000;">//</span><span style="color: #008000;"> 将获取到的数据赋给data</span>
<span style="color: #008080;">64</span>         <span style="color: #0000ff;">if</span>(data !== <span style="color: #0000ff;">null</span>) {     <span style="color: #008000;">//</span><span style="color: #008000;"> 如果本地有数据，则返回数据</span>
<span style="color: #008080;">65</span>             <span style="color: #0000ff;">return</span> JSON.parse(data);  <span style="color: #008000;">//</span><span style="color: #008000;"> 本地存储只能存储字符串，所以要获取里边的数据就必须将字符串转换为数组形式返回</span>
<span style="color: #008080;">66</span>         } <span style="color: #0000ff;">else</span><span style="color: #000000;"> { 
</span><span style="color: #008080;">67</span>             <span style="color: #0000ff;">return</span> [];   <span style="color: #008000;">//</span><span style="color: #008000;"> 如果本地没有数据，则返回一个空数组</span>
<span style="color: #008080;">68</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">69</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">70</span>     <span style="color: #008000;">//</span><span style="color: #008000;"> 保存本地存储数据</span>
<span style="color: #008080;">71</span>     <span style="color: #0000ff;">function</span><span style="color: #000000;"> saveDate(data) {
</span><span style="color: #008080;">72</span>         <span style="color: #008000;">//</span><span style="color: #008000;"> 用JSON.stringify()将数组转化成字符串保存到本地存储</span>
<span style="color: #008080;">73</span>         localStorage.setItem("todolist"<span style="color: #000000;">, JSON.stringify(data));
</span><span style="color: #008080;">74</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">75</span>     <span style="color: #008000;">//</span><span style="color: #008000;"> 渲染加载数据</span>
<span style="color: #008080;">76</span>     <span style="color: #0000ff;">function</span><span style="color: #000000;"> load() {
</span><span style="color: #008080;">77</span>         <span style="color: #0000ff;">var</span> data = getDate();    <span style="color: #008000;">//</span><span style="color: #008000;"> 先获取本地存储数据</span>
<span style="color: #008080;">78</span> 
<span style="color: #008080;">79</span>         <span style="color: #008000;">//</span><span style="color: #008000;"> 遍历本地存储数据 将他们添加到列表中</span>
<span style="color: #008080;">80</span>         $("ol, ul").empty();   <span style="color: #008000;">//</span><span style="color: #008000;"> 遍历之前先清空列表</span>
<span style="color: #008080;">81</span>         <span style="color: #0000ff;">var</span> doneCount = 0;  <span style="color: #008000;">//</span><span style="color: #008000;"> 已经完成的个数</span>
<span style="color: #008080;">82</span>         <span style="color: #0000ff;">var</span> todoCount = 0;  <span style="color: #008000;">//</span><span style="color: #008000;"> 正在进行的个数</span>
<span style="color: #008080;">83</span>         $.each(data, <span style="color: #0000ff;">function</span>(i, ele) {    <span style="color: #008000;">//</span><span style="color: #008000;"> i为索引 ele为遍历对象</span>
<span style="color: #008080;">84</span>             <span style="color: #008000;">//</span><span style="color: #008000;"> 如果复选框被选中（已完成done: true）添加到ul里，未被选中（未完成done: false）添加到ol里</span>
<span style="color: #008080;">85</span>             <span style="color: #0000ff;">if</span><span style="color: #000000;">(ele.done) {
</span><span style="color: #008080;">86</span>                 $("ul").prepend("&lt;li&gt;&lt;input type='checkbox' checked='checked' &gt; &lt;p&gt;" + ele.title + "&lt;/p&gt; &lt;a href='javascript:;' index=" + i + "&gt;&lt;/a&gt;&lt;/li&gt;"<span style="color: #000000;">);
</span><span style="color: #008080;">87</span>                 doneCount++;  <span style="color: #008000;">//</span><span style="color: #008000;"> 每添加一个li，已完成数加一</span>
<span style="color: #008080;">88</span>             } <span style="color: #0000ff;">else</span><span style="color: #000000;"> {
</span><span style="color: #008080;">89</span>                 $("ol").prepend("&lt;li&gt;&lt;input type='checkbox'&gt; &lt;p&gt;" + ele.title + "&lt;/p&gt; &lt;a href='javascript:;' index=" + i + "&gt;&lt;/a&gt;&lt;/li&gt;"<span style="color: #000000;">);
</span><span style="color: #008080;">90</span>                 todoCount++<span style="color: #000000;">;
</span><span style="color: #008080;">91</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">92</span> <span style="color: #000000;">        })
</span><span style="color: #008080;">93</span>         $("#donecount"<span style="color: #000000;">).text(doneCount);
</span><span style="color: #008080;">94</span>         $("#todocount"<span style="color: #000000;">).text(todoCount);
</span><span style="color: #008080;">95</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">96</span> })</pre>
</div>
<p>&nbsp;</p>
</div>
</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>